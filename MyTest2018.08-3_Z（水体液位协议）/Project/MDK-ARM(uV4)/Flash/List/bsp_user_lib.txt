; generated by ARM C/C++ Compiler, 5.03 [Build 76]
; commandline ArmCC [--c99 --list --split_sections --debug -c --asm --interleave -o.\flash\obj\bsp_user_lib.o --asm_dir=.\Flash\List\ --list_dir=.\Flash\List\ --depend=.\flash\obj\bsp_user_lib.d --cpu=Cortex-M3 --apcs=interwork -O0 --diag_suppress=870 -I..\..\Libraries\CMSIS\Device\ST\STM32F10x\Include -I..\..\Libraries\STM32F10x_StdPeriph_Driver\inc -I..\..\User\bsp -I..\..\User\bsp\inc -I..\..\User -I..\..\Libraries\CMSIS\Include -I..\..\RTX\inc -I..\..\RTX\portable -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\Inc\ST\STM32F10x -D__MICROLIB -DUSE_STDPERIPH_DRIVER -DSTM32F10X_HD --omf_browse=.\flash\obj\bsp_user_lib.crf ..\..\User\bsp\src\bsp_user_lib.c]
                          THUMB

                          AREA ||i.Analyze_Gauge||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_f
                          REQUIRE _printf_fp_dec
                  Analyze_Gauge PROC
;;;872    
;;;873    void Analyze_Gauge( u8 tt )
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;874    {
000004  4682              MOV      r10,r0
;;;875    	uint8_t  i;
;;;876    
;;;877    	uint8_t tmpLength,uintCheck;	
;;;878    	
;;;879    	//uint8_t uintSum;
;;;880    	
;;;881    	Com_Type2 = RxBuffer2[0]; 
000006  4877              LDR      r0,|L1.484|
000008  7800              LDRB     r0,[r0,#0]  ; RxBuffer2
00000a  4977              LDR      r1,|L1.488|
00000c  7008              STRB     r0,[r1,#0]
;;;882    
;;;883    	uintCheck = 0;
00000e  2500              MOVS     r5,#0
;;;884    	
;;;885    	tmpLength = Rx_Fra_Len2;
000010  4876              LDR      r0,|L1.492|
000012  7806              LDRB     r6,[r0,#0]  ; Rx_Fra_Len2
;;;886    
;;;887    	for(i = 0;i < tmpLength;i++)
000014  2400              MOVS     r4,#0
000016  e004              B        |L1.34|
                  |L1.24|
;;;888    	{
;;;889    		uintCheck ^= RxBuffer2[i];
000018  4872              LDR      r0,|L1.484|
00001a  5d00              LDRB     r0,[r0,r4]
00001c  4045              EORS     r5,r5,r0
00001e  1c60              ADDS     r0,r4,#1              ;887
000020  b2c4              UXTB     r4,r0                 ;887
                  |L1.34|
000022  42b4              CMP      r4,r6                 ;887
000024  dbf8              BLT      |L1.24|
;;;890    	}
;;;891    	
;;;892    //	uintSum  = RxBuffer2[tmpLength];
;;;893    	RxBuffer2[tmpLength];
000026  486f              LDR      r0,|L1.484|
000028  5d80              LDRB     r0,[r0,r6]
;;;894    	
;;;895    	if(uintCheck == 0x00)	
00002a  2d00              CMP      r5,#0
00002c  d137              BNE      |L1.158|
;;;896    	{
;;;897    		if(Com_Type2 == 0x06)
00002e  486e              LDR      r0,|L1.488|
000030  7800              LDRB     r0,[r0,#0]  ; Com_Type2
000032  2806              CMP      r0,#6
000034  d134              BNE      |L1.160|
;;;898    		{
;;;899    			i=8;			
000036  2408              MOVS     r4,#8
;;;900    			
;;;901    			s_cmd2[i++] = RxBuffer2[0x07];
000038  486a              LDR      r0,|L1.484|
00003a  79c2              LDRB     r2,[r0,#7]  ; RxBuffer2
00003c  4621              MOV      r1,r4
00003e  1c64              ADDS     r4,r4,#1
000040  486b              LDR      r0,|L1.496|
000042  5442              STRB     r2,[r0,r1]
;;;902    			s_cmd2[i++] = RxBuffer2[0x08];
000044  4867              LDR      r0,|L1.484|
000046  7a02              LDRB     r2,[r0,#8]  ; RxBuffer2
000048  4621              MOV      r1,r4
00004a  1c64              ADDS     r4,r4,#1
00004c  4868              LDR      r0,|L1.496|
00004e  5442              STRB     r2,[r0,r1]
;;;903    			s_cmd2[i++] = RxBuffer2[0x0f];
000050  4864              LDR      r0,|L1.484|
000052  7bc2              LDRB     r2,[r0,#0xf]  ; RxBuffer2
000054  4621              MOV      r1,r4
000056  1c64              ADDS     r4,r4,#1
000058  4865              LDR      r0,|L1.496|
00005a  5442              STRB     r2,[r0,r1]
;;;904    			s_cmd2[i++] = RxBuffer2[0x10];
00005c  4861              LDR      r0,|L1.484|
00005e  7c02              LDRB     r2,[r0,#0x10]  ; RxBuffer2
000060  4621              MOV      r1,r4
000062  1c64              ADDS     r4,r4,#1
000064  4862              LDR      r0,|L1.496|
000066  5442              STRB     r2,[r0,r1]
;;;905    			s_cmd2[i++] = RxBuffer2[0x11];
000068  485e              LDR      r0,|L1.484|
00006a  7c42              LDRB     r2,[r0,#0x11]  ; RxBuffer2
00006c  4620              MOV      r0,r4
00006e  1c61              ADDS     r1,r4,#1
000070  b2cc              UXTB     r4,r1
000072  495f              LDR      r1,|L1.496|
000074  540a              STRB     r2,[r1,r0]
;;;906    			
;;;907    			uintCheck = 0;
000076  bf00              NOP      
;;;908    			
;;;909    			for(i = 7;i < sizeof(s_cmd2)-1;i++)
000078  2407              MOVS     r4,#7
00007a  e004              B        |L1.134|
                  |L1.124|
;;;910    			{
;;;911    				uintCheck ^= s_cmd2[i];
00007c  485c              LDR      r0,|L1.496|
00007e  5d00              LDRB     r0,[r0,r4]
000080  4045              EORS     r5,r5,r0
000082  1c60              ADDS     r0,r4,#1              ;909
000084  b2c4              UXTB     r4,r0                 ;909
                  |L1.134|
000086  2c0f              CMP      r4,#0xf               ;909
000088  d3f8              BCC      |L1.124|
;;;912    			}
;;;913    			
;;;914    			s_cmd2[i] = uintCheck;
00008a  4859              LDR      r0,|L1.496|
00008c  5505              STRB     r5,[r0,r4]
;;;915    			
;;;916    			TR_FLAG2 = 0x80;  
00008e  2080              MOVS     r0,#0x80
000090  4958              LDR      r1,|L1.500|
000092  7008              STRB     r0,[r1,#0]
;;;917    			
;;;918    			read_gauge_flag = 0x0ff;
000094  20ff              MOVS     r0,#0xff
000096  4958              LDR      r1,|L1.504|
000098  7008              STRB     r0,[r1,#0]
;;;919    			
;;;920    			read_gauge_flag  =0x03;
00009a  2003              MOVS     r0,#3
00009c  7008              STRB     r0,[r1,#0]
                  |L1.158|
00009e  e09e              B        |L1.478|
                  |L1.160|
;;;921    		}
;;;922    		else
;;;923    		{
;;;924    			i = 0x0a;
0000a0  240a              MOVS     r4,#0xa
;;;925    			
;;;926    			guionData.B[3] = RxBuffer2[i++];
0000a2  4621              MOV      r1,r4
0000a4  1c64              ADDS     r4,r4,#1
0000a6  484f              LDR      r0,|L1.484|
0000a8  5c40              LDRB     r0,[r0,r1]
0000aa  4954              LDR      r1,|L1.508|
0000ac  70c8              STRB     r0,[r1,#3]
;;;927    			guionData.B[2] = RxBuffer2[i++];
0000ae  4621              MOV      r1,r4
0000b0  1c64              ADDS     r4,r4,#1
0000b2  484c              LDR      r0,|L1.484|
0000b4  5c40              LDRB     r0,[r0,r1]
0000b6  4951              LDR      r1,|L1.508|
0000b8  7088              STRB     r0,[r1,#2]
;;;928    			guionData.B[1] = RxBuffer2[i++];
0000ba  4621              MOV      r1,r4
0000bc  1c64              ADDS     r4,r4,#1
0000be  4849              LDR      r0,|L1.484|
0000c0  5c40              LDRB     r0,[r0,r1]
0000c2  494e              LDR      r1,|L1.508|
0000c4  7048              STRB     r0,[r1,#1]
;;;929    			guionData.B[0] = RxBuffer2[i++];
0000c6  4621              MOV      r1,r4
0000c8  1c64              ADDS     r4,r4,#1
0000ca  4846              LDR      r0,|L1.484|
0000cc  5c40              LDRB     r0,[r0,r1]
0000ce  494b              LDR      r1,|L1.508|
0000d0  7008              STRB     r0,[r1,#0]
;;;930    			
;;;931    			gauge_temp[0] = guionData.f;
0000d2  4608              MOV      r0,r1
0000d4  6800              LDR      r0,[r0,#0]  ; guionData
0000d6  494a              LDR      r1,|L1.512|
0000d8  6008              STR      r0,[r1,#0]  ; gauge_temp
;;;932    			
;;;933    			i++;
0000da  1c60              ADDS     r0,r4,#1
0000dc  b2c4              UXTB     r4,r0
;;;934    			
;;;935    			guionData.B[3] = RxBuffer2[i++];
0000de  4620              MOV      r0,r4
0000e0  1c61              ADDS     r1,r4,#1
0000e2  b2cc              UXTB     r4,r1
0000e4  493f              LDR      r1,|L1.484|
0000e6  5c08              LDRB     r0,[r1,r0]
0000e8  4944              LDR      r1,|L1.508|
0000ea  70c8              STRB     r0,[r1,#3]
;;;936    			guionData.B[2] = RxBuffer2[i++];
0000ec  4620              MOV      r0,r4
0000ee  1c61              ADDS     r1,r4,#1
0000f0  b2cc              UXTB     r4,r1
0000f2  493c              LDR      r1,|L1.484|
0000f4  5c08              LDRB     r0,[r1,r0]
0000f6  4941              LDR      r1,|L1.508|
0000f8  7088              STRB     r0,[r1,#2]
;;;937    			guionData.B[1] = RxBuffer2[i++];
0000fa  4620              MOV      r0,r4
0000fc  1c61              ADDS     r1,r4,#1
0000fe  b2cc              UXTB     r4,r1
000100  4938              LDR      r1,|L1.484|
000102  5c08              LDRB     r0,[r1,r0]
000104  493d              LDR      r1,|L1.508|
000106  7048              STRB     r0,[r1,#1]
;;;938    			guionData.B[0] = RxBuffer2[i++];
000108  4620              MOV      r0,r4
00010a  1c61              ADDS     r1,r4,#1
00010c  b2cc              UXTB     r4,r1
00010e  4935              LDR      r1,|L1.484|
000110  5c08              LDRB     r0,[r1,r0]
000112  493a              LDR      r1,|L1.508|
000114  7008              STRB     r0,[r1,#0]
;;;939    			
;;;940    			gauge_temp[1] = guionData.f;	
000116  4608              MOV      r0,r1
000118  6800              LDR      r0,[r0,#0]  ; guionData
00011a  4939              LDR      r1,|L1.512|
00011c  6048              STR      r0,[r1,#4]  ; gauge_temp
;;;941    			
;;;942    			i++;
00011e  1c60              ADDS     r0,r4,#1
000120  b2c4              UXTB     r4,r0
;;;943    			
;;;944    			guionData.B[3] = RxBuffer2[i++];
000122  4620              MOV      r0,r4
000124  1c61              ADDS     r1,r4,#1
000126  b2cc              UXTB     r4,r1
000128  492e              LDR      r1,|L1.484|
00012a  5c08              LDRB     r0,[r1,r0]
00012c  4933              LDR      r1,|L1.508|
00012e  70c8              STRB     r0,[r1,#3]
;;;945    			guionData.B[2] = RxBuffer2[i++];
000130  4620              MOV      r0,r4
000132  1c61              ADDS     r1,r4,#1
000134  b2cc              UXTB     r4,r1
000136  492b              LDR      r1,|L1.484|
000138  5c08              LDRB     r0,[r1,r0]
00013a  4930              LDR      r1,|L1.508|
00013c  7088              STRB     r0,[r1,#2]
;;;946    			guionData.B[1] = RxBuffer2[i++];
00013e  4620              MOV      r0,r4
000140  1c61              ADDS     r1,r4,#1
000142  b2cc              UXTB     r4,r1
000144  4927              LDR      r1,|L1.484|
000146  5c08              LDRB     r0,[r1,r0]
000148  492c              LDR      r1,|L1.508|
00014a  7048              STRB     r0,[r1,#1]
;;;947    			guionData.B[0] = RxBuffer2[i++];
00014c  4620              MOV      r0,r4
00014e  1c61              ADDS     r1,r4,#1
000150  b2cc              UXTB     r4,r1
000152  4924              LDR      r1,|L1.484|
000154  5c08              LDRB     r0,[r1,r0]
000156  4929              LDR      r1,|L1.508|
000158  7008              STRB     r0,[r1,#0]
;;;948    			
;;;949    			gauge_temp[2] = guionData.f;
00015a  4608              MOV      r0,r1
00015c  6800              LDR      r0,[r0,#0]  ; guionData
00015e  4928              LDR      r1,|L1.512|
000160  6088              STR      r0,[r1,#8]  ; gauge_temp
;;;950    			printf("gauge_temp = %.2fcm\r\n",gauge_temp[1]*100);
000162  6848              LDR      r0,[r1,#4]  ; gauge_temp
000164  4927              LDR      r1,|L1.516|
000166  f7fffffe          BL       __aeabi_fmul
00016a  4681              MOV      r9,r0
00016c  f7fffffe          BL       __aeabi_f2d
000170  4607              MOV      r7,r0
000172  463a              MOV      r2,r7
000174  460b              MOV      r3,r1
000176  a024              ADR      r0,|L1.520|
000178  f7fffffe          BL       __2printf
;;;951    			
;;;952    //			gauge_high = (float)SETUP_HIGH - gauge_temp[1]*100;
;;;953    //			printf("gauge_high = %f \r\n",gauge_high);
;;;954    			
;;;955    			gauge_read_sucess =0x0ff;
00017c  20ff              MOVS     r0,#0xff
00017e  4928              LDR      r1,|L1.544|
000180  7008              STRB     r0,[r1,#0]
;;;956    			
;;;957    			read_radar_count =0x00;
000182  2000              MOVS     r0,#0
000184  4927              LDR      r1,|L1.548|
000186  8008              STRH     r0,[r1,#0]
;;;958    			
;;;959    			i++;
000188  1c60              ADDS     r0,r4,#1
00018a  b2c4              UXTB     r4,r0
;;;960    
;;;961    			guionData.B[3] = RxBuffer2[i++];
00018c  4620              MOV      r0,r4
00018e  1c61              ADDS     r1,r4,#1
000190  b2cc              UXTB     r4,r1
000192  4914              LDR      r1,|L1.484|
000194  5c08              LDRB     r0,[r1,r0]
000196  4919              LDR      r1,|L1.508|
000198  70c8              STRB     r0,[r1,#3]
;;;962    			guionData.B[2] = RxBuffer2[i++];
00019a  4620              MOV      r0,r4
00019c  1c61              ADDS     r1,r4,#1
00019e  b2cc              UXTB     r4,r1
0001a0  4910              LDR      r1,|L1.484|
0001a2  5c08              LDRB     r0,[r1,r0]
0001a4  4915              LDR      r1,|L1.508|
0001a6  7088              STRB     r0,[r1,#2]
;;;963    			guionData.B[1] = RxBuffer2[i++];
0001a8  4620              MOV      r0,r4
0001aa  1c61              ADDS     r1,r4,#1
0001ac  b2cc              UXTB     r4,r1
0001ae  490d              LDR      r1,|L1.484|
0001b0  5c08              LDRB     r0,[r1,r0]
0001b2  4912              LDR      r1,|L1.508|
0001b4  7048              STRB     r0,[r1,#1]
;;;964    			guionData.B[0] = RxBuffer2[i++];
0001b6  4620              MOV      r0,r4
0001b8  1c61              ADDS     r1,r4,#1
0001ba  b2cc              UXTB     r4,r1
0001bc  4909              LDR      r1,|L1.484|
0001be  5c08              LDRB     r0,[r1,r0]
0001c0  490e              LDR      r1,|L1.508|
0001c2  7008              STRB     r0,[r1,#0]
;;;965    			
;;;966    			gauge_temp[3] = guionData.f;
0001c4  4608              MOV      r0,r1
0001c6  6800              LDR      r0,[r0,#0]  ; guionData
0001c8  490d              LDR      r1,|L1.512|
0001ca  60c8              STR      r0,[r1,#0xc]  ; gauge_temp
;;;967    			
;;;968    			read_gauge_flag = 0x00;
0001cc  2000              MOVS     r0,#0
0001ce  490a              LDR      r1,|L1.504|
0001d0  7008              STRB     r0,[r1,#0]
;;;969    			
;;;970    			TR_FLAG2 = 0x80;  
0001d2  2080              MOVS     r0,#0x80
0001d4  4907              LDR      r1,|L1.500|
0001d6  7008              STRB     r0,[r1,#0]
;;;971    
;;;972    			read_gauge_flag  =0x00;
0001d8  2000              MOVS     r0,#0
0001da  4907              LDR      r1,|L1.504|
0001dc  7008              STRB     r0,[r1,#0]
                  |L1.478|
;;;973    		}
;;;974    	}
;;;975    	
;;;976    }
0001de  e8bd87f0          POP      {r4-r10,pc}
;;;977    
                          ENDP

0001e2  0000              DCW      0x0000
                  |L1.484|
                          DCD      RxBuffer2
                  |L1.488|
                          DCD      Com_Type2
                  |L1.492|
                          DCD      Rx_Fra_Len2
                  |L1.496|
                          DCD      s_cmd2
                  |L1.500|
                          DCD      TR_FLAG2
                  |L1.504|
                          DCD      read_gauge_flag
                  |L1.508|
                          DCD      guionData
                  |L1.512|
                          DCD      gauge_temp
                  |L1.516|
                          DCD      0x42c80000
                  |L1.520|
000208  67617567          DCB      "gauge_temp = %.2fcm\r\n",0
00020c  655f7465
000210  6d70203d
000214  20252e32
000218  66636d0d
00021c  0a00    
00021e  00                DCB      0
00021f  00                DCB      0
                  |L1.544|
                          DCD      gauge_read_sucess
                  |L1.548|
                          DCD      read_radar_count

                          AREA ||i.Analyze_Humit||, CODE, READONLY, ALIGN=2

                  Analyze_Humit PROC
;;;777    
;;;778    void Analyze_Humit( void )
000000  b530              PUSH     {r4,r5,lr}
;;;779    {
;;;780    	uint8_t  i;
;;;781    
;;;782    	uint16_t tmpLength,uintCheck,uintSum;	
;;;783    	
;;;784    	Com_Type2 = RxBuffer2[0]; 
000002  4c2f              LDR      r4,|L2.192|
000004  7824              LDRB     r4,[r4,#0]  ; RxBuffer2
000006  4d2f              LDR      r5,|L2.196|
000008  702c              STRB     r4,[r5,#0]
;;;785    
;;;786    	uintCheck = 0;
00000a  2200              MOVS     r2,#0
;;;787    	
;;;788    	tmpLength = Rx_Fra_Len2;
00000c  4c2e              LDR      r4,|L2.200|
00000e  7821              LDRB     r1,[r4,#0]  ; Rx_Fra_Len2
;;;789    
;;;790    	for(i = 0;i < tmpLength;i++)
000010  2000              MOVS     r0,#0
000012  e005              B        |L2.32|
                  |L2.20|
;;;791    	{
;;;792    		uintCheck += RxBuffer2[i];
000014  4c2a              LDR      r4,|L2.192|
000016  5c24              LDRB     r4,[r4,r0]
000018  4414              ADD      r4,r4,r2
00001a  b2a2              UXTH     r2,r4
00001c  1c44              ADDS     r4,r0,#1              ;790
00001e  b2e0              UXTB     r0,r4                 ;790
                  |L2.32|
000020  4288              CMP      r0,r1                 ;790
000022  dbf7              BLT      |L2.20|
;;;793    	}
;;;794    	
;;;795    	uintSum  = RxBuffer2[tmpLength];
000024  4c26              LDR      r4,|L2.192|
000026  5c63              LDRB     r3,[r4,r1]
;;;796    	uintSum +=(RxBuffer2[tmpLength + 1 ] << 8 );
000028  4625              MOV      r5,r4
00002a  1c4c              ADDS     r4,r1,#1
00002c  5d2c              LDRB     r4,[r5,r4]
00002e  eb032404          ADD      r4,r3,r4,LSL #8
000032  b2a3              UXTH     r3,r4
;;;797    	
;;;798    	if(uintCheck == uintSum)	
000034  429a              CMP      r2,r3
000036  d141              BNE      |L2.188|
;;;799    	{
;;;800    		if(Com_Type2 == 0x41)
000038  4c22              LDR      r4,|L2.196|
00003a  7824              LDRB     r4,[r4,#0]  ; Com_Type2
00003c  2c41              CMP      r4,#0x41
00003e  d13d              BNE      |L2.188|
;;;801    		{
;;;802    			i = 3;
000040  2003              MOVS     r0,#3
;;;803    			
;;;804    			guionData.B[0] = RxBuffer2[i++];
000042  4605              MOV      r5,r0
000044  1c40              ADDS     r0,r0,#1
000046  4c1e              LDR      r4,|L2.192|
000048  5d64              LDRB     r4,[r4,r5]
00004a  4d20              LDR      r5,|L2.204|
00004c  702c              STRB     r4,[r5,#0]
;;;805    			guionData.B[1] = RxBuffer2[i++];
00004e  4605              MOV      r5,r0
000050  1c40              ADDS     r0,r0,#1
000052  4c1b              LDR      r4,|L2.192|
000054  5d64              LDRB     r4,[r4,r5]
000056  4d1d              LDR      r5,|L2.204|
000058  706c              STRB     r4,[r5,#1]
;;;806    			guionData.B[2] = RxBuffer2[i++];
00005a  4605              MOV      r5,r0
00005c  1c40              ADDS     r0,r0,#1
00005e  4c18              LDR      r4,|L2.192|
000060  5d64              LDRB     r4,[r4,r5]
000062  4d1a              LDR      r5,|L2.204|
000064  70ac              STRB     r4,[r5,#2]
;;;807    			guionData.B[3] = RxBuffer2[i++];
000066  4605              MOV      r5,r0
000068  1c40              ADDS     r0,r0,#1
00006a  4c15              LDR      r4,|L2.192|
00006c  5d64              LDRB     r4,[r4,r5]
00006e  4d17              LDR      r5,|L2.204|
000070  70ec              STRB     r4,[r5,#3]
;;;808    			
;;;809    			Temp_fVal = guionData.f;
000072  462c              MOV      r4,r5
000074  6824              LDR      r4,[r4,#0]  ; guionData
000076  4d16              LDR      r5,|L2.208|
000078  602c              STR      r4,[r5,#0]  ; Temp_fVal
;;;810    			
;;;811    			guionData.B[0] = RxBuffer2[i++];
00007a  4605              MOV      r5,r0
00007c  1c40              ADDS     r0,r0,#1
00007e  4c10              LDR      r4,|L2.192|
000080  5d64              LDRB     r4,[r4,r5]
000082  4d12              LDR      r5,|L2.204|
000084  702c              STRB     r4,[r5,#0]
;;;812    			guionData.B[1] = RxBuffer2[i++];
000086  4605              MOV      r5,r0
000088  1c40              ADDS     r0,r0,#1
00008a  4c0d              LDR      r4,|L2.192|
00008c  5d64              LDRB     r4,[r4,r5]
00008e  4d0f              LDR      r5,|L2.204|
000090  706c              STRB     r4,[r5,#1]
;;;813    			guionData.B[2] = RxBuffer2[i++];
000092  4604              MOV      r4,r0
000094  1c45              ADDS     r5,r0,#1
000096  b2e8              UXTB     r0,r5
000098  4d09              LDR      r5,|L2.192|
00009a  5d2c              LDRB     r4,[r5,r4]
00009c  4d0b              LDR      r5,|L2.204|
00009e  70ac              STRB     r4,[r5,#2]
;;;814    			guionData.B[3] = RxBuffer2[i++];
0000a0  4604              MOV      r4,r0
0000a2  1c45              ADDS     r5,r0,#1
0000a4  b2e8              UXTB     r0,r5
0000a6  4d06              LDR      r5,|L2.192|
0000a8  5d2c              LDRB     r4,[r5,r4]
0000aa  4d08              LDR      r5,|L2.204|
0000ac  70ec              STRB     r4,[r5,#3]
;;;815    			
;;;816    			Hum_fVal = guionData.f;	
0000ae  462c              MOV      r4,r5
0000b0  6824              LDR      r4,[r4,#0]  ; guionData
0000b2  4d08              LDR      r5,|L2.212|
0000b4  602c              STR      r4,[r5,#0]  ; Hum_fVal
;;;817    			
;;;818    			TR_FLAG2 = 0x80;  
0000b6  2480              MOVS     r4,#0x80
0000b8  4d07              LDR      r5,|L2.216|
0000ba  702c              STRB     r4,[r5,#0]
                  |L2.188|
;;;819    
;;;820    		}
;;;821    		
;;;822    	}
;;;823    	
;;;824    }
0000bc  bd30              POP      {r4,r5,pc}
;;;825    
                          ENDP

0000be  0000              DCW      0x0000
                  |L2.192|
                          DCD      RxBuffer2
                  |L2.196|
                          DCD      Com_Type2
                  |L2.200|
                          DCD      Rx_Fra_Len2
                  |L2.204|
                          DCD      guionData
                  |L2.208|
                          DCD      Temp_fVal
                  |L2.212|
                          DCD      Hum_fVal
                  |L2.216|
                          DCD      TR_FLAG2

                          AREA ||i.AsciiToUint32||, CODE, READONLY, ALIGN=1

                  AsciiToUint32 PROC
;;;437    */
;;;438    uint32_t AsciiToUint32(char *pAscii)
000000  b5f0              PUSH     {r4-r7,lr}
;;;439    {
000002  4604              MOV      r4,r0
;;;440    	char i;
;;;441    	char bTemp;
;;;442    	char bIsHex;
;;;443    	char bLen;
;;;444    	char bZeroLen;
;;;445    	uint32_t lResult;
;;;446    	uint32_t lBitValue;
;;;447    
;;;448    	/* 判断是否是16进制数 */
;;;449    	bIsHex = 0;
000004  2700              MOVS     r7,#0
;;;450    	if ((pAscii[0] == '0') && ((pAscii[1] == 'x') || (pAscii[1] == 'X')))
000006  f894c000          LDRB     r12,[r4,#0]
00000a  f1bc0f30          CMP      r12,#0x30
00000e  d10a              BNE      |L3.38|
000010  f894c001          LDRB     r12,[r4,#1]
000014  f1bc0f78          CMP      r12,#0x78
000018  d004              BEQ      |L3.36|
00001a  f894c001          LDRB     r12,[r4,#1]
00001e  f1bc0f58          CMP      r12,#0x58
000022  d100              BNE      |L3.38|
                  |L3.36|
;;;451    	{
;;;452    		bIsHex=1;
000024  2701              MOVS     r7,#1
                  |L3.38|
;;;453    	}
;;;454    
;;;455    	lResult=0;
000026  2000              MOVS     r0,#0
;;;456    	// 最大数值为 4294967295, 10位+2字符"0x" //
;;;457    	if (bIsHex == 0)
000028  2f00              CMP      r7,#0
00002a  d140              BNE      |L3.174|
;;;458    	{ // 十进制 //
;;;459    		// 求长度 //
;;;460    		lBitValue=1;
00002c  2301              MOVS     r3,#1
;;;461    
;;;462    		/* 前导去0 */
;;;463    		for (i = 0; i < 8; i++)
00002e  2100              MOVS     r1,#0
000030  e007              B        |L3.66|
                  |L3.50|
;;;464    		{
;;;465    			bTemp = pAscii[i];
000032  5c62              LDRB     r2,[r4,r1]
;;;466    			if (bTemp != '0')
000034  2a30              CMP      r2,#0x30
000036  d000              BEQ      |L3.58|
;;;467    				break;
000038  e005              B        |L3.70|
                  |L3.58|
00003a  f1010c01          ADD      r12,r1,#1             ;463
00003e  f00c01ff          AND      r1,r12,#0xff          ;463
                  |L3.66|
000042  2908              CMP      r1,#8                 ;463
000044  dbf5              BLT      |L3.50|
                  |L3.70|
000046  bf00              NOP      
;;;468    		}
;;;469    		bZeroLen = i;
000048  460e              MOV      r6,r1
;;;470    
;;;471    		for (i = 0; i < 10; i++)
00004a  2100              MOVS     r1,#0
00004c  e012              B        |L3.116|
                  |L3.78|
;;;472    		{
;;;473    			if ((pAscii[i] < '0') || (pAscii[i] > '9'))
00004e  f814c001          LDRB     r12,[r4,r1]
000052  f1bc0f30          CMP      r12,#0x30
000056  db04              BLT      |L3.98|
000058  f814c001          LDRB     r12,[r4,r1]
00005c  f1bc0f39          CMP      r12,#0x39
000060  dd00              BLE      |L3.100|
                  |L3.98|
;;;474    				break;
000062  e009              B        |L3.120|
                  |L3.100|
;;;475    			lBitValue = lBitValue * 10;
000064  eb030c83          ADD      r12,r3,r3,LSL #2
000068  ea4f034c          LSL      r3,r12,#1
00006c  f1010c01          ADD      r12,r1,#1             ;471
000070  f00c01ff          AND      r1,r12,#0xff          ;471
                  |L3.116|
000074  290a              CMP      r1,#0xa               ;471
000076  dbea              BLT      |L3.78|
                  |L3.120|
000078  bf00              NOP                            ;474
;;;476    		}
;;;477    		bLen = i;
00007a  460d              MOV      r5,r1
;;;478    		lBitValue = lBitValue / 10;
00007c  f04f0c0a          MOV      r12,#0xa
000080  fbb3f3fc          UDIV     r3,r3,r12
;;;479    		if (lBitValue == 0)
000084  b903              CBNZ     r3,|L3.136|
;;;480    			lBitValue=1;
000086  2301              MOVS     r3,#1
                  |L3.136|
;;;481    		for (i = bZeroLen; i < bLen; i++)
000088  4631              MOV      r1,r6
00008a  e00d              B        |L3.168|
                  |L3.140|
;;;482    		{
;;;483    			lResult += (pAscii[i] - '0') * lBitValue;
00008c  f814c001          LDRB     r12,[r4,r1]
000090  f1ac0c30          SUB      r12,r12,#0x30
000094  fb0c0003          MLA      r0,r12,r3,r0
;;;484    			lBitValue /= 10;
000098  f04f0c0a          MOV      r12,#0xa
00009c  fbb3f3fc          UDIV     r3,r3,r12
0000a0  f1010c01          ADD      r12,r1,#1             ;481
0000a4  f00c01ff          AND      r1,r12,#0xff          ;481
                  |L3.168|
0000a8  42a9              CMP      r1,r5                 ;481
0000aa  dbef              BLT      |L3.140|
0000ac  e059              B        |L3.354|
                  |L3.174|
;;;485    		}
;;;486    	}
;;;487    	else
;;;488    	{	/* 16进制 */
;;;489    		/* 求长度 */
;;;490    		lBitValue=1;
0000ae  2301              MOVS     r3,#1
;;;491    
;;;492    		/* 前导去0 */
;;;493    		for (i = 0; i < 8; i++)
0000b0  2100              MOVS     r1,#0
0000b2  e00a              B        |L3.202|
                  |L3.180|
;;;494    		{
;;;495    			bTemp = pAscii[i + 2];
0000b4  f1010c02          ADD      r12,r1,#2
0000b8  f814200c          LDRB     r2,[r4,r12]
;;;496    			if(bTemp!='0')
0000bc  2a30              CMP      r2,#0x30
0000be  d000              BEQ      |L3.194|
;;;497    				break;
0000c0  e005              B        |L3.206|
                  |L3.194|
0000c2  f1010c01          ADD      r12,r1,#1             ;493
0000c6  f00c01ff          AND      r1,r12,#0xff          ;493
                  |L3.202|
0000ca  2908              CMP      r1,#8                 ;493
0000cc  dbf2              BLT      |L3.180|
                  |L3.206|
0000ce  bf00              NOP      
;;;498    		}
;;;499    		bZeroLen = i;
0000d0  460e              MOV      r6,r1
;;;500    		for (; i < 8; i++)
0000d2  e016              B        |L3.258|
                  |L3.212|
;;;501    		{
;;;502    			bTemp=pAscii[i+2];
0000d4  f1010c02          ADD      r12,r1,#2
0000d8  f814200c          LDRB     r2,[r4,r12]
;;;503    			if (((bTemp >= 'A') && (bTemp <= 'F')) ||
0000dc  2a41              CMP      r2,#0x41
0000de  db01              BLT      |L3.228|
0000e0  2a46              CMP      r2,#0x46
0000e2  dd07              BLE      |L3.244|
                  |L3.228|
;;;504    				((bTemp>='a')&&(bTemp<='f')) ||
0000e4  2a61              CMP      r2,#0x61
0000e6  db01              BLT      |L3.236|
0000e8  2a66              CMP      r2,#0x66
0000ea  dd03              BLE      |L3.244|
                  |L3.236|
;;;505    				((bTemp>='0')&&(bTemp<='9')) )
0000ec  2a30              CMP      r2,#0x30
0000ee  db03              BLT      |L3.248|
0000f0  2a39              CMP      r2,#0x39
0000f2  dc01              BGT      |L3.248|
                  |L3.244|
;;;506    			{
;;;507    				lBitValue=lBitValue * 16;
0000f4  011b              LSLS     r3,r3,#4
0000f6  e000              B        |L3.250|
                  |L3.248|
;;;508    			}
;;;509    			else
;;;510    			{
;;;511    				break;
0000f8  e005              B        |L3.262|
                  |L3.250|
0000fa  f1010c01          ADD      r12,r1,#1             ;500
0000fe  f00c01ff          AND      r1,r12,#0xff          ;500
                  |L3.258|
000102  2908              CMP      r1,#8                 ;500
000104  dbe6              BLT      |L3.212|
                  |L3.262|
000106  bf00              NOP      
;;;512    			}
;;;513    		}
;;;514    		lBitValue = lBitValue / 16;
000108  091b              LSRS     r3,r3,#4
;;;515    		if (lBitValue == 0)
00010a  b903              CBNZ     r3,|L3.270|
;;;516    			lBitValue = 1;
00010c  2301              MOVS     r3,#1
                  |L3.270|
;;;517    		bLen = i;
00010e  460d              MOV      r5,r1
;;;518    		for (i = bZeroLen; i < bLen; i++)
000110  4631              MOV      r1,r6
000112  e024              B        |L3.350|
                  |L3.276|
;;;519    		{
;;;520    			bTemp = pAscii[i + 2];
000114  f1010c02          ADD      r12,r1,#2
000118  f814200c          LDRB     r2,[r4,r12]
;;;521    			if ((bTemp >= 'A') && (bTemp <= 'F'))
00011c  2a41              CMP      r2,#0x41
00011e  db06              BLT      |L3.302|
000120  2a46              CMP      r2,#0x46
000122  dc04              BGT      |L3.302|
;;;522    			{
;;;523    				bTemp -= 0x37;
000124  f1a20c37          SUB      r12,r2,#0x37
000128  f00c02ff          AND      r2,r12,#0xff
00012c  e010              B        |L3.336|
                  |L3.302|
;;;524    			}
;;;525    			else if ((bTemp >= 'a') && (bTemp <= 'f'))
00012e  2a61              CMP      r2,#0x61
000130  db06              BLT      |L3.320|
000132  2a66              CMP      r2,#0x66
000134  dc04              BGT      |L3.320|
;;;526    			{
;;;527    				bTemp -= 0x57;
000136  f1a20c57          SUB      r12,r2,#0x57
00013a  f00c02ff          AND      r2,r12,#0xff
00013e  e007              B        |L3.336|
                  |L3.320|
;;;528    			}
;;;529    			else if ((bTemp >= '0') && (bTemp <= '9'))
000140  2a30              CMP      r2,#0x30
000142  db05              BLT      |L3.336|
000144  2a39              CMP      r2,#0x39
000146  dc03              BGT      |L3.336|
;;;530    			{
;;;531    				bTemp -= '0';
000148  f1a20c30          SUB      r12,r2,#0x30
00014c  f00c02ff          AND      r2,r12,#0xff
                  |L3.336|
;;;532    			}
;;;533    			lResult += bTemp*lBitValue;
000150  fb020003          MLA      r0,r2,r3,r0
;;;534    			lBitValue /= 16;
000154  091b              LSRS     r3,r3,#4
000156  f1010c01          ADD      r12,r1,#1             ;518
00015a  f00c01ff          AND      r1,r12,#0xff          ;518
                  |L3.350|
00015e  42a9              CMP      r1,r5                 ;518
000160  dbd8              BLT      |L3.276|
                  |L3.354|
;;;535    		}
;;;536    	}
;;;537    	return lResult;
;;;538    }
000162  bdf0              POP      {r4-r7,pc}
;;;539    
                          ENDP


                          AREA ||i.BEBufToUint16||, CODE, READONLY, ALIGN=1

                  BEBufToUint16 PROC
;;;290    */
;;;291    uint16_t BEBufToUint16(uint8_t *_pBuf)
000000  4601              MOV      r1,r0
;;;292    {
;;;293        return (((uint16_t)_pBuf[0] << 8) | _pBuf[1]);
000002  7848              LDRB     r0,[r1,#1]
000004  780a              LDRB     r2,[r1,#0]
000006  ea402002          ORR      r0,r0,r2,LSL #8
;;;294    }
00000a  4770              BX       lr
;;;295    
                          ENDP


                          AREA ||i.BEBufToUint32||, CODE, READONLY, ALIGN=1

                  BEBufToUint32 PROC
;;;319    */
;;;320    uint32_t BEBufToUint32(uint8_t *_pBuf)
000000  4601              MOV      r1,r0
;;;321    {
;;;322        return (((uint32_t)_pBuf[0] << 24) | ((uint32_t)_pBuf[1] << 16) | ((uint32_t)_pBuf[2] << 8) | _pBuf[3]);
000002  7808              LDRB     r0,[r1,#0]
000004  0600              LSLS     r0,r0,#24
000006  784a              LDRB     r2,[r1,#1]
000008  ea404002          ORR      r0,r0,r2,LSL #16
00000c  788a              LDRB     r2,[r1,#2]
00000e  ea402002          ORR      r0,r0,r2,LSL #8
000012  78ca              LDRB     r2,[r1,#3]
000014  4310              ORRS     r0,r0,r2
;;;323    }
000016  4770              BX       lr
;;;324    
                          ENDP


                          AREA ||i.BcdToChar||, CODE, READONLY, ALIGN=1

                  BcdToChar PROC
;;;390    */
;;;391    char BcdToChar(uint8_t _bcd)
000000  4601              MOV      r1,r0
;;;392    {
;;;393    	if (_bcd < 10)
000002  290a              CMP      r1,#0xa
000004  da03              BGE      |L6.14|
;;;394    	{
;;;395    		return _bcd + '0';
000006  f1010030          ADD      r0,r1,#0x30
00000a  b2c0              UXTB     r0,r0
                  |L6.12|
;;;396    	}
;;;397    	else if (_bcd < 16)
;;;398    	{
;;;399    		return _bcd + 'A';
;;;400    	}
;;;401    	else
;;;402    	{
;;;403    		return 0;
;;;404    	}
;;;405    }
00000c  4770              BX       lr
                  |L6.14|
00000e  2910              CMP      r1,#0x10              ;397
000010  da03              BGE      |L6.26|
000012  f1010041          ADD      r0,r1,#0x41           ;399
000016  b2c0              UXTB     r0,r0                 ;399
000018  e7f8              B        |L6.12|
                  |L6.26|
00001a  2000              MOVS     r0,#0                 ;403
00001c  e7f6              B        |L6.12|
;;;406    
                          ENDP


                          AREA ||i.CRC16_Modbus||, CODE, READONLY, ALIGN=2

                  CRC16_Modbus PROC
;;;353    */
;;;354    uint16_t CRC16_Modbus(uint8_t *_pBuf, uint16_t _usLen)
000000  b570              PUSH     {r4-r6,lr}
;;;355    {
000002  4602              MOV      r2,r0
000004  460c              MOV      r4,r1
;;;356    	uint8_t ucCRCHi = 0xFF; /* 高CRC字节初始化 */
000006  25ff              MOVS     r5,#0xff
;;;357    	uint8_t ucCRCLo = 0xFF; /* 低CRC 字节初始化 */
000008  23ff              MOVS     r3,#0xff
;;;358    	uint16_t usIndex; 		/* CRC循环中的索引 */
;;;359    
;;;360        while (_usLen--)
00000a  e009              B        |L7.32|
                  |L7.12|
;;;361        {
;;;362    		usIndex = ucCRCHi ^ *_pBuf++; /* 计算CRC */
00000c  f8120b01          LDRB     r0,[r2],#1
000010  ea800105          EOR      r1,r0,r5
;;;363    		ucCRCHi = ucCRCLo ^ s_CRCHi[usIndex];
000014  4806              LDR      r0,|L7.48|
000016  5c40              LDRB     r0,[r0,r1]
000018  ea800503          EOR      r5,r0,r3
;;;364    		ucCRCLo = s_CRCLo[usIndex];
00001c  4805              LDR      r0,|L7.52|
00001e  5c43              LDRB     r3,[r0,r1]
                  |L7.32|
000020  0020              MOVS     r0,r4                 ;360
000022  f1a40601          SUB      r6,r4,#1              ;360
000026  b2b4              UXTH     r4,r6                 ;360
000028  d1f0              BNE      |L7.12|
;;;365        }
;;;366        return ((uint16_t)ucCRCHi << 8 | ucCRCLo);
00002a  ea432005          ORR      r0,r3,r5,LSL #8
;;;367    }
00002e  bd70              POP      {r4-r6,pc}
;;;368    
                          ENDP

                  |L7.48|
                          DCD      s_CRCHi
                  |L7.52|
                          DCD      s_CRCLo

                          AREA ||i.CaculTwoPoint||, CODE, READONLY, ALIGN=1

                  CaculTwoPoint PROC
;;;377    */
;;;378    int32_t  CaculTwoPoint(int32_t x1, int32_t y1, int32_t x2, int32_t y2, int32_t x)
000000  e92d5ff0          PUSH     {r4-r12,lr}
;;;379    {
000004  4681              MOV      r9,r0
000006  460c              MOV      r4,r1
000008  4692              MOV      r10,r2
00000a  469b              MOV      r11,r3
;;;380    	return y1 + ((int64_t)(y2 - y1) * (x - x1)) / (x2 - x1);
00000c  ebab0104          SUB      r1,r11,r4
000010  980a              LDR      r0,[sp,#0x28]
000012  eba00009          SUB      r0,r0,r9
000016  fb817000          SMULL    r7,r0,r1,r0
00001a  4601              MOV      r1,r0
00001c  ebaa0009          SUB      r0,r10,r9
000020  17c3              ASRS     r3,r0,#31
000022  4605              MOV      r5,r0
000024  462a              MOV      r2,r5
000026  4638              MOV      r0,r7
000028  f7fffffe          BL       __aeabi_ldivmod
00002c  1900              ADDS     r0,r0,r4
;;;381    }
00002e  e8bd9ff0          POP      {r4-r12,pc}
;;;382    
                          ENDP


                          AREA ||i.EXTI9_5_IRQHandler||, CODE, READONLY, ALIGN=1

                  EXTI9_5_IRQHandler PROC
;;;547    
;;;548    void EXTI9_5_IRQHandler(void)
000000  b510              PUSH     {r4,lr}
;;;549    {
;;;550    	if (EXTI_GetITStatus(EXTI_Line6) != RESET)
000002  2040              MOVS     r0,#0x40
000004  f7fffffe          BL       EXTI_GetITStatus
000008  b110              CBZ      r0,|L9.16|
;;;551    	{		
;;;552    		EXTI_ClearITPendingBit(EXTI_Line6);
00000a  2040              MOVS     r0,#0x40
00000c  f7fffffe          BL       EXTI_ClearITPendingBit
                  |L9.16|
;;;553    	}
;;;554    	
;;;555    	if (EXTI_GetITStatus(EXTI_Line7) != RESET)
000010  2080              MOVS     r0,#0x80
000012  f7fffffe          BL       EXTI_GetITStatus
000016  b110              CBZ      r0,|L9.30|
;;;556    	{		
;;;557    		EXTI_ClearITPendingBit(EXTI_Line7);
000018  2080              MOVS     r0,#0x80
00001a  f7fffffe          BL       EXTI_ClearITPendingBit
                  |L9.30|
;;;558    	}	
;;;559      
;;;560    }
00001e  bd10              POP      {r4,pc}
;;;561    
                          ENDP


                          AREA ||i.HexToAscll||, CODE, READONLY, ALIGN=1

                  HexToAscll PROC
;;;416    */
;;;417    void HexToAscll(uint8_t * _pHex, char *_pAscii, uint16_t _BinBytes)
000000  b530              PUSH     {r4,r5,lr}
;;;418    {
000002  4604              MOV      r4,r0
000004  460b              MOV      r3,r1
000006  4615              MOV      r5,r2
;;;419    	uint16_t i;
;;;420    	
;;;421    	for (i = 0; i < _BinBytes; i++)
000008  2200              MOVS     r2,#0
00000a  e016              B        |L10.58|
                  |L10.12|
;;;422    	{
;;;423    		_pAscii[3 * i] = BcdToChar(_pHex[i] >> 4);
00000c  5ca1              LDRB     r1,[r4,r2]
00000e  1108              ASRS     r0,r1,#4
000010  f7fffffe          BL       BcdToChar
000014  eb020142          ADD      r1,r2,r2,LSL #1
000018  5458              STRB     r0,[r3,r1]
;;;424    		_pAscii[3 * i + 1] = BcdToChar(_pHex[i] & 0x0F);
00001a  5ca1              LDRB     r1,[r4,r2]
00001c  f001000f          AND      r0,r1,#0xf
000020  f7fffffe          BL       BcdToChar
000024  eb020142          ADD      r1,r2,r2,LSL #1
000028  1c49              ADDS     r1,r1,#1
00002a  5458              STRB     r0,[r3,r1]
;;;425    		_pAscii[3 * i + 2] = ' ';
00002c  2120              MOVS     r1,#0x20
00002e  eb020042          ADD      r0,r2,r2,LSL #1
000032  1c80              ADDS     r0,r0,#2
000034  5419              STRB     r1,[r3,r0]
000036  1c50              ADDS     r0,r2,#1              ;421
000038  b282              UXTH     r2,r0                 ;421
                  |L10.58|
00003a  42aa              CMP      r2,r5                 ;421
00003c  dbe6              BLT      |L10.12|
;;;426    	}
;;;427    	_pAscii[3 * i + 2] = 0;
00003e  2100              MOVS     r1,#0
000040  eb020042          ADD      r0,r2,r2,LSL #1
000044  1c80              ADDS     r0,r0,#2
000046  5419              STRB     r1,[r3,r0]
;;;428    }
000048  bd30              POP      {r4,r5,pc}
;;;429    
                          ENDP


                          AREA ||i.LEBufToUint16||, CODE, READONLY, ALIGN=1

                  LEBufToUint16 PROC
;;;303    */
;;;304    uint16_t LEBufToUint16(uint8_t *_pBuf)
000000  4601              MOV      r1,r0
;;;305    {
;;;306        return (((uint16_t)_pBuf[1] << 8) | _pBuf[0]);
000002  7808              LDRB     r0,[r1,#0]
000004  784a              LDRB     r2,[r1,#1]
000006  ea402002          ORR      r0,r0,r2,LSL #8
;;;307    }
00000a  4770              BX       lr
;;;308    
                          ENDP


                          AREA ||i.LEBufToUint32||, CODE, READONLY, ALIGN=1

                  LEBufToUint32 PROC
;;;332    */
;;;333    uint32_t LEBufToUint32(uint8_t *_pBuf)
000000  4601              MOV      r1,r0
;;;334    {
;;;335        return (((uint32_t)_pBuf[3] << 24) | ((uint32_t)_pBuf[2] << 16) | ((uint32_t)_pBuf[1] << 8) | _pBuf[0]);
000002  78c8              LDRB     r0,[r1,#3]
000004  0600              LSLS     r0,r0,#24
000006  788a              LDRB     r2,[r1,#2]
000008  ea404002          ORR      r0,r0,r2,LSL #16
00000c  784a              LDRB     r2,[r1,#1]
00000e  ea402002          ORR      r0,r0,r2,LSL #8
000012  780a              LDRB     r2,[r1,#0]
000014  4310              ORRS     r0,r0,r2
;;;336    }
000016  4770              BX       lr
;;;337    
                          ENDP


                          AREA ||i.Process_ALT_Command||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_d
                          REQUIRE _printf_s
                          REQUIRE _printf_int_dec
                          REQUIRE _printf_str
                          REQUIRE _printf_f
                          REQUIRE _printf_fp_dec
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                  Process_ALT_Command PROC
;;;1788   
;;;1789   void Process_ALT_Command(uint8_t *_ucaBuf, uint16_t _usLen)
000000  e92d5fff          PUSH     {r0-r12,lr}
;;;1790   {
000004  4605              MOV      r5,r0
000006  4689              MOV      r9,r1
;;;1791   	uint8_t strCount = 0, i;		
000008  2600              MOVS     r6,#0
;;;1792   
;;;1793   	//uint8_t len;
;;;1794   	
;;;1795   	char *p;
;;;1796   	
;;;1797   	float ftemp;
;;;1798   	
;;;1799   	p = (char *)_ucaBuf;
00000a  46aa              MOV      r10,r5
;;;1800   	p[_usLen] = 0;
00000c  2000              MOVS     r0,#0
00000e  f80a0009          STRB     r0,[r10,r9]
;;;1801   
;;;1802   	if( strstr(p,"?") != NULL)
000012  a135              ADR      r1,|L13.232|
000014  4650              MOV      r0,r10
000016  f7fffffe          BL       strstr
00001a  b120              CBZ      r0,|L13.38|
;;;1803   	{
;;;1804   		strcpy(strOut,ALT);
00001c  4933              LDR      r1,|L13.236|
00001e  4834              LDR      r0,|L13.240|
000020  f7fffffe          BL       strcpy
000024  e05e              B        |L13.228|
                  |L13.38|
;;;1805   	}	
;;;1806   	else
;;;1807   	{
;;;1808   		for(i=0;i<20;i++)
000026  2400              MOVS     r4,#0
000028  e017              B        |L13.90|
                  |L13.42|
;;;1809   		{			
;;;1810   			if(i == 0)
00002a  b934              CBNZ     r4,|L13.58|
;;;1811   				cmdItem[0] = strtok(p, " "); 
00002c  a131              ADR      r1,|L13.244|
00002e  4650              MOV      r0,r10
000030  f7fffffe          BL       strtok
000034  4930              LDR      r1,|L13.248|
000036  6008              STR      r0,[r1,#0]  ; cmdItem
000038  e006              B        |L13.72|
                  |L13.58|
;;;1812   			else
;;;1813   				cmdItem[i] = strtok(NULL, " ");
00003a  a12e              ADR      r1,|L13.244|
00003c  2000              MOVS     r0,#0
00003e  f7fffffe          BL       strtok
000042  492d              LDR      r1,|L13.248|
000044  f8410024          STR      r0,[r1,r4,LSL #2]
                  |L13.72|
;;;1814   
;;;1815   			if(cmdItem[i] == NULL)
000048  482b              LDR      r0,|L13.248|
00004a  f8500024          LDR      r0,[r0,r4,LSL #2]
00004e  b900              CBNZ     r0,|L13.82|
;;;1816   				break;
000050  e005              B        |L13.94|
                  |L13.82|
;;;1817   			
;;;1818   			strCount++; 
000052  1c70              ADDS     r0,r6,#1
000054  b2c6              UXTB     r6,r0
000056  1c60              ADDS     r0,r4,#1              ;1808
000058  b2c4              UXTB     r4,r0                 ;1808
                  |L13.90|
00005a  2c14              CMP      r4,#0x14              ;1808
00005c  dbe5              BLT      |L13.42|
                  |L13.94|
00005e  bf00              NOP                            ;1816
;;;1819   		}		
;;;1820   
;;;1821   		if(strCount == 2)
000060  2e02              CMP      r6,#2
000062  d11e              BNE      |L13.162|
;;;1822   		{
;;;1823   			strcpy(strIn,cmdItem[1]);
000064  4824              LDR      r0,|L13.248|
000066  6841              LDR      r1,[r0,#4]  ; cmdItem
000068  4824              LDR      r0,|L13.252|
00006a  f7fffffe          BL       strcpy
;;;1824   			//len = ;		
;;;1825   			strlen(strIn);
00006e  4823              LDR      r0,|L13.252|
000070  f7fffffe          BL       strlen
;;;1826   			ftemp = atof(strIn);
000074  4821              LDR      r0,|L13.252|
000076  f7fffffe          BL       atof
00007a  4607              MOV      r7,r0
00007c  f7fffffe          BL       __aeabi_d2f
000080  4683              MOV      r11,r0
;;;1827   			
;;;1828   			alt_value = ftemp;
000082  481f              LDR      r0,|L13.256|
000084  f8c0b000          STR      r11,[r0,#0]  ; alt_value
;;;1829   			
;;;1830   			sprintf(strOut,"<17,%s,%02d,%s,T,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0]);
000088  481b              LDR      r0,|L13.248|
00008a  6800              LDR      r0,[r0,#0]  ; cmdItem
00008c  9000              STR      r0,[sp,#0]
00008e  481d              LDR      r0,|L13.260|
000090  7803              LDRB     r3,[r0,#0]  ; device_id
000092  481d              LDR      r0,|L13.264|
000094  6802              LDR      r2,[r0,#0]  ; cjq_pz_ptr
000096  3278              ADDS     r2,r2,#0x78
000098  a11c              ADR      r1,|L13.268|
00009a  4815              LDR      r0,|L13.240|
00009c  f7fffffe          BL       __2sprintf
0000a0  e020              B        |L13.228|
                  |L13.162|
;;;1831   
;;;1832   		}
;;;1833   		else 
;;;1834   		if(strCount == 1)			
0000a2  2e01              CMP      r6,#1
0000a4  d112              BNE      |L13.204|
;;;1835   		{
;;;1836   			sprintf(strOut,"<17,%s,%02d,%s,%4.1f,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0],alt_value);
0000a6  4816              LDR      r0,|L13.256|
0000a8  6800              LDR      r0,[r0,#0]  ; alt_value
0000aa  f7fffffe          BL       __aeabi_f2d
0000ae  e9cd0102          STRD     r0,r1,[sp,#8]
0000b2  4811              LDR      r0,|L13.248|
0000b4  6800              LDR      r0,[r0,#0]  ; cmdItem
0000b6  9000              STR      r0,[sp,#0]
0000b8  4812              LDR      r0,|L13.260|
0000ba  7803              LDRB     r3,[r0,#0]  ; device_id
0000bc  4812              LDR      r0,|L13.264|
0000be  6802              LDR      r2,[r0,#0]  ; cjq_pz_ptr
0000c0  3278              ADDS     r2,r2,#0x78
0000c2  a118              ADR      r1,|L13.292|
0000c4  480a              LDR      r0,|L13.240|
0000c6  f7fffffe          BL       __2sprintf
0000ca  e00b              B        |L13.228|
                  |L13.204|
;;;1837   		}		
;;;1838   		else   
;;;1839   		{
;;;1840   			sprintf(strOut,"<17,%s,%02d,%s,F,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0]);
0000cc  480a              LDR      r0,|L13.248|
0000ce  6800              LDR      r0,[r0,#0]  ; cmdItem
0000d0  9000              STR      r0,[sp,#0]
0000d2  480c              LDR      r0,|L13.260|
0000d4  7803              LDRB     r3,[r0,#0]  ; device_id
0000d6  480c              LDR      r0,|L13.264|
0000d8  6802              LDR      r2,[r0,#0]  ; cjq_pz_ptr
0000da  3278              ADDS     r2,r2,#0x78
0000dc  a118              ADR      r1,|L13.320|
0000de  4804              LDR      r0,|L13.240|
0000e0  f7fffffe          BL       __2sprintf
                  |L13.228|
;;;1841   		}
;;;1842   	}	
;;;1843   }
0000e4  e8bd9fff          POP      {r0-r12,pc}
;;;1844   
                          ENDP

                  |L13.232|
0000e8  3f00              DCB      "?",0
0000ea  00                DCB      0
0000eb  00                DCB      0
                  |L13.236|
                          DCD      ALT
                  |L13.240|
                          DCD      strOut
                  |L13.244|
0000f4  2000              DCB      " ",0
0000f6  00                DCB      0
0000f7  00                DCB      0
                  |L13.248|
                          DCD      cmdItem
                  |L13.252|
                          DCD      strIn
                  |L13.256|
                          DCD      alt_value
                  |L13.260|
                          DCD      device_id
                  |L13.264|
                          DCD      cjq_pz_ptr
                  |L13.268|
00010c  3c31372c          DCB      "<17,%s,%02d,%s,T,N>\r\n",0
000110  25732c25
000114  3032642c
000118  25732c54
00011c  2c4e3e0d
000120  0a00    
000122  00                DCB      0
000123  00                DCB      0
                  |L13.292|
000124  3c31372c          DCB      "<17,%s,%02d,%s,%4.1f,N>\r\n",0
000128  25732c25
00012c  3032642c
000130  25732c25
000134  342e3166
000138  2c4e3e0d
00013c  0a00    
00013e  00                DCB      0
00013f  00                DCB      0
                  |L13.320|
000140  3c31372c          DCB      "<17,%s,%02d,%s,F,N>\r\n",0
000144  25732c25
000148  3032642c
00014c  25732c46
000150  2c4e3e0d
000154  0a00    
000156  00                DCB      0
000157  00                DCB      0

                          AREA ||i.Process_DATETIME_Command||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_d
                          REQUIRE _printf_s
                          REQUIRE _printf_int_dec
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                  Process_DATETIME_Command PROC
;;;1530   
;;;1531   void Process_DATETIME_Command(uint8_t *_ucaBuf, uint16_t _usLen)
000000  e92d43f0          PUSH     {r4-r9,lr}
;;;1532   {
000004  b087              SUB      sp,sp,#0x1c
000006  4605              MOV      r5,r0
000008  460f              MOV      r7,r1
;;;1533   	//uint8_t temp8,len=0,strCount = 0;		
;;;1534   	uint8_t strCount = 0;
00000a  f04f0800          MOV      r8,#0
;;;1535   	uint8_t i,result;
;;;1536   	
;;;1537   	char *p;
;;;1538   
;;;1539   	p = (char *)_ucaBuf;
00000e  46a9              MOV      r9,r5
;;;1540   	p[_usLen] = 0;
000010  2000              MOVS     r0,#0
000012  f8090007          STRB     r0,[r9,r7]
;;;1541   	
;;;1542   	if( strstr(p,"?") != NULL)
000016  a164              ADR      r1,|L14.424|
000018  4648              MOV      r0,r9
00001a  f7fffffe          BL       strstr
00001e  b110              CBZ      r0,|L14.38|
                  |L14.32|
;;;1543   	{
;;;1544   		return;
;;;1545   	}
;;;1546   	else
;;;1547   	{
;;;1548   		for(i=0;i<20;i++)
;;;1549   		{			
;;;1550   			if(i == 0)
;;;1551   					cmdItem[0] = strtok(p, " "); 
;;;1552   			else
;;;1553   					cmdItem[i] = strtok(NULL, " ");
;;;1554   
;;;1555   			if(cmdItem[i] == NULL)
;;;1556   				break;
;;;1557   			
;;;1558   			strCount++; 
;;;1559   		}
;;;1560   		
;;;1561   		if(strCount >= 3)   
;;;1562   		{
;;;1563   			strcat(strIn,cmdItem[1]);
;;;1564   			strcat(strIn," ");
;;;1565   			strcat(strIn,cmdItem[2]);
;;;1566   
;;;1567   			g_tHost.Year   =   atoi(strIn     ); 
;;;1568   			g_tHost.Month  =   atoi(strIn + 5 ); 
;;;1569   			g_tHost.Day    =   atoi(strIn + 8 );         
;;;1570   			g_tHost.Hour   =   atoi(strIn + 11); 
;;;1571   			g_tHost.Minute =   atoi(strIn + 14); 
;;;1572   			g_tHost.Second =   atoi(strIn + 17); 
;;;1573   		
;;;1574   			if((g_tHost.Year>1999) && (g_tHost.Month>0 && g_tHost.Month<13 ) &&(g_tHost.Day>0 && g_tHost.Day<=31)&&
;;;1575   			(g_tHost.Hour<24)&&(g_tHost.Minute<60)&&(g_tHost.Second<60))
;;;1576   			{
;;;1577   				result = RTC_WriteClock(g_tHost.Year,g_tHost.Month,g_tHost.Day,g_tHost.Hour,g_tHost.Minute,g_tHost.Second);//RTC_DateTime_Set(&g_tHost);
;;;1578   			
;;;1579   				if( result )
;;;1580   				{
;;;1581   					sprintf(strOut,"<17,B0002,%02d,%s,T,N>\r\n",device_id,cmdItem[0]);
;;;1582   				}
;;;1583   				else
;;;1584   				{ 
;;;1585   					sprintf(strOut,"<17,B0002,%02d,%s,F,N>\r\n",device_id,cmdItem[0]);
;;;1586   				}
;;;1587   			}
;;;1588   			else
;;;1589   			{
;;;1590   				sprintf(strOut,"<17,B0002,%02d,%s,BAD COMMAND.,N>\r\n",device_id,cmdItem[0]);
;;;1591   			}
;;;1592   		}
;;;1593   		else   
;;;1594   		{
;;;1595   			RTC_ReadClock();	
;;;1596   		
;;;1597   			sprintf(strOut,"<17,B0002,%02d,%s,%04d-%02d-%02d %02d:%02d:%02d,N>\r\n",device_id,cmdItem[0],g_tRTC.Year,g_tRTC.Mon,g_tRTC.Day,g_tRTC.Hour,g_tRTC.Min,g_tRTC.Sec);
;;;1598   		}
;;;1599   	}
;;;1600   }
000020  b007              ADD      sp,sp,#0x1c
000022  e8bd83f0          POP      {r4-r9,pc}
                  |L14.38|
000026  2400              MOVS     r4,#0                 ;1548
000028  e019              B        |L14.94|
                  |L14.42|
00002a  b934              CBNZ     r4,|L14.58|
00002c  a15f              ADR      r1,|L14.428|
00002e  4648              MOV      r0,r9                 ;1551
000030  f7fffffe          BL       strtok
000034  495e              LDR      r1,|L14.432|
000036  6008              STR      r0,[r1,#0]            ;1551  ; cmdItem
000038  e006              B        |L14.72|
                  |L14.58|
00003a  a15c              ADR      r1,|L14.428|
00003c  2000              MOVS     r0,#0                 ;1553
00003e  f7fffffe          BL       strtok
000042  495b              LDR      r1,|L14.432|
000044  f8410024          STR      r0,[r1,r4,LSL #2]     ;1553
                  |L14.72|
000048  4859              LDR      r0,|L14.432|
00004a  f8500024          LDR      r0,[r0,r4,LSL #2]     ;1555
00004e  b900              CBNZ     r0,|L14.82|
000050  e007              B        |L14.98|
                  |L14.82|
000052  f1080001          ADD      r0,r8,#1              ;1558
000056  f00008ff          AND      r8,r0,#0xff           ;1558
00005a  1c60              ADDS     r0,r4,#1              ;1548
00005c  b2c4              UXTB     r4,r0                 ;1548
                  |L14.94|
00005e  2c14              CMP      r4,#0x14              ;1548
000060  dbe3              BLT      |L14.42|
                  |L14.98|
000062  bf00              NOP                            ;1556
000064  f1b80f03          CMP      r8,#3                 ;1561
000068  db76              BLT      |L14.344|
00006a  4851              LDR      r0,|L14.432|
00006c  6841              LDR      r1,[r0,#4]            ;1563  ; cmdItem
00006e  4851              LDR      r0,|L14.436|
000070  f7fffffe          BL       strcat
000074  a14d              ADR      r1,|L14.428|
000076  484f              LDR      r0,|L14.436|
000078  f7fffffe          BL       strcat
00007c  484c              LDR      r0,|L14.432|
00007e  6881              LDR      r1,[r0,#8]            ;1565  ; cmdItem
000080  484c              LDR      r0,|L14.436|
000082  f7fffffe          BL       strcat
000086  484b              LDR      r0,|L14.436|
000088  f7fffffe          BL       atoi
00008c  494a              LDR      r1,|L14.440|
00008e  8008              STRH     r0,[r1,#0]            ;1567
000090  4848              LDR      r0,|L14.436|
000092  1d40              ADDS     r0,r0,#5              ;1568
000094  f7fffffe          BL       atoi
000098  4947              LDR      r1,|L14.440|
00009a  7088              STRB     r0,[r1,#2]            ;1568
00009c  4845              LDR      r0,|L14.436|
00009e  3008              ADDS     r0,r0,#8              ;1569
0000a0  f7fffffe          BL       atoi
0000a4  4944              LDR      r1,|L14.440|
0000a6  70c8              STRB     r0,[r1,#3]            ;1569
0000a8  4842              LDR      r0,|L14.436|
0000aa  300b              ADDS     r0,r0,#0xb            ;1570
0000ac  f7fffffe          BL       atoi
0000b0  4941              LDR      r1,|L14.440|
0000b2  7108              STRB     r0,[r1,#4]            ;1570
0000b4  483f              LDR      r0,|L14.436|
0000b6  300e              ADDS     r0,r0,#0xe            ;1571
0000b8  f7fffffe          BL       atoi
0000bc  493e              LDR      r1,|L14.440|
0000be  7148              STRB     r0,[r1,#5]            ;1571
0000c0  483c              LDR      r0,|L14.436|
0000c2  3011              ADDS     r0,r0,#0x11           ;1572
0000c4  f7fffffe          BL       atoi
0000c8  493b              LDR      r1,|L14.440|
0000ca  7188              STRB     r0,[r1,#6]            ;1572
0000cc  4608              MOV      r0,r1                 ;1574
0000ce  8800              LDRH     r0,[r0,#0]            ;1574  ; g_tHost
0000d0  f5b06ffa          CMP      r0,#0x7d0             ;1574
0000d4  db41              BLT      |L14.346|
0000d6  4608              MOV      r0,r1                 ;1574
0000d8  7880              LDRB     r0,[r0,#2]            ;1574  ; g_tHost
0000da  2800              CMP      r0,#0                 ;1574
0000dc  dd3d              BLE      |L14.346|
0000de  4608              MOV      r0,r1                 ;1574
0000e0  7880              LDRB     r0,[r0,#2]            ;1574  ; g_tHost
0000e2  280d              CMP      r0,#0xd               ;1574
0000e4  da39              BGE      |L14.346|
0000e6  4608              MOV      r0,r1                 ;1574
0000e8  78c0              LDRB     r0,[r0,#3]            ;1574  ; g_tHost
0000ea  2800              CMP      r0,#0                 ;1574
0000ec  dd35              BLE      |L14.346|
0000ee  4608              MOV      r0,r1                 ;1574
0000f0  78c0              LDRB     r0,[r0,#3]            ;1574  ; g_tHost
0000f2  281f              CMP      r0,#0x1f              ;1574
0000f4  dc31              BGT      |L14.346|
0000f6  4608              MOV      r0,r1                 ;1575
0000f8  7900              LDRB     r0,[r0,#4]            ;1575  ; g_tHost
0000fa  2818              CMP      r0,#0x18              ;1575
0000fc  da2d              BGE      |L14.346|
0000fe  4608              MOV      r0,r1                 ;1575
000100  7940              LDRB     r0,[r0,#5]            ;1575  ; g_tHost
000102  283c              CMP      r0,#0x3c              ;1575
000104  da29              BGE      |L14.346|
000106  4608              MOV      r0,r1                 ;1575
000108  7980              LDRB     r0,[r0,#6]            ;1575  ; g_tHost
00010a  283c              CMP      r0,#0x3c              ;1575
00010c  da25              BGE      |L14.346|
00010e  4608              MOV      r0,r1                 ;1577
000110  7980              LDRB     r0,[r0,#6]            ;1577  ; g_tHost
000112  7949              LDRB     r1,[r1,#5]            ;1577  ; g_tHost
000114  f8dfc0a0          LDR      r12,|L14.440|
000118  e9cd1000          STRD     r1,r0,[sp,#0]         ;1577
00011c  f89c3004          LDRB     r3,[r12,#4]           ;1577  ; g_tHost
000120  f89c2003          LDRB     r2,[r12,#3]           ;1577  ; g_tHost
000124  f89c1002          LDRB     r1,[r12,#2]           ;1577  ; g_tHost
000128  f8bc0000          LDRH     r0,[r12,#0]           ;1577  ; g_tHost
00012c  f7fffffe          BL       RTC_WriteClock
000130  4606              MOV      r6,r0                 ;1577
000132  b146              CBZ      r6,|L14.326|
000134  481e              LDR      r0,|L14.432|
000136  6803              LDR      r3,[r0,#0]            ;1581  ; cmdItem
000138  4820              LDR      r0,|L14.444|
00013a  7802              LDRB     r2,[r0,#0]            ;1581  ; device_id
00013c  a120              ADR      r1,|L14.448|
00013e  4827              LDR      r0,|L14.476|
000140  f7fffffe          BL       __2sprintf
000144  e02e              B        |L14.420|
                  |L14.326|
000146  481a              LDR      r0,|L14.432|
000148  6803              LDR      r3,[r0,#0]            ;1585  ; cmdItem
00014a  481c              LDR      r0,|L14.444|
00014c  7802              LDRB     r2,[r0,#0]            ;1585  ; device_id
00014e  a124              ADR      r1,|L14.480|
000150  4822              LDR      r0,|L14.476|
000152  f7fffffe          BL       __2sprintf
000156  e025              B        |L14.420|
                  |L14.344|
000158  e008              B        |L14.364|
                  |L14.346|
00015a  4815              LDR      r0,|L14.432|
00015c  6803              LDR      r3,[r0,#0]            ;1590  ; cmdItem
00015e  4817              LDR      r0,|L14.444|
000160  7802              LDRB     r2,[r0,#0]            ;1590  ; device_id
000162  a126              ADR      r1,|L14.508|
000164  481d              LDR      r0,|L14.476|
000166  f7fffffe          BL       __2sprintf
00016a  e01b              B        |L14.420|
                  |L14.364|
00016c  f7fffffe          BL       RTC_ReadClock
000170  482b              LDR      r0,|L14.544|
000172  7980              LDRB     r0,[r0,#6]            ;1597  ; g_tRTC
000174  492a              LDR      r1,|L14.544|
000176  7949              LDRB     r1,[r1,#5]            ;1597  ; g_tRTC
000178  4a29              LDR      r2,|L14.544|
00017a  7912              LDRB     r2,[r2,#4]            ;1597  ; g_tRTC
00017c  4b28              LDR      r3,|L14.544|
00017e  78db              LDRB     r3,[r3,#3]            ;1597  ; g_tRTC
000180  e9cd3202          STRD     r3,r2,[sp,#8]         ;1597
000184  e9cd1004          STRD     r1,r0,[sp,#0x10]      ;1597
000188  4825              LDR      r0,|L14.544|
00018a  7880              LDRB     r0,[r0,#2]            ;1597  ; g_tRTC
00018c  4924              LDR      r1,|L14.544|
00018e  8809              LDRH     r1,[r1,#0]            ;1597  ; g_tRTC
000190  e9cd1000          STRD     r1,r0,[sp,#0]         ;1597
000194  4806              LDR      r0,|L14.432|
000196  6803              LDR      r3,[r0,#0]            ;1597  ; cmdItem
000198  4808              LDR      r0,|L14.444|
00019a  7802              LDRB     r2,[r0,#0]            ;1597  ; device_id
00019c  a121              ADR      r1,|L14.548|
00019e  480f              LDR      r0,|L14.476|
0001a0  f7fffffe          BL       __2sprintf
                  |L14.420|
0001a4  bf00              NOP      
0001a6  e73b              B        |L14.32|
;;;1601   
                          ENDP

                  |L14.424|
0001a8  3f00              DCB      "?",0
0001aa  00                DCB      0
0001ab  00                DCB      0
                  |L14.428|
0001ac  2000              DCB      " ",0
0001ae  00                DCB      0
0001af  00                DCB      0
                  |L14.432|
                          DCD      cmdItem
                  |L14.436|
                          DCD      strIn
                  |L14.440|
                          DCD      g_tHost
                  |L14.444|
                          DCD      device_id
                  |L14.448|
0001c0  3c31372c          DCB      "<17,B0002,%02d,%s,T,N>\r\n",0
0001c4  42303030
0001c8  322c2530
0001cc  32642c25
0001d0  732c542c
0001d4  4e3e0d0a
0001d8  00      
0001d9  00                DCB      0
0001da  00                DCB      0
0001db  00                DCB      0
                  |L14.476|
                          DCD      strOut
                  |L14.480|
0001e0  3c31372c          DCB      "<17,B0002,%02d,%s,F,N>\r\n",0
0001e4  42303030
0001e8  322c2530
0001ec  32642c25
0001f0  732c462c
0001f4  4e3e0d0a
0001f8  00      
0001f9  00                DCB      0
0001fa  00                DCB      0
0001fb  00                DCB      0
                  |L14.508|
0001fc  3c31372c          DCB      "<17,B0002,%02d,%s,BAD COMMAND.,N>\r\n",0
000200  42303030
000204  322c2530
000208  32642c25
00020c  732c4241
000210  4420434f
000214  4d4d414e
000218  442e2c4e
00021c  3e0d0a00
                  |L14.544|
                          DCD      g_tRTC
                  |L14.548|
000224  3c31372c          DCB      "<17,B0002,%02d,%s,%04d-%02d-%02d %02d:%02d:%02d,N>\r\n",0
000228  42303030
00022c  322c2530
000230  32642c25
000234  732c2530
000238  34642d25
00023c  3032642d
000240  25303264
000244  20253032
000248  643a2530
00024c  32643a25
000250  3032642c
000254  4e3e0d0a
000258  00      
000259  00                DCB      0
00025a  00                DCB      0
00025b  00                DCB      0

                          AREA ||i.Process_DNO_Command||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_d
                          REQUIRE _printf_s
                          REQUIRE _printf_int_dec
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                  Process_DNO_Command PROC
;;;1688   
;;;1689   void Process_DNO_Command(uint8_t *_ucaBuf, uint16_t _usLen)
000000  e92d5ffc          PUSH     {r2-r12,lr}
;;;1690   {
000004  4605              MOV      r5,r0
000006  4689              MOV      r9,r1
;;;1691   	uint8_t len,strCount = 0;		
000008  2700              MOVS     r7,#0
;;;1692   	uint8_t i;
;;;1693   
;;;1694      char chTemp;
;;;1695   
;;;1696   	uint8_t para_validate = 0x00;
00000a  46bb              MOV      r11,r7
;;;1697   	
;;;1698   	char *p;
;;;1699   
;;;1700   	p = (char *)_ucaBuf;
00000c  46aa              MOV      r10,r5
;;;1701   	p[_usLen] = 0;
00000e  2000              MOVS     r0,#0
000010  f80a0009          STRB     r0,[r10,r9]
;;;1702   	
;;;1703   	if( strstr(p,"?") != NULL)
000014  a14f              ADR      r1,|L15.340|
000016  4650              MOV      r0,r10
000018  f7fffffe          BL       strstr
00001c  b120              CBZ      r0,|L15.40|
;;;1704   	{
;;;1705   			strcpy(strOut,DNO);
00001e  494e              LDR      r1,|L15.344|
000020  484e              LDR      r0,|L15.348|
000022  f7fffffe          BL       strcpy
000026  e093              B        |L15.336|
                  |L15.40|
;;;1706   	}
;;;1707   	else
;;;1708   	{
;;;1709   		for(i=0;i<20;i++)
000028  2400              MOVS     r4,#0
00002a  e017              B        |L15.92|
                  |L15.44|
;;;1710   		{			
;;;1711   			if(i == 0)
00002c  b934              CBNZ     r4,|L15.60|
;;;1712   					cmdItem[0] = strtok(p, " "); 
00002e  a14c              ADR      r1,|L15.352|
000030  4650              MOV      r0,r10
000032  f7fffffe          BL       strtok
000036  494b              LDR      r1,|L15.356|
000038  6008              STR      r0,[r1,#0]  ; cmdItem
00003a  e006              B        |L15.74|
                  |L15.60|
;;;1713   			else
;;;1714   					cmdItem[i] = strtok(NULL, " ");
00003c  a148              ADR      r1,|L15.352|
00003e  2000              MOVS     r0,#0
000040  f7fffffe          BL       strtok
000044  4947              LDR      r1,|L15.356|
000046  f8410024          STR      r0,[r1,r4,LSL #2]
                  |L15.74|
;;;1715   
;;;1716   			if(cmdItem[i] == NULL)
00004a  4846              LDR      r0,|L15.356|
00004c  f8500024          LDR      r0,[r0,r4,LSL #2]
000050  b900              CBNZ     r0,|L15.84|
;;;1717   				break;
000052  e005              B        |L15.96|
                  |L15.84|
;;;1718   			
;;;1719   			strCount++; 
000054  1c78              ADDS     r0,r7,#1
000056  b2c7              UXTB     r7,r0
000058  1c60              ADDS     r0,r4,#1              ;1709
00005a  b2c4              UXTB     r4,r0                 ;1709
                  |L15.92|
00005c  2c14              CMP      r4,#0x14              ;1709
00005e  dbe5              BLT      |L15.44|
                  |L15.96|
000060  bf00              NOP                            ;1717
;;;1720   		}
;;;1721   			
;;;1722   		if(strCount > 1)   
000062  2f01              CMP      r7,#1
000064  dd64              BLE      |L15.304|
;;;1723   		{
;;;1724   			if(strCount == 2)
000066  2f02              CMP      r7,#2
000068  d155              BNE      |L15.278|
;;;1725   			{
;;;1726   				strcpy(strIn,cmdItem[1]);
00006a  483e              LDR      r0,|L15.356|
00006c  6841              LDR      r1,[r0,#4]  ; cmdItem
00006e  483e              LDR      r0,|L15.360|
000070  f7fffffe          BL       strcpy
;;;1727   				len = strlen(strIn);
000074  483c              LDR      r0,|L15.360|
000076  f7fffffe          BL       strlen
00007a  b2c6              UXTB     r6,r0
;;;1728   						
;;;1729   				if(len == 2)  //2018.9.26 改为2byte
00007c  2e02              CMP      r6,#2
00007e  d167              BNE      |L15.336|
;;;1730   				{
;;;1731   					for(i=0;i< len;i++)
000080  2400              MOVS     r4,#0
000082  e010              B        |L15.166|
                  |L15.132|
;;;1732   					{
;;;1733   						chTemp = strIn[i];
000084  4838              LDR      r0,|L15.360|
000086  f8108004          LDRB     r8,[r0,r4]
;;;1734   						
;;;1735   						if(chTemp >= 0x30 && chTemp <= 0x39)
00008a  f1b80f30          CMP      r8,#0x30
00008e  db05              BLT      |L15.156|
000090  f1b80f39          CMP      r8,#0x39
000094  dc02              BGT      |L15.156|
;;;1736   							para_validate = 0x0ff;
000096  f04f0bff          MOV      r11,#0xff
00009a  e002              B        |L15.162|
                  |L15.156|
;;;1737   						else
;;;1738   						{  
;;;1739   							para_validate = 0x00;
00009c  f04f0b00          MOV      r11,#0
;;;1740   							break;
0000a0  e003              B        |L15.170|
                  |L15.162|
0000a2  1c60              ADDS     r0,r4,#1              ;1731
0000a4  b2c4              UXTB     r4,r0                 ;1731
                  |L15.166|
0000a6  42b4              CMP      r4,r6                 ;1731
0000a8  dbec              BLT      |L15.132|
                  |L15.170|
0000aa  bf00              NOP      
;;;1741   						}
;;;1742   					}
;;;1743   								
;;;1744   					if( para_validate )
0000ac  f1bb0f00          CMP      r11,#0
0000b0  d023              BEQ      |L15.250|
;;;1745   					{
;;;1746   						strcpy(cjq_pz_ptr->Station_DNO,strIn);
0000b2  492d              LDR      r1,|L15.360|
0000b4  482d              LDR      r0,|L15.364|
0000b6  6800              LDR      r0,[r0,#0]  ; cjq_pz_ptr
0000b8  3080              ADDS     r0,r0,#0x80
0000ba  f7fffffe          BL       strcpy
;;;1747   						
;;;1748   						device_id = atoi(strIn);
0000be  482a              LDR      r0,|L15.360|
0000c0  f7fffffe          BL       atoi
0000c4  492a              LDR      r1,|L15.368|
0000c6  7008              STRB     r0,[r1,#0]
;;;1749   						
;;;1750   						cjq_pz_ptr->init_flag = 0x0AA55;					
0000c8  f64a2055          MOV      r0,#0xaa55
0000cc  4927              LDR      r1,|L15.364|
0000ce  6809              LDR      r1,[r1,#0]  ; cjq_pz_ptr
0000d0  f8c100d8          STR      r0,[r1,#0xd8]
;;;1751   
;;;1752   						strcpy(gstrStationDNO,cjq_pz_ptr->Station_DNO);											
0000d4  4825              LDR      r0,|L15.364|
0000d6  6801              LDR      r1,[r0,#0]  ; cjq_pz_ptr
0000d8  3180              ADDS     r1,r1,#0x80
0000da  4826              LDR      r0,|L15.372|
0000dc  f7fffffe          BL       strcpy
;;;1753   
;;;1754   						sprintf(strOut,"<17,%s,%02d,%s,T,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0]);
0000e0  4820              LDR      r0,|L15.356|
0000e2  6800              LDR      r0,[r0,#0]  ; cmdItem
0000e4  9000              STR      r0,[sp,#0]
0000e6  4822              LDR      r0,|L15.368|
0000e8  7803              LDRB     r3,[r0,#0]  ; device_id
0000ea  4820              LDR      r0,|L15.364|
0000ec  6802              LDR      r2,[r0,#0]  ; cjq_pz_ptr
0000ee  3278              ADDS     r2,r2,#0x78
0000f0  a121              ADR      r1,|L15.376|
0000f2  481a              LDR      r0,|L15.348|
0000f4  f7fffffe          BL       __2sprintf
0000f8  e02a              B        |L15.336|
                  |L15.250|
;;;1755   					}											
;;;1756   					else
;;;1757   					{
;;;1758   						sprintf(strOut,"<17,%s,%02d,%s,F,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0]);
0000fa  481a              LDR      r0,|L15.356|
0000fc  6800              LDR      r0,[r0,#0]  ; cmdItem
0000fe  9000              STR      r0,[sp,#0]
000100  481b              LDR      r0,|L15.368|
000102  7803              LDRB     r3,[r0,#0]  ; device_id
000104  4819              LDR      r0,|L15.364|
000106  6802              LDR      r2,[r0,#0]  ; cjq_pz_ptr
000108  3278              ADDS     r2,r2,#0x78
00010a  a121              ADR      r1,|L15.400|
00010c  4813              LDR      r0,|L15.348|
00010e  f7fffffe          BL       __2sprintf
                  |L15.274|
;;;1759   						return;
;;;1760   					}	
;;;1761   				}
;;;1762   			}
;;;1763   			else
;;;1764   			{
;;;1765   				sprintf(strOut,"<17,%s,%02d,%s,F,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0]);
;;;1766   				return;
;;;1767   			}
;;;1768   		}
;;;1769   		else
;;;1770   		{
;;;1771   			sprintf(strOut,"<17,%s,%02d,%s,%s,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0],cjq_pz_ptr->Station_DNO);
;;;1772   		}
;;;1773   	}
;;;1774   }
000112  e8bd9ffc          POP      {r2-r12,pc}
                  |L15.278|
000116  4813              LDR      r0,|L15.356|
000118  6800              LDR      r0,[r0,#0]            ;1765  ; cmdItem
00011a  9000              STR      r0,[sp,#0]            ;1765
00011c  4814              LDR      r0,|L15.368|
00011e  7803              LDRB     r3,[r0,#0]            ;1765  ; device_id
000120  4812              LDR      r0,|L15.364|
000122  6802              LDR      r2,[r0,#0]            ;1765  ; cjq_pz_ptr
000124  3278              ADDS     r2,r2,#0x78           ;1765
000126  a11a              ADR      r1,|L15.400|
000128  480c              LDR      r0,|L15.348|
00012a  f7fffffe          BL       __2sprintf
00012e  e7f0              B        |L15.274|
                  |L15.304|
000130  480e              LDR      r0,|L15.364|
000132  6800              LDR      r0,[r0,#0]            ;1771  ; cjq_pz_ptr
000134  3080              ADDS     r0,r0,#0x80           ;1771
000136  490b              LDR      r1,|L15.356|
000138  6809              LDR      r1,[r1,#0]            ;1771  ; cmdItem
00013a  e9cd1000          STRD     r1,r0,[sp,#0]         ;1771
00013e  480c              LDR      r0,|L15.368|
000140  7803              LDRB     r3,[r0,#0]            ;1771  ; device_id
000142  480a              LDR      r0,|L15.364|
000144  6802              LDR      r2,[r0,#0]            ;1771  ; cjq_pz_ptr
000146  3278              ADDS     r2,r2,#0x78           ;1771
000148  a117              ADR      r1,|L15.424|
00014a  4804              LDR      r0,|L15.348|
00014c  f7fffffe          BL       __2sprintf
                  |L15.336|
000150  bf00              NOP      
000152  e7de              B        |L15.274|
;;;1775   
                          ENDP

                  |L15.340|
000154  3f00              DCB      "?",0
000156  00                DCB      0
000157  00                DCB      0
                  |L15.344|
                          DCD      ||DNO||
                  |L15.348|
                          DCD      strOut
                  |L15.352|
000160  2000              DCB      " ",0
000162  00                DCB      0
000163  00                DCB      0
                  |L15.356|
                          DCD      cmdItem
                  |L15.360|
                          DCD      strIn
                  |L15.364|
                          DCD      cjq_pz_ptr
                  |L15.368|
                          DCD      device_id
                  |L15.372|
                          DCD      gstrStationDNO
                  |L15.376|
000178  3c31372c          DCB      "<17,%s,%02d,%s,T,N>\r\n",0
00017c  25732c25
000180  3032642c
000184  25732c54
000188  2c4e3e0d
00018c  0a00    
00018e  00                DCB      0
00018f  00                DCB      0
                  |L15.400|
000190  3c31372c          DCB      "<17,%s,%02d,%s,F,N>\r\n",0
000194  25732c25
000198  3032642c
00019c  25732c46
0001a0  2c4e3e0d
0001a4  0a00    
0001a6  00                DCB      0
0001a7  00                DCB      0
                  |L15.424|
0001a8  3c31372c          DCB      "<17,%s,%02d,%s,%s,N>\r\n",0
0001ac  25732c25
0001b0  3032642c
0001b4  25732c25
0001b8  732c4e3e
0001bc  0d0a00  
0001bf  00                DCB      0

                          AREA ||i.Process_Host_Message||, CODE, READONLY, ALIGN=2

                  Process_Host_Message PROC
;;;1302   
;;;1303   void Process_Host_Message(void)  
000000  b50e              PUSH     {r1-r3,lr}
;;;1304   {	
;;;1305   	uint8_t ucData,error;
;;;1306   
;;;1307   	uint8_t ucGprsFrame = 0,Frame_End_Pos;	
000002  f04f0a00          MOV      r10,#0
;;;1308   	uint8_t usGprsPos   = 0;	
000006  2400              MOVS     r4,#0
;;;1309   	uint8_t rcFlag      = 1;	
000008  f04f0801          MOV      r8,#1
;;;1310   
;;;1311   	unsigned int sentCount;
;;;1312   	
;;;1313   	unsigned char now_value,pre_value=0x0ff;
00000c  f04f0bff          MOV      r11,#0xff
;;;1314   
;;;1315   	uint8_t gblnComm_Success = 0x00;
000010  2000              MOVS     r0,#0
000012  9001              STR      r0,[sp,#4]
;;;1316   	//uint16_t Send_Timer = 0x0000,i;
;;;1317   
;;;1318   	static uint8_t ucaGprsBuf[254];
;;;1319   	
;;;1320   	while(1)
000014  e14b              B        |L16.686|
                  |L16.22|
;;;1321   	{
;;;1322   		if (com1GetChar(&ucData))
000016  a802              ADD      r0,sp,#8
000018  f7fffffe          BL       com1GetChar
00001c  2800              CMP      r0,#0
00001e  d075              BEQ      |L16.268|
;;;1323   		{
;;;1324   			ucaGprsBuf[usGprsPos++] = ucData;
000020  f89d2008          LDRB     r2,[sp,#8]
000024  4620              MOV      r0,r4
000026  1c61              ADDS     r1,r4,#1
000028  b2cc              UXTB     r4,r1
00002a  49a1              LDR      r1,|L16.688|
00002c  540a              STRB     r2,[r1,r0]
;;;1325   
;;;1326   			while(rcFlag && com1GetChar(&ucData))
00002e  e023              B        |L16.120|
                  |L16.48|
;;;1327   			{
;;;1328   				if (usGprsPos < sizeof(ucaGprsBuf))
000030  2cfe              CMP      r4,#0xfe
000032  d21f              BCS      |L16.116|
;;;1329   				{
;;;1330   					ucaGprsBuf[usGprsPos++] = ucData;
000034  f89d2008          LDRB     r2,[sp,#8]
000038  4620              MOV      r0,r4
00003a  1c61              ADDS     r1,r4,#1
00003c  b2cc              UXTB     r4,r1
00003e  499c              LDR      r1,|L16.688|
000040  540a              STRB     r2,[r1,r0]
;;;1331   
;;;1332   					if ((ucData == '\r') || (ucData == '\n') || (ucData == '/'))
000042  f89d0008          LDRB     r0,[sp,#8]
000046  280d              CMP      r0,#0xd
000048  d007              BEQ      |L16.90|
00004a  f89d0008          LDRB     r0,[sp,#8]
00004e  280a              CMP      r0,#0xa
000050  d003              BEQ      |L16.90|
000052  f89d0008          LDRB     r0,[sp,#8]
000056  282f              CMP      r0,#0x2f
000058  d10c              BNE      |L16.116|
                  |L16.90|
;;;1333   					{
;;;1334   						ucGprsFrame = 0x0ff;
00005a  f04f0aff          MOV      r10,#0xff
;;;1335   					
;;;1336   						Frame_End_Pos = usGprsPos-1;
00005e  1e60              SUBS     r0,r4,#1
000060  b2c7              UXTB     r7,r0
;;;1337   						ucaGprsBuf[Frame_End_Pos] = ' ';
000062  2020              MOVS     r0,#0x20
000064  4992              LDR      r1,|L16.688|
000066  55c8              STRB     r0,[r1,r7]
;;;1338   					
;;;1339   						if(ucData == '\n')
000068  f89d0008          LDRB     r0,[sp,#8]
00006c  280a              CMP      r0,#0xa
00006e  d101              BNE      |L16.116|
;;;1340   						{
;;;1341   								rcFlag = 0x00;
000070  f04f0800          MOV      r8,#0
                  |L16.116|
;;;1342   						}
;;;1343   					}
;;;1344   				}
;;;1345   
;;;1346   				TASK1_CallBack2();				
000074  f7fffffe          BL       TASK1_CallBack2
                  |L16.120|
000078  f1b80f00          CMP      r8,#0                 ;1326
00007c  d004              BEQ      |L16.136|
00007e  a802              ADD      r0,sp,#8              ;1326
000080  f7fffffe          BL       com1GetChar
000084  2800              CMP      r0,#0                 ;1326
000086  d1d3              BNE      |L16.48|
                  |L16.136|
;;;1347   			}
;;;1348   			
;;;1349   			if(rcFlag) 
000088  f1b80f00          CMP      r8,#0
00008c  d02f              BEQ      |L16.238|
;;;1350   			{
;;;1351   				TASK1_CallBack1(10);
00008e  200a              MOVS     r0,#0xa
000090  f7fffffe          BL       TASK1_CallBack1
;;;1352   					
;;;1353   				while(rcFlag && com1GetChar(&ucData))
000094  e023              B        |L16.222|
                  |L16.150|
;;;1354   				{
;;;1355   					if (usGprsPos < sizeof(ucaGprsBuf))
000096  2cfe              CMP      r4,#0xfe
000098  d21f              BCS      |L16.218|
;;;1356   					{
;;;1357   						ucaGprsBuf[usGprsPos++] = ucData;
00009a  f89d2008          LDRB     r2,[sp,#8]
00009e  4620              MOV      r0,r4
0000a0  1c61              ADDS     r1,r4,#1
0000a2  b2cc              UXTB     r4,r1
0000a4  4982              LDR      r1,|L16.688|
0000a6  540a              STRB     r2,[r1,r0]
;;;1358   
;;;1359   						if ((ucData == '\r') || (ucData == '\n') || (ucData == '/'))
0000a8  f89d0008          LDRB     r0,[sp,#8]
0000ac  280d              CMP      r0,#0xd
0000ae  d007              BEQ      |L16.192|
0000b0  f89d0008          LDRB     r0,[sp,#8]
0000b4  280a              CMP      r0,#0xa
0000b6  d003              BEQ      |L16.192|
0000b8  f89d0008          LDRB     r0,[sp,#8]
0000bc  282f              CMP      r0,#0x2f
0000be  d10c              BNE      |L16.218|
                  |L16.192|
;;;1360   						{
;;;1361   							ucGprsFrame = 0x0ff;
0000c0  f04f0aff          MOV      r10,#0xff
;;;1362   										
;;;1363   							Frame_End_Pos = usGprsPos-1;
0000c4  1e60              SUBS     r0,r4,#1
0000c6  b2c7              UXTB     r7,r0
;;;1364   							ucaGprsBuf[Frame_End_Pos] = ' ';
0000c8  2020              MOVS     r0,#0x20
0000ca  4979              LDR      r1,|L16.688|
0000cc  55c8              STRB     r0,[r1,r7]
;;;1365   										
;;;1366   							if(ucData == '\n')
0000ce  f89d0008          LDRB     r0,[sp,#8]
0000d2  280a              CMP      r0,#0xa
0000d4  d101              BNE      |L16.218|
;;;1367   							{
;;;1368   								rcFlag = 0x00;
0000d6  f04f0800          MOV      r8,#0
                  |L16.218|
;;;1369   							}
;;;1370   						}
;;;1371   					}
;;;1372   
;;;1373   					TASK1_CallBack2();
0000da  f7fffffe          BL       TASK1_CallBack2
                  |L16.222|
0000de  f1b80f00          CMP      r8,#0                 ;1353
0000e2  d004              BEQ      |L16.238|
0000e4  a802              ADD      r0,sp,#8              ;1353
0000e6  f7fffffe          BL       com1GetChar
0000ea  2800              CMP      r0,#0                 ;1353
0000ec  d1d3              BNE      |L16.150|
                  |L16.238|
;;;1374   				}					
;;;1375   			}
;;;1376   			
;;;1377   			if(ucGprsFrame == 0)
0000ee  f1ba0f00          CMP      r10,#0
0000f2  d10c              BNE      |L16.270|
;;;1378   			{
;;;1379   				memcpy(strOut, Error_Message, strlen(Error_Message));
0000f4  486f              LDR      r0,|L16.692|
0000f6  f7fffffe          BL       strlen
0000fa  4602              MOV      r2,r0
0000fc  496d              LDR      r1,|L16.692|
0000fe  9000              STR      r0,[sp,#0]
000100  486d              LDR      r0,|L16.696|
000102  f7fffffe          BL       __aeabi_memcpy
;;;1380   				gblnComm_Success = 0x00;
000106  2000              MOVS     r0,#0
000108  9001              STR      r0,[sp,#4]
00010a  e005              B        |L16.280|
                  |L16.268|
00010c  e009              B        |L16.290|
                  |L16.270|
;;;1381   			}
;;;1382   			else
;;;1383   			{
;;;1384   				ucaGprsBuf[usGprsPos] = 0x00;
00010e  2000              MOVS     r0,#0
000110  4967              LDR      r1,|L16.688|
000112  5508              STRB     r0,[r1,r4]
;;;1385   				gblnComm_Success      = 0x0ff;
000114  20ff              MOVS     r0,#0xff
000116  9001              STR      r0,[sp,#4]
                  |L16.280|
;;;1386   			}
;;;1387   			
;;;1388   			rcFlag      = 1;
000118  f04f0801          MOV      r8,#1
;;;1389   			ucGprsFrame = 0;	
00011c  f04f0a00          MOV      r10,#0
;;;1390   			usGprsPos   = 0;
000120  2400              MOVS     r4,#0
                  |L16.290|
;;;1391   		}
;;;1392   				
;;;1393   		TASK1_CallBack2();
000122  f7fffffe          BL       TASK1_CallBack2
;;;1394   		
;;;1395   		
;;;1396   		
;;;1397   		if(gblnComm_Success)
000126  9801              LDR      r0,[sp,#4]
000128  2800              CMP      r0,#0
00012a  d071              BEQ      |L16.528|
;;;1398   		{
;;;1399   			gblnComm_Success = 0x00;
00012c  2000              MOVS     r0,#0
00012e  9001              STR      r0,[sp,#4]
;;;1400   		
;;;1401   			error  = 0x00;
000130  2500              MOVS     r5,#0
;;;1402   
;;;1403   			strcpy(strOut, "");
000132  4861              LDR      r0,|L16.696|
000134  a161              ADR      r1,|L16.700|
000136  7809              LDRB     r1,[r1,#0]
000138  7001              STRB     r1,[r0,#0]
;;;1404   			strcpy(strIn, "");
00013a  4861              LDR      r0,|L16.704|
00013c  a15f              ADR      r1,|L16.700|
00013e  7809              LDRB     r1,[r1,#0]
000140  7001              STRB     r1,[r0,#0]
;;;1405   		
;;;1406   			ucData = ucaGprsBuf[0];
000142  485b              LDR      r0,|L16.688|
000144  7800              LDRB     r0,[r0,#0]  ; ucaGprsBuf
000146  9002              STR      r0,[sp,#8]
;;;1407   			
;;;1408   			switch(ucData) 		
000148  f89d0008          LDRB     r0,[sp,#8]
00014c  2849              CMP      r0,#0x49
00014e  d031              BEQ      |L16.436|
000150  dc04              BGT      |L16.348|
000152  2841              CMP      r0,#0x41
000154  d007              BEQ      |L16.358|
000156  2844              CMP      r0,#0x44
000158  d15e              BNE      |L16.536|
00015a  e012              B        |L16.386|
                  |L16.348|
00015c  2852              CMP      r0,#0x52
00015e  d037              BEQ      |L16.464|
000160  2853              CMP      r0,#0x53
000162  d159              BNE      |L16.536|
000164  e040              B        |L16.488|
                  |L16.358|
;;;1409   			{	
;;;1410   				case 'A':
;;;1411   					if (memcmp(ucaGprsBuf, "ALT ", 4) == 0)
000166  2204              MOVS     r2,#4
000168  a156              ADR      r1,|L16.708|
00016a  4851              LDR      r0,|L16.688|
00016c  f7fffffe          BL       memcmp
000170  b920              CBNZ     r0,|L16.380|
;;;1412   					{
;;;1413   						Process_ALT_Command(ucaGprsBuf,Frame_End_Pos);
000172  4639              MOV      r1,r7
000174  484e              LDR      r0,|L16.688|
000176  f7fffffe          BL       Process_ALT_Command
00017a  e001              B        |L16.384|
                  |L16.380|
;;;1414   					}
;;;1415   					else
;;;1416   						error++;
00017c  1c68              ADDS     r0,r5,#1
00017e  b2c5              UXTB     r5,r0
                  |L16.384|
;;;1417   
;;;1418   					break;
000180  e04d              B        |L16.542|
                  |L16.386|
;;;1419   
;;;1420   				case 'D':
;;;1421   					if (memcmp(ucaGprsBuf, "DATETIME ", 9) == 0)
000182  2209              MOVS     r2,#9
000184  a151              ADR      r1,|L16.716|
000186  484a              LDR      r0,|L16.688|
000188  f7fffffe          BL       memcmp
00018c  b920              CBNZ     r0,|L16.408|
;;;1422   					{
;;;1423   						Process_DATETIME_Command(ucaGprsBuf,Frame_End_Pos);
00018e  4639              MOV      r1,r7
000190  4847              LDR      r0,|L16.688|
000192  f7fffffe          BL       Process_DATETIME_Command
000196  e00c              B        |L16.434|
                  |L16.408|
;;;1424   					}	
;;;1425   					else if (memcmp(ucaGprsBuf, "DNO ", 4) == 0)
000198  2204              MOVS     r2,#4
00019a  a14f              ADR      r1,|L16.728|
00019c  4844              LDR      r0,|L16.688|
00019e  f7fffffe          BL       memcmp
0001a2  b920              CBNZ     r0,|L16.430|
;;;1426   					{
;;;1427   						Process_DNO_Command(ucaGprsBuf,Frame_End_Pos);
0001a4  4639              MOV      r1,r7
0001a6  4842              LDR      r0,|L16.688|
0001a8  f7fffffe          BL       Process_DNO_Command
0001ac  e001              B        |L16.434|
                  |L16.430|
;;;1428   					}												
;;;1429   					else
;;;1430   						error++;
0001ae  1c68              ADDS     r0,r5,#1
0001b0  b2c5              UXTB     r5,r0
                  |L16.434|
;;;1431   
;;;1432   					break;
0001b2  e034              B        |L16.542|
                  |L16.436|
;;;1433   
;;;1434   				case 'I':
;;;1435   					if (memcmp(ucaGprsBuf, "ID ", 3) == 0)
0001b4  2203              MOVS     r2,#3
0001b6  a14a              ADR      r1,|L16.736|
0001b8  483d              LDR      r0,|L16.688|
0001ba  f7fffffe          BL       memcmp
0001be  b920              CBNZ     r0,|L16.458|
;;;1436   					{
;;;1437   						Process_ID_Command(ucaGprsBuf,Frame_End_Pos);
0001c0  4639              MOV      r1,r7
0001c2  483b              LDR      r0,|L16.688|
0001c4  f7fffffe          BL       Process_ID_Command
0001c8  e001              B        |L16.462|
                  |L16.458|
;;;1438   					}		
;;;1439   					else
;;;1440   						error++;
0001ca  1c68              ADDS     r0,r5,#1
0001cc  b2c5              UXTB     r5,r0
                  |L16.462|
;;;1441   
;;;1442   					break;
0001ce  e026              B        |L16.542|
                  |L16.464|
;;;1443   
;;;1444   				case 'R':
;;;1445   					if (memcmp(ucaGprsBuf, "RESET ", 6) == 0)
0001d0  2206              MOVS     r2,#6
0001d2  a144              ADR      r1,|L16.740|
0001d4  4836              LDR      r0,|L16.688|
0001d6  f7fffffe          BL       memcmp
0001da  b910              CBNZ     r0,|L16.482|
;;;1446   					{
;;;1447   						Process_Reset_Command();
0001dc  f7fffffe          BL       Process_Reset_Command
0001e0  e001              B        |L16.486|
                  |L16.482|
;;;1448   					}							
;;;1449   					else
;;;1450   						error++;
0001e2  1c68              ADDS     r0,r5,#1
0001e4  b2c5              UXTB     r5,r0
                  |L16.486|
;;;1451   
;;;1452   					break;
0001e6  e01a              B        |L16.542|
                  |L16.488|
;;;1453   
;;;1454   				case 'S':
;;;1455   					if (memcmp(ucaGprsBuf, "SENST ", 6) == 0)
0001e8  2206              MOVS     r2,#6
0001ea  a140              ADR      r1,|L16.748|
0001ec  4830              LDR      r0,|L16.688|
0001ee  f7fffffe          BL       memcmp
0001f2  b920              CBNZ     r0,|L16.510|
;;;1456   					{
;;;1457   						Process_SENST_Command(ucaGprsBuf,Frame_End_Pos);
0001f4  4639              MOV      r1,r7
0001f6  482e              LDR      r0,|L16.688|
0001f8  f7fffffe          BL       Process_SENST_Command
0001fc  e00b              B        |L16.534|
                  |L16.510|
;;;1458   					}	
;;;1459   					else if (memcmp(ucaGprsBuf, "SNAPSHOT ", 9) == 0)
0001fe  2209              MOVS     r2,#9
000200  a13c              ADR      r1,|L16.756|
000202  482b              LDR      r0,|L16.688|
000204  f7fffffe          BL       memcmp
000208  b918              CBNZ     r0,|L16.530|
;;;1460   					{
;;;1461   						Process_Snapshot_Command();
00020a  f7fffffe          BL       Process_Snapshot_Command
00020e  e002              B        |L16.534|
                  |L16.528|
000210  e014              B        |L16.572|
                  |L16.530|
;;;1462   					}						
;;;1463   					else
;;;1464   						error++;
000212  1c68              ADDS     r0,r5,#1
000214  b2c5              UXTB     r5,r0
                  |L16.534|
;;;1465   
;;;1466   					break;
000216  e002              B        |L16.542|
                  |L16.536|
;;;1467   
;;;1468   				default :
;;;1469   					error++;
000218  1c68              ADDS     r0,r5,#1
00021a  b2c5              UXTB     r5,r0
;;;1470   
;;;1471   					break;							
00021c  bf00              NOP      
                  |L16.542|
00021e  bf00              NOP                            ;1418
;;;1472   
;;;1473   			}	
;;;1474   
;;;1475   			sentCount = strlen(strOut);
000220  4825              LDR      r0,|L16.696|
000222  f7fffffe          BL       strlen
000226  4606              MOV      r6,r0
;;;1476   			
;;;1477   			if(sentCount >0)
000228  b146              CBZ      r6,|L16.572|
;;;1478   			{		
;;;1479   				comSendBuf(COM1,(uint8_t *)strOut,sentCount);
00022a  b2b2              UXTH     r2,r6
00022c  4922              LDR      r1,|L16.696|
00022e  2000              MOVS     r0,#0
000230  f7fffffe          BL       comSendBuf
;;;1480   				strcpy(strOut, "");
000234  4820              LDR      r0,|L16.696|
000236  a121              ADR      r1,|L16.700|
000238  7809              LDRB     r1,[r1,#0]
00023a  7001              STRB     r1,[r0,#0]
                  |L16.572|
;;;1481   			}				
;;;1482   		}
;;;1483   		
;;;1484   		RTC_ReadClock();
00023c  f7fffffe          BL       RTC_ReadClock
;;;1485   		
;;;1486   		now_value = g_tRTC.Min;
000240  482f              LDR      r0,|L16.768|
000242  f8909005          LDRB     r9,[r0,#5]  ; g_tRTC
;;;1487   		
;;;1488   		if((g_tRTC.Sec >=10)&&(pre_value != now_value))
000246  7980              LDRB     r0,[r0,#6]  ; g_tRTC
000248  280a              CMP      r0,#0xa
00024a  db08              BLT      |L16.606|
00024c  45cb              CMP      r11,r9
00024e  d006              BEQ      |L16.606|
;;;1489   		{
;;;1490   			pre_value = now_value;		
000250  46cb              MOV      r11,r9
;;;1491   		
;;;1492   #if SEA_TIDE == 1	
;;;1493   			if((g_tRTC.Min%1)  == 0)//timer1_1s >= 60)
;;;1494   			{	
;;;1495   
;;;1496   			
;;;1497   #else		
;;;1498   				if((g_tRTC.Min%1) == 0)//timer1_1s >= 600)
000252  bf00              NOP      
;;;1499   				{
;;;1500   #endif			 
;;;1501   					timer1_1s =0; 
000254  2000              MOVS     r0,#0
000256  492b              LDR      r1,|L16.772|
000258  6008              STR      r0,[r1,#0]  ; timer1_1s
;;;1502   					SendTcp_Com1(0);
00025a  f7fffffe          BL       SendTcp_Com1
                  |L16.606|
;;;1503   				}
;;;1504   			}
;;;1505   			
;;;1506   		if(timer1_1s_1>=180)
00025e  482a              LDR      r0,|L16.776|
000260  6800              LDR      r0,[r0,#0]  ; timer1_1s_1
000262  28b4              CMP      r0,#0xb4
000264  d304              BCC      |L16.624|
;;;1507   		{
;;;1508   			timer1_1s_1 =0; 
000266  2000              MOVS     r0,#0
000268  4927              LDR      r1,|L16.776|
00026a  6008              STR      r0,[r1,#0]  ; timer1_1s_1
;;;1509   			SendHeart_Com1();
00026c  f7fffffe          BL       SendHeart_Com1
                  |L16.624|
;;;1510   		}
;;;1511   
;;;1512   		if(snap_shot_flag)
000270  4826              LDR      r0,|L16.780|
000272  7800              LDRB     r0,[r0,#0]  ; snap_shot_flag
000274  b128              CBZ      r0,|L16.642|
;;;1513   		{
;;;1514   			snap_shot_flag = 0x00;
000276  2000              MOVS     r0,#0
000278  4924              LDR      r1,|L16.780|
00027a  7008              STRB     r0,[r1,#0]
;;;1515   			
;;;1516   			SendTcp_Com1(1);	
00027c  2001              MOVS     r0,#1
00027e  f7fffffe          BL       SendTcp_Com1
                  |L16.642|
;;;1517   		}
;;;1518   					
;;;1519   		TASK1_CallBack1(10);
000282  200a              MOVS     r0,#0xa
000284  f7fffffe          BL       TASK1_CallBack1
;;;1520   		
;;;1521   		if(read_radar_count >= 20)
000288  4821              LDR      r0,|L16.784|
00028a  8800              LDRH     r0,[r0,#0]  ; read_radar_count
00028c  2814              CMP      r0,#0x14
00028e  db03              BLT      |L16.664|
;;;1522   			radar_state = 0x05;
000290  2005              MOVS     r0,#5
000292  4920              LDR      r1,|L16.788|
000294  7008              STRB     r0,[r1,#0]
000296  e00a              B        |L16.686|
                  |L16.664|
;;;1523   		else
;;;1524   		if(read_radar_count >= 10)
000298  481d              LDR      r0,|L16.784|
00029a  8800              LDRH     r0,[r0,#0]  ; read_radar_count
00029c  280a              CMP      r0,#0xa
00029e  db03              BLT      |L16.680|
;;;1525   			radar_state = 0x02;
0002a0  2002              MOVS     r0,#2
0002a2  491c              LDR      r1,|L16.788|
0002a4  7008              STRB     r0,[r1,#0]
0002a6  e002              B        |L16.686|
                  |L16.680|
;;;1526   		else
;;;1527   			radar_state = 0x00;
0002a8  2000              MOVS     r0,#0
0002aa  491a              LDR      r1,|L16.788|
0002ac  7008              STRB     r0,[r1,#0]
                  |L16.686|
0002ae  e6b2              B        |L16.22|
;;;1528   	}
;;;1529   }
;;;1530   
                          ENDP

                  |L16.688|
                          DCD      ucaGprsBuf
                  |L16.692|
                          DCD      Error_Message
                  |L16.696|
                          DCD      strOut
                  |L16.700|
0002bc  00                DCB      0
0002bd  00                DCB      0
0002be  00                DCB      0
0002bf  00                DCB      0
                  |L16.704|
                          DCD      strIn
                  |L16.708|
0002c4  414c5420          DCB      "ALT ",0
0002c8  00      
0002c9  00                DCB      0
0002ca  00                DCB      0
0002cb  00                DCB      0
                  |L16.716|
0002cc  44415445          DCB      "DATETIME ",0
0002d0  54494d45
0002d4  2000    
0002d6  00                DCB      0
0002d7  00                DCB      0
                  |L16.728|
0002d8  444e4f20          DCB      "DNO ",0
0002dc  00      
0002dd  00                DCB      0
0002de  00                DCB      0
0002df  00                DCB      0
                  |L16.736|
0002e0  49442000          DCB      "ID ",0
                  |L16.740|
0002e4  52455345          DCB      "RESET ",0
0002e8  542000  
0002eb  00                DCB      0
                  |L16.748|
0002ec  53454e53          DCB      "SENST ",0
0002f0  542000  
0002f3  00                DCB      0
                  |L16.756|
0002f4  534e4150          DCB      "SNAPSHOT ",0
0002f8  53484f54
0002fc  2000    
0002fe  00                DCB      0
0002ff  00                DCB      0
                  |L16.768|
                          DCD      g_tRTC
                  |L16.772|
                          DCD      timer1_1s
                  |L16.776|
                          DCD      timer1_1s_1
                  |L16.780|
                          DCD      snap_shot_flag
                  |L16.784|
                          DCD      read_radar_count
                  |L16.788|
                          DCD      radar_state

                          AREA ||i.Process_ID_Command||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_d
                          REQUIRE _printf_s
                          REQUIRE _printf_int_dec
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                  Process_ID_Command PROC
;;;1601   
;;;1602   void Process_ID_Command(uint8_t *_ucaBuf, uint16_t _usLen)
000000  e92d5ffc          PUSH     {r2-r12,lr}
;;;1603   {
000004  4606              MOV      r6,r0
000006  4689              MOV      r9,r1
;;;1604   	uint8_t len,strCount = 0;		
000008  f04f0800          MOV      r8,#0
;;;1605   	uint8_t i;
;;;1606   
;;;1607   	char chTemp;
;;;1608   
;;;1609   	uint8_t para_validate = 0x00;
00000c  46c3              MOV      r11,r8
;;;1610   	
;;;1611   	char *p;
;;;1612   
;;;1613   	p = (char *)_ucaBuf;
00000e  46b2              MOV      r10,r6
;;;1614   	p[_usLen] = 0;
000010  2000              MOVS     r0,#0
000012  f80a0009          STRB     r0,[r10,r9]
;;;1615   	
;;;1616   	if( strstr(p,"?") != NULL)
000016  a152              ADR      r1,|L17.352|
000018  4650              MOV      r0,r10
00001a  f7fffffe          BL       strstr
00001e  b120              CBZ      r0,|L17.42|
;;;1617   	{
;;;1618   		strcpy(strOut,ID);
000020  4950              LDR      r1,|L17.356|
000022  4851              LDR      r0,|L17.360|
000024  f7fffffe          BL       strcpy
000028  e097              B        |L17.346|
                  |L17.42|
;;;1619   	}
;;;1620   	else
;;;1621   	{
;;;1622   		for(i=0;i<20;i++)
00002a  2400              MOVS     r4,#0
00002c  e019              B        |L17.98|
                  |L17.46|
;;;1623   		{			
;;;1624   			if(i == 0)
00002e  b934              CBNZ     r4,|L17.62|
;;;1625   				cmdItem[0] = strtok(p, " "); 
000030  a14e              ADR      r1,|L17.364|
000032  4650              MOV      r0,r10
000034  f7fffffe          BL       strtok
000038  494d              LDR      r1,|L17.368|
00003a  6008              STR      r0,[r1,#0]  ; cmdItem
00003c  e006              B        |L17.76|
                  |L17.62|
;;;1626   			else
;;;1627   				cmdItem[i] = strtok(NULL, " ");
00003e  a14b              ADR      r1,|L17.364|
000040  2000              MOVS     r0,#0
000042  f7fffffe          BL       strtok
000046  494a              LDR      r1,|L17.368|
000048  f8410024          STR      r0,[r1,r4,LSL #2]
                  |L17.76|
;;;1628   
;;;1629   			if(cmdItem[i] == NULL)
00004c  4848              LDR      r0,|L17.368|
00004e  f8500024          LDR      r0,[r0,r4,LSL #2]
000052  b900              CBNZ     r0,|L17.86|
;;;1630   				break;
000054  e007              B        |L17.102|
                  |L17.86|
;;;1631   					
;;;1632   			strCount++; 
000056  f1080001          ADD      r0,r8,#1
00005a  f00008ff          AND      r8,r0,#0xff
00005e  1c60              ADDS     r0,r4,#1              ;1622
000060  b2c4              UXTB     r4,r0                 ;1622
                  |L17.98|
000062  2c14              CMP      r4,#0x14              ;1622
000064  dbe3              BLT      |L17.46|
                  |L17.102|
000066  bf00              NOP                            ;1630
;;;1633   		}
;;;1634   			
;;;1635   		if(strCount > 1)   
000068  f1b80f01          CMP      r8,#1
00006c  dd65              BLE      |L17.314|
;;;1636   		{
;;;1637   			if(strCount == 2)
00006e  f1b80f02          CMP      r8,#2
000072  d155              BNE      |L17.288|
;;;1638   			{
;;;1639   				strcpy(strIn,cmdItem[1]);
000074  483e              LDR      r0,|L17.368|
000076  6841              LDR      r1,[r0,#4]  ; cmdItem
000078  483e              LDR      r0,|L17.372|
00007a  f7fffffe          BL       strcpy
;;;1640   				len = strlen(strIn);
00007e  483d              LDR      r0,|L17.372|
000080  f7fffffe          BL       strlen
000084  b2c7              UXTB     r7,r0
;;;1641   							
;;;1642   				if(len == 5)
000086  2f05              CMP      r7,#5
000088  d167              BNE      |L17.346|
;;;1643   				{
;;;1644   					for(i=0;i< len;i++)
00008a  2400              MOVS     r4,#0
00008c  e015              B        |L17.186|
                  |L17.142|
;;;1645   					{
;;;1646   						chTemp = strIn[i];
00008e  4839              LDR      r0,|L17.372|
000090  5d05              LDRB     r5,[r0,r4]
;;;1647   											
;;;1648   						if((chTemp>=0x30 && chTemp<=0x39)||(chTemp>=0x41 && chTemp<=0x5A)||(chTemp>=0x61 && chTemp<=0x7A))
000092  2d30              CMP      r5,#0x30
000094  db01              BLT      |L17.154|
000096  2d39              CMP      r5,#0x39
000098  dd07              BLE      |L17.170|
                  |L17.154|
00009a  2d41              CMP      r5,#0x41
00009c  db01              BLT      |L17.162|
00009e  2d5a              CMP      r5,#0x5a
0000a0  dd03              BLE      |L17.170|
                  |L17.162|
0000a2  2d61              CMP      r5,#0x61
0000a4  db04              BLT      |L17.176|
0000a6  2d7a              CMP      r5,#0x7a
0000a8  dc02              BGT      |L17.176|
                  |L17.170|
;;;1649   							para_validate = 0x0ff;
0000aa  f04f0bff          MOV      r11,#0xff
0000ae  e002              B        |L17.182|
                  |L17.176|
;;;1650   						else
;;;1651   						{  
;;;1652   							para_validate = 0x00;
0000b0  f04f0b00          MOV      r11,#0
;;;1653   							break;
0000b4  e003              B        |L17.190|
                  |L17.182|
0000b6  1c60              ADDS     r0,r4,#1              ;1644
0000b8  b2c4              UXTB     r4,r0                 ;1644
                  |L17.186|
0000ba  42bc              CMP      r4,r7                 ;1644
0000bc  dbe7              BLT      |L17.142|
                  |L17.190|
0000be  bf00              NOP      
;;;1654   						}
;;;1655   					}
;;;1656   									
;;;1657   					if( para_validate )
0000c0  f1bb0f00          CMP      r11,#0
0000c4  d01e              BEQ      |L17.260|
;;;1658   					{
;;;1659   						strcpy(cjq_pz_ptr->Station_ID,strIn);
0000c6  492b              LDR      r1,|L17.372|
0000c8  482b              LDR      r0,|L17.376|
0000ca  6800              LDR      r0,[r0,#0]  ; cjq_pz_ptr
0000cc  3078              ADDS     r0,r0,#0x78
0000ce  f7fffffe          BL       strcpy
;;;1660   						
;;;1661   						cjq_pz_ptr->init_flag = 0x0AA55;					
0000d2  f64a2055          MOV      r0,#0xaa55
0000d6  4928              LDR      r1,|L17.376|
0000d8  6809              LDR      r1,[r1,#0]  ; cjq_pz_ptr
0000da  f8c100d8          STR      r0,[r1,#0xd8]
;;;1662   
;;;1663   						strcpy(gstrStationID,cjq_pz_ptr->Station_ID);											
0000de  4826              LDR      r0,|L17.376|
0000e0  6801              LDR      r1,[r0,#0]  ; cjq_pz_ptr
0000e2  3178              ADDS     r1,r1,#0x78
0000e4  4825              LDR      r0,|L17.380|
0000e6  f7fffffe          BL       strcpy
;;;1664   
;;;1665   						sprintf(strOut,"<17,%s,%02d,%s,T,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0]);
0000ea  4821              LDR      r0,|L17.368|
0000ec  6800              LDR      r0,[r0,#0]  ; cmdItem
0000ee  9000              STR      r0,[sp,#0]
0000f0  4823              LDR      r0,|L17.384|
0000f2  7803              LDRB     r3,[r0,#0]  ; device_id
0000f4  4820              LDR      r0,|L17.376|
0000f6  6802              LDR      r2,[r0,#0]  ; cjq_pz_ptr
0000f8  3278              ADDS     r2,r2,#0x78
0000fa  a122              ADR      r1,|L17.388|
0000fc  481a              LDR      r0,|L17.360|
0000fe  f7fffffe          BL       __2sprintf
000102  e02a              B        |L17.346|
                  |L17.260|
;;;1666   					}											
;;;1667   					else
;;;1668   					{
;;;1669   						sprintf(strOut,"<17,%s,%02d,%s,F,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0]);
000104  481a              LDR      r0,|L17.368|
000106  6800              LDR      r0,[r0,#0]  ; cmdItem
000108  9000              STR      r0,[sp,#0]
00010a  481d              LDR      r0,|L17.384|
00010c  7803              LDRB     r3,[r0,#0]  ; device_id
00010e  481a              LDR      r0,|L17.376|
000110  6802              LDR      r2,[r0,#0]  ; cjq_pz_ptr
000112  3278              ADDS     r2,r2,#0x78
000114  a121              ADR      r1,|L17.412|
000116  4814              LDR      r0,|L17.360|
000118  f7fffffe          BL       __2sprintf
                  |L17.284|
;;;1670   						return;
;;;1671   					}	
;;;1672   				}
;;;1673   			}
;;;1674   			else
;;;1675   			{
;;;1676   				sprintf(strOut,"<17,%s,%02d,%s,F,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0]);
;;;1677   				return;
;;;1678   			}
;;;1679   		}
;;;1680   		else
;;;1681   		{
;;;1682   			sprintf(strOut,"<17,%s,%02d,%s,%s,N>\r\n",cjq_pz_ptr->Station_ID,device_id,cmdItem[0],cjq_pz_ptr->Station_ID);
;;;1683   		}
;;;1684   	}
;;;1685   }
00011c  e8bd9ffc          POP      {r2-r12,pc}
                  |L17.288|
000120  4813              LDR      r0,|L17.368|
000122  6800              LDR      r0,[r0,#0]            ;1676  ; cmdItem
000124  9000              STR      r0,[sp,#0]            ;1676
000126  4816              LDR      r0,|L17.384|
000128  7803              LDRB     r3,[r0,#0]            ;1676  ; device_id
00012a  4813              LDR      r0,|L17.376|
00012c  6802              LDR      r2,[r0,#0]            ;1676  ; cjq_pz_ptr
00012e  3278              ADDS     r2,r2,#0x78           ;1676
000130  a11a              ADR      r1,|L17.412|
000132  480d              LDR      r0,|L17.360|
000134  f7fffffe          BL       __2sprintf
000138  e7f0              B        |L17.284|
                  |L17.314|
00013a  480f              LDR      r0,|L17.376|
00013c  6800              LDR      r0,[r0,#0]            ;1682  ; cjq_pz_ptr
00013e  3078              ADDS     r0,r0,#0x78           ;1682
000140  490b              LDR      r1,|L17.368|
000142  6809              LDR      r1,[r1,#0]            ;1682  ; cmdItem
000144  e9cd1000          STRD     r1,r0,[sp,#0]         ;1682
000148  480d              LDR      r0,|L17.384|
00014a  7803              LDRB     r3,[r0,#0]            ;1682  ; device_id
00014c  480a              LDR      r0,|L17.376|
00014e  6802              LDR      r2,[r0,#0]            ;1682  ; cjq_pz_ptr
000150  3278              ADDS     r2,r2,#0x78           ;1682
000152  a118              ADR      r1,|L17.436|
000154  4804              LDR      r0,|L17.360|
000156  f7fffffe          BL       __2sprintf
                  |L17.346|
00015a  bf00              NOP      
00015c  e7de              B        |L17.284|
;;;1686   
                          ENDP

00015e  0000              DCW      0x0000
                  |L17.352|
000160  3f00              DCB      "?",0
000162  00                DCB      0
000163  00                DCB      0
                  |L17.356|
                          DCD      ||ID||
                  |L17.360|
                          DCD      strOut
                  |L17.364|
00016c  2000              DCB      " ",0
00016e  00                DCB      0
00016f  00                DCB      0
                  |L17.368|
                          DCD      cmdItem
                  |L17.372|
                          DCD      strIn
                  |L17.376|
                          DCD      cjq_pz_ptr
                  |L17.380|
                          DCD      gstrStationID
                  |L17.384|
                          DCD      device_id
                  |L17.388|
000184  3c31372c          DCB      "<17,%s,%02d,%s,T,N>\r\n",0
000188  25732c25
00018c  3032642c
000190  25732c54
000194  2c4e3e0d
000198  0a00    
00019a  00                DCB      0
00019b  00                DCB      0
                  |L17.412|
00019c  3c31372c          DCB      "<17,%s,%02d,%s,F,N>\r\n",0
0001a0  25732c25
0001a4  3032642c
0001a8  25732c46
0001ac  2c4e3e0d
0001b0  0a00    
0001b2  00                DCB      0
0001b3  00                DCB      0
                  |L17.436|
0001b4  3c31372c          DCB      "<17,%s,%02d,%s,%s,N>\r\n",0
0001b8  25732c25
0001bc  3032642c
0001c0  25732c25
0001c4  732c4e3e
0001c8  0d0a00  
0001cb  00                DCB      0

                          AREA ||i.Process_Reset_Command||, CODE, READONLY, ALIGN=2

                  Process_Reset_Command PROC
;;;1776   
;;;1777   void Process_Reset_Command(void)
000000  2001              MOVS     r0,#1
;;;1778   {
;;;1779   		stop_wdg_flag = 0x01;
000002  4901              LDR      r1,|L18.8|
000004  7008              STRB     r0,[r1,#0]
;;;1780   }
000006  4770              BX       lr
;;;1781   
                          ENDP

                  |L18.8|
                          DCD      stop_wdg_flag

                          AREA ||i.Process_SENST_Command||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  Process_SENST_Command PROC
;;;1894   
;;;1895   void Process_SENST_Command(uint8_t *_ucaBuf, uint16_t _usLen)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;1896   {
000004  4607              MOV      r7,r0
000006  4689              MOV      r9,r1
;;;1897   	uint8_t len,strCount = 0;		
000008  2600              MOVS     r6,#0
;;;1898   	uint8_t i,ch;
;;;1899   	
;;;1900   	char *p;
;;;1901   
;;;1902   	p = (char *)_ucaBuf;
00000a  46ba              MOV      r10,r7
;;;1903   	p[_usLen] = 0;
00000c  2000              MOVS     r0,#0
00000e  f80a0009          STRB     r0,[r10,r9]
;;;1904   	
;;;1905   	if( strstr(p,"?") != NULL)
000012  a1c7              ADR      r1,|L19.816|
000014  4650              MOV      r0,r10
000016  f7fffffe          BL       strstr
00001a  b120              CBZ      r0,|L19.38|
;;;1906   	{
;;;1907   		strcpy(strOut,SENST);
00001c  49c5              LDR      r1,|L19.820|
00001e  48c6              LDR      r0,|L19.824|
000020  f7fffffe          BL       strcpy
                  |L19.36|
000024  e181              B        |L19.810|
                  |L19.38|
;;;1908   	}
;;;1909   	else
;;;1910   	{
;;;1911   		for(i=0;i<20;i++)
000026  2500              MOVS     r5,#0
000028  e017              B        |L19.90|
                  |L19.42|
;;;1912   		{			
;;;1913   			if(i == 0)
00002a  b935              CBNZ     r5,|L19.58|
;;;1914   				cmdItem[0] = strtok(p, " "); 
00002c  a1c3              ADR      r1,|L19.828|
00002e  4650              MOV      r0,r10
000030  f7fffffe          BL       strtok
000034  49c2              LDR      r1,|L19.832|
000036  6008              STR      r0,[r1,#0]  ; cmdItem
000038  e006              B        |L19.72|
                  |L19.58|
;;;1915   			else
;;;1916   				cmdItem[i] = strtok(NULL, " ");
00003a  a1c0              ADR      r1,|L19.828|
00003c  2000              MOVS     r0,#0
00003e  f7fffffe          BL       strtok
000042  49bf              LDR      r1,|L19.832|
000044  f8410025          STR      r0,[r1,r5,LSL #2]
                  |L19.72|
;;;1917   
;;;1918   			if(cmdItem[i] == NULL)
000048  48bd              LDR      r0,|L19.832|
00004a  f8500025          LDR      r0,[r0,r5,LSL #2]
00004e  b900              CBNZ     r0,|L19.82|
;;;1919   				break;
000050  e005              B        |L19.94|
                  |L19.82|
;;;1920   			
;;;1921   			strCount++; 
000052  1c70              ADDS     r0,r6,#1
000054  b2c6              UXTB     r6,r0
000056  1c68              ADDS     r0,r5,#1              ;1911
000058  b2c5              UXTB     r5,r0                 ;1911
                  |L19.90|
00005a  2d14              CMP      r5,#0x14              ;1911
00005c  dbe5              BLT      |L19.42|
                  |L19.94|
00005e  bf00              NOP                            ;1919
;;;1922   		}
;;;1923   	
;;;1924   		if(strCount > 1)  
000060  2e01              CMP      r6,#1
000062  dddf              BLE      |L19.36|
;;;1925   		{
;;;1926   			if(strCount == 3)
000064  2e03              CMP      r6,#3
000066  d178              BNE      |L19.346|
;;;1927   			{
;;;1928   				strcpy(strIn,cmdItem[1]);
000068  48b5              LDR      r0,|L19.832|
00006a  6841              LDR      r1,[r0,#4]  ; cmdItem
00006c  48b5              LDR      r0,|L19.836|
00006e  f7fffffe          BL       strcpy
;;;1929   				len = strlen(strIn);
000072  48b4              LDR      r0,|L19.836|
000074  f7fffffe          BL       strlen
000078  f00008ff          AND      r8,r0,#0xff
;;;1930   
;;;1931   				if(!strncmp(strIn,"100",len))
00007c  4642              MOV      r2,r8
00007e  a1b2              ADR      r1,|L19.840|
000080  48b0              LDR      r0,|L19.836|
000082  f7fffffe          BL       strncmp
000086  b968              CBNZ     r0,|L19.164|
;;;1932   				{
;;;1933   					strcpy(strIn,cmdItem[2]);
000088  48ad              LDR      r0,|L19.832|
00008a  6881              LDR      r1,[r0,#8]  ; cmdItem
00008c  48ad              LDR      r0,|L19.836|
00008e  f7fffffe          BL       strcpy
;;;1934   					ch = StringToInt(strIn);
000092  48ac              LDR      r0,|L19.836|
000094  f7fffffe          BL       StringToInt
000098  b2c4              UXTB     r4,r0
;;;1935   					
;;;1936   					if(ch < 0x0a) sensor_state[0] = ch; 
00009a  2c0a              CMP      r4,#0xa
00009c  da01              BGE      |L19.162|
00009e  48ab              LDR      r0,|L19.844|
0000a0  7004              STRB     r4,[r0,#0]
                  |L19.162|
0000a2  e0a5              B        |L19.496|
                  |L19.164|
;;;1937   				}
;;;1938   				else
;;;1939   				if(!strncmp(strIn,"101",len))
0000a4  4642              MOV      r2,r8
0000a6  a1aa              ADR      r1,|L19.848|
0000a8  48a6              LDR      r0,|L19.836|
0000aa  f7fffffe          BL       strncmp
0000ae  b968              CBNZ     r0,|L19.204|
;;;1940   				{
;;;1941   					strcpy(strIn,cmdItem[2]);
0000b0  48a3              LDR      r0,|L19.832|
0000b2  6881              LDR      r1,[r0,#8]  ; cmdItem
0000b4  48a3              LDR      r0,|L19.836|
0000b6  f7fffffe          BL       strcpy
;;;1942   
;;;1943   					ch = StringToInt(strIn);
0000ba  48a2              LDR      r0,|L19.836|
0000bc  f7fffffe          BL       StringToInt
0000c0  b2c4              UXTB     r4,r0
;;;1944   					
;;;1945   					if(ch < 0x03) sensor_state[1] = ch; 					
0000c2  2c03              CMP      r4,#3
0000c4  daed              BGE      |L19.162|
0000c6  48a1              LDR      r0,|L19.844|
0000c8  7044              STRB     r4,[r0,#1]
0000ca  e091              B        |L19.496|
                  |L19.204|
;;;1946   				}
;;;1947   				else
;;;1948   				if(!strncmp(strIn,"102",len))
0000cc  4642              MOV      r2,r8
0000ce  a1a1              ADR      r1,|L19.852|
0000d0  489c              LDR      r0,|L19.836|
0000d2  f7fffffe          BL       strncmp
0000d6  b968              CBNZ     r0,|L19.244|
;;;1949   				{
;;;1950   					strcpy(strIn,cmdItem[2]);
0000d8  4899              LDR      r0,|L19.832|
0000da  6881              LDR      r1,[r0,#8]  ; cmdItem
0000dc  4899              LDR      r0,|L19.836|
0000de  f7fffffe          BL       strcpy
;;;1951   
;;;1952   					ch = StringToInt(strIn);
0000e2  4898              LDR      r0,|L19.836|
0000e4  f7fffffe          BL       StringToInt
0000e8  b2c4              UXTB     r4,r0
;;;1953   					
;;;1954   					if(ch < 0x03) sensor_state[2] = ch; 					
0000ea  2c03              CMP      r4,#3
0000ec  dad9              BGE      |L19.162|
0000ee  4897              LDR      r0,|L19.844|
0000f0  7084              STRB     r4,[r0,#2]
0000f2  e07d              B        |L19.496|
                  |L19.244|
;;;1955   				}
;;;1956   				else
;;;1957   				if(!strncmp(strIn,"103",len))
0000f4  4642              MOV      r2,r8
0000f6  a198              ADR      r1,|L19.856|
0000f8  4892              LDR      r0,|L19.836|
0000fa  f7fffffe          BL       strncmp
0000fe  b950              CBNZ     r0,|L19.278|
;;;1958   				{
;;;1959   					strcpy(strIn,cmdItem[2]);
000100  488f              LDR      r0,|L19.832|
000102  6881              LDR      r1,[r0,#8]  ; cmdItem
000104  488f              LDR      r0,|L19.836|
000106  f7fffffe          BL       strcpy
;;;1960   					sensor_state[3] = StringToInt(strIn);
00010a  488e              LDR      r0,|L19.836|
00010c  f7fffffe          BL       StringToInt
000110  498e              LDR      r1,|L19.844|
000112  70c8              STRB     r0,[r1,#3]
000114  e06c              B        |L19.496|
                  |L19.278|
;;;1961   				}
;;;1962   				else
;;;1963   				if(!strncmp(strIn,"104",len))
000116  4642              MOV      r2,r8
000118  a190              ADR      r1,|L19.860|
00011a  488a              LDR      r0,|L19.836|
00011c  f7fffffe          BL       strncmp
000120  b950              CBNZ     r0,|L19.312|
;;;1964   				{
;;;1965   					strcpy(strIn,cmdItem[2]);
000122  4887              LDR      r0,|L19.832|
000124  6881              LDR      r1,[r0,#8]  ; cmdItem
000126  4887              LDR      r0,|L19.836|
000128  f7fffffe          BL       strcpy
;;;1966   					sensor_state[4] = StringToInt(strIn);
00012c  4885              LDR      r0,|L19.836|
00012e  f7fffffe          BL       StringToInt
000132  4986              LDR      r1,|L19.844|
000134  7108              STRB     r0,[r1,#4]
000136  e05b              B        |L19.496|
                  |L19.312|
;;;1967   				}
;;;1968   				else
;;;1969   				if(!strncmp(strIn,"105",len))
000138  4642              MOV      r2,r8
00013a  a189              ADR      r1,|L19.864|
00013c  4881              LDR      r0,|L19.836|
00013e  f7fffffe          BL       strncmp
000142  b958              CBNZ     r0,|L19.348|
;;;1970   				{
;;;1971   					strcpy(strIn,cmdItem[2]);
000144  487e              LDR      r0,|L19.832|
000146  6881              LDR      r1,[r0,#8]  ; cmdItem
000148  487e              LDR      r0,|L19.836|
00014a  f7fffffe          BL       strcpy
;;;1972   					sensor_state[5] = StringToInt(strIn);
00014e  487d              LDR      r0,|L19.836|
000150  f7fffffe          BL       StringToInt
000154  497d              LDR      r1,|L19.844|
000156  7148              STRB     r0,[r1,#5]
000158  e04a              B        |L19.496|
                  |L19.346|
00015a  e04e              B        |L19.506|
                  |L19.348|
;;;1973   				}
;;;1974   				else
;;;1975   				if(!strncmp(strIn,"106",len))
00015c  4642              MOV      r2,r8
00015e  a181              ADR      r1,|L19.868|
000160  4878              LDR      r0,|L19.836|
000162  f7fffffe          BL       strncmp
000166  b950              CBNZ     r0,|L19.382|
;;;1976   				{
;;;1977   					strcpy(strIn,cmdItem[2]);
000168  4875              LDR      r0,|L19.832|
00016a  6881              LDR      r1,[r0,#8]  ; cmdItem
00016c  4875              LDR      r0,|L19.836|
00016e  f7fffffe          BL       strcpy
;;;1978   					sensor_state[6] = StringToInt(strIn);
000172  4874              LDR      r0,|L19.836|
000174  f7fffffe          BL       StringToInt
000178  4974              LDR      r1,|L19.844|
00017a  7188              STRB     r0,[r1,#6]
00017c  e038              B        |L19.496|
                  |L19.382|
;;;1979   				}
;;;1980   				else
;;;1981   				if(!strncmp(strIn,"107",len))
00017e  4642              MOV      r2,r8
000180  a179              ADR      r1,|L19.872|
000182  4870              LDR      r0,|L19.836|
000184  f7fffffe          BL       strncmp
000188  b950              CBNZ     r0,|L19.416|
;;;1982   				{
;;;1983   					strcpy(strIn,cmdItem[2]);
00018a  486d              LDR      r0,|L19.832|
00018c  6881              LDR      r1,[r0,#8]  ; cmdItem
00018e  486d              LDR      r0,|L19.836|
000190  f7fffffe          BL       strcpy
;;;1984   					sensor_state[7] = StringToInt(strIn);
000194  486b              LDR      r0,|L19.836|
000196  f7fffffe          BL       StringToInt
00019a  496c              LDR      r1,|L19.844|
00019c  71c8              STRB     r0,[r1,#7]
00019e  e027              B        |L19.496|
                  |L19.416|
;;;1985   				}
;;;1986   				else			
;;;1987   				if(!strncmp(strIn,"108",len))
0001a0  4642              MOV      r2,r8
0001a2  a172              ADR      r1,|L19.876|
0001a4  4867              LDR      r0,|L19.836|
0001a6  f7fffffe          BL       strncmp
0001aa  b950              CBNZ     r0,|L19.450|
;;;1988   				{
;;;1989   					strcpy(strIn,cmdItem[2]);
0001ac  4864              LDR      r0,|L19.832|
0001ae  6881              LDR      r1,[r0,#8]  ; cmdItem
0001b0  4864              LDR      r0,|L19.836|
0001b2  f7fffffe          BL       strcpy
;;;1990   					sensor_state[8] = StringToInt(strIn);
0001b6  4863              LDR      r0,|L19.836|
0001b8  f7fffffe          BL       StringToInt
0001bc  4963              LDR      r1,|L19.844|
0001be  7208              STRB     r0,[r1,#8]
0001c0  e016              B        |L19.496|
                  |L19.450|
;;;1991   				}
;;;1992   				else
;;;1993   				if(!strncmp(strIn,"109",len))
0001c2  4642              MOV      r2,r8
0001c4  a16a              ADR      r1,|L19.880|
0001c6  485f              LDR      r0,|L19.836|
0001c8  f7fffffe          BL       strncmp
0001cc  b950              CBNZ     r0,|L19.484|
;;;1994   				{
;;;1995   					strcpy(strIn,cmdItem[2]);
0001ce  485c              LDR      r0,|L19.832|
0001d0  6881              LDR      r1,[r0,#8]  ; cmdItem
0001d2  485c              LDR      r0,|L19.836|
0001d4  f7fffffe          BL       strcpy
;;;1996   					sensor_state[9] = StringToInt(strIn);
0001d8  485a              LDR      r0,|L19.836|
0001da  f7fffffe          BL       StringToInt
0001de  495b              LDR      r1,|L19.844|
0001e0  7248              STRB     r0,[r1,#9]
0001e2  e005              B        |L19.496|
                  |L19.484|
;;;1997   				}
;;;1998   				else
;;;1999   				{
;;;2000   					strcpy(strOut,Set_Faild); 
0001e4  4963              LDR      r1,|L19.884|
0001e6  4854              LDR      r0,|L19.824|
0001e8  f7fffffe          BL       strcpy
                  |L19.492|
;;;2001   					return;
;;;2002   				}
;;;2003   
;;;2004   				strcpy(strOut,Set_Sucess);
;;;2005   				return;
;;;2006   			}
;;;2007   			else            
;;;2008   			if(strCount == 2)
;;;2009   			{
;;;2010   				strcpy(strIn,cmdItem[1]);
;;;2011   				len = strlen(strIn);
;;;2012   				
;;;2013   				if(!strncmp(strIn,"100",len))
;;;2014   				{
;;;2015   					sprintf(strOut,"<%01d>\r\n",sensor_state[0]);
;;;2016   				}
;;;2017   				else
;;;2018   				if(!strncmp(strIn,"101",len))
;;;2019   				{
;;;2020   					sprintf(strOut,"<%01d>\r\n",sensor_state[1]);
;;;2021   				}
;;;2022   				else
;;;2023   				if(!strncmp(strIn,"102",len))
;;;2024   				{
;;;2025   					sprintf(strOut,"<%01d>\r\n",sensor_state[2]);
;;;2026   				}
;;;2027   				else
;;;2028   				if(!strncmp(strIn,"103",len))
;;;2029   				{
;;;2030   					sprintf(strOut,"<%01d>\r\n",sensor_state[3]);
;;;2031   				}
;;;2032   				else
;;;2033   				if(!strncmp(strIn,"104",len))
;;;2034   				{
;;;2035   					sprintf(strOut,"<%01d>\r\n",sensor_state[4]);
;;;2036   				}
;;;2037   				else
;;;2038   				if(!strncmp(strIn,"105",len))
;;;2039   				{
;;;2040   					sprintf(strOut,"<%01d>\r\n",sensor_state[5]);
;;;2041   				}
;;;2042   				else
;;;2043   				if(!strncmp(strIn,"106",len))
;;;2044   				{
;;;2045   					sprintf(strOut,"<%01d>\r\n",sensor_state[6]);
;;;2046   				}
;;;2047   				else
;;;2048   				if(!strncmp(strIn,"107",len))
;;;2049   				{
;;;2050   					sprintf(strOut,"<%01d>\r\n",sensor_state[7]);
;;;2051   				}
;;;2052   				else
;;;2053   				if(!strncmp(strIn,"108",len))
;;;2054   				{
;;;2055   					sprintf(strOut,"<%01d>\r\n",sensor_state[8]);
;;;2056   				}
;;;2057   				else
;;;2058   				if(!strncmp(strIn,"109",len))
;;;2059   				{
;;;2060   					sprintf(strOut,"<%01d>\r\n",sensor_state[9]);
;;;2061   				}
;;;2062   				else
;;;2063   				{
;;;2064   				   strcpy(strOut,Error_Message); 
;;;2065   					return;
;;;2066   				}
;;;2067   			}
;;;2068   			else
;;;2069   			{
;;;2070   				strcpy(strOut,Error_Message); 
;;;2071   			}
;;;2072   		}	
;;;2073   	}
;;;2074   
;;;2075   }
0001ec  e8bd87f0          POP      {r4-r10,pc}
                  |L19.496|
0001f0  4961              LDR      r1,|L19.888|
0001f2  4851              LDR      r0,|L19.824|
0001f4  f7fffffe          BL       strcpy
0001f8  e7f8              B        |L19.492|
                  |L19.506|
0001fa  2e02              CMP      r6,#2                 ;2008
0001fc  d171              BNE      |L19.738|
0001fe  4850              LDR      r0,|L19.832|
000200  6841              LDR      r1,[r0,#4]            ;2010  ; cmdItem
000202  4850              LDR      r0,|L19.836|
000204  f7fffffe          BL       strcpy
000208  484e              LDR      r0,|L19.836|
00020a  f7fffffe          BL       strlen
00020e  f00008ff          AND      r8,r0,#0xff           ;2011
000212  4642              MOV      r2,r8                 ;2013
000214  a14c              ADR      r1,|L19.840|
000216  484b              LDR      r0,|L19.836|
000218  f7fffffe          BL       strncmp
00021c  b930              CBNZ     r0,|L19.556|
00021e  484b              LDR      r0,|L19.844|
000220  7802              LDRB     r2,[r0,#0]            ;2015  ; sensor_state
000222  a156              ADR      r1,|L19.892|
000224  4844              LDR      r0,|L19.824|
000226  f7fffffe          BL       __2sprintf
00022a  e07e              B        |L19.810|
                  |L19.556|
00022c  4642              MOV      r2,r8                 ;2018
00022e  a148              ADR      r1,|L19.848|
000230  4844              LDR      r0,|L19.836|
000232  f7fffffe          BL       strncmp
000236  b930              CBNZ     r0,|L19.582|
000238  4844              LDR      r0,|L19.844|
00023a  7842              LDRB     r2,[r0,#1]            ;2020  ; sensor_state
00023c  a14f              ADR      r1,|L19.892|
00023e  483e              LDR      r0,|L19.824|
000240  f7fffffe          BL       __2sprintf
000244  e071              B        |L19.810|
                  |L19.582|
000246  4642              MOV      r2,r8                 ;2023
000248  a142              ADR      r1,|L19.852|
00024a  483e              LDR      r0,|L19.836|
00024c  f7fffffe          BL       strncmp
000250  b930              CBNZ     r0,|L19.608|
000252  483e              LDR      r0,|L19.844|
000254  7882              LDRB     r2,[r0,#2]            ;2025  ; sensor_state
000256  a149              ADR      r1,|L19.892|
000258  4837              LDR      r0,|L19.824|
00025a  f7fffffe          BL       __2sprintf
00025e  e064              B        |L19.810|
                  |L19.608|
000260  4642              MOV      r2,r8                 ;2028
000262  a13d              ADR      r1,|L19.856|
000264  4837              LDR      r0,|L19.836|
000266  f7fffffe          BL       strncmp
00026a  b930              CBNZ     r0,|L19.634|
00026c  4837              LDR      r0,|L19.844|
00026e  78c2              LDRB     r2,[r0,#3]            ;2030  ; sensor_state
000270  a142              ADR      r1,|L19.892|
000272  4831              LDR      r0,|L19.824|
000274  f7fffffe          BL       __2sprintf
000278  e057              B        |L19.810|
                  |L19.634|
00027a  4642              MOV      r2,r8                 ;2033
00027c  a137              ADR      r1,|L19.860|
00027e  4831              LDR      r0,|L19.836|
000280  f7fffffe          BL       strncmp
000284  b930              CBNZ     r0,|L19.660|
000286  4831              LDR      r0,|L19.844|
000288  7902              LDRB     r2,[r0,#4]            ;2035  ; sensor_state
00028a  a13c              ADR      r1,|L19.892|
00028c  482a              LDR      r0,|L19.824|
00028e  f7fffffe          BL       __2sprintf
000292  e04a              B        |L19.810|
                  |L19.660|
000294  4642              MOV      r2,r8                 ;2038
000296  a132              ADR      r1,|L19.864|
000298  482a              LDR      r0,|L19.836|
00029a  f7fffffe          BL       strncmp
00029e  b930              CBNZ     r0,|L19.686|
0002a0  482a              LDR      r0,|L19.844|
0002a2  7942              LDRB     r2,[r0,#5]            ;2040  ; sensor_state
0002a4  a135              ADR      r1,|L19.892|
0002a6  4824              LDR      r0,|L19.824|
0002a8  f7fffffe          BL       __2sprintf
0002ac  e03d              B        |L19.810|
                  |L19.686|
0002ae  4642              MOV      r2,r8                 ;2043
0002b0  a12c              ADR      r1,|L19.868|
0002b2  4824              LDR      r0,|L19.836|
0002b4  f7fffffe          BL       strncmp
0002b8  b930              CBNZ     r0,|L19.712|
0002ba  4824              LDR      r0,|L19.844|
0002bc  7982              LDRB     r2,[r0,#6]            ;2045  ; sensor_state
0002be  a12f              ADR      r1,|L19.892|
0002c0  481d              LDR      r0,|L19.824|
0002c2  f7fffffe          BL       __2sprintf
0002c6  e030              B        |L19.810|
                  |L19.712|
0002c8  4642              MOV      r2,r8                 ;2048
0002ca  a127              ADR      r1,|L19.872|
0002cc  481d              LDR      r0,|L19.836|
0002ce  f7fffffe          BL       strncmp
0002d2  b938              CBNZ     r0,|L19.740|
0002d4  481d              LDR      r0,|L19.844|
0002d6  79c2              LDRB     r2,[r0,#7]            ;2050  ; sensor_state
0002d8  a128              ADR      r1,|L19.892|
0002da  4817              LDR      r0,|L19.824|
0002dc  f7fffffe          BL       __2sprintf
0002e0  e023              B        |L19.810|
                  |L19.738|
0002e2  e01e              B        |L19.802|
                  |L19.740|
0002e4  4642              MOV      r2,r8                 ;2053
0002e6  a121              ADR      r1,|L19.876|
0002e8  4816              LDR      r0,|L19.836|
0002ea  f7fffffe          BL       strncmp
0002ee  b930              CBNZ     r0,|L19.766|
0002f0  4816              LDR      r0,|L19.844|
0002f2  7a02              LDRB     r2,[r0,#8]            ;2055  ; sensor_state
0002f4  a121              ADR      r1,|L19.892|
0002f6  4810              LDR      r0,|L19.824|
0002f8  f7fffffe          BL       __2sprintf
0002fc  e015              B        |L19.810|
                  |L19.766|
0002fe  4642              MOV      r2,r8                 ;2058
000300  a11b              ADR      r1,|L19.880|
000302  4810              LDR      r0,|L19.836|
000304  f7fffffe          BL       strncmp
000308  b930              CBNZ     r0,|L19.792|
00030a  4810              LDR      r0,|L19.844|
00030c  7a42              LDRB     r2,[r0,#9]            ;2060  ; sensor_state
00030e  a11b              ADR      r1,|L19.892|
000310  4809              LDR      r0,|L19.824|
000312  f7fffffe          BL       __2sprintf
000316  e008              B        |L19.810|
                  |L19.792|
000318  491b              LDR      r1,|L19.904|
00031a  4807              LDR      r0,|L19.824|
00031c  f7fffffe          BL       strcpy
000320  e764              B        |L19.492|
                  |L19.802|
000322  4919              LDR      r1,|L19.904|
000324  4804              LDR      r0,|L19.824|
000326  f7fffffe          BL       strcpy
                  |L19.810|
00032a  bf00              NOP      
00032c  e75e              B        |L19.492|
;;;2076   
                          ENDP

00032e  0000              DCW      0x0000
                  |L19.816|
000330  3f00              DCB      "?",0
000332  00                DCB      0
000333  00                DCB      0
                  |L19.820|
                          DCD      SENST
                  |L19.824|
                          DCD      strOut
                  |L19.828|
00033c  2000              DCB      " ",0
00033e  00                DCB      0
00033f  00                DCB      0
                  |L19.832|
                          DCD      cmdItem
                  |L19.836|
                          DCD      strIn
                  |L19.840|
000348  31303000          DCB      "100",0
                  |L19.844|
                          DCD      sensor_state
                  |L19.848|
000350  31303100          DCB      "101",0
                  |L19.852|
000354  31303200          DCB      "102",0
                  |L19.856|
000358  31303300          DCB      "103",0
                  |L19.860|
00035c  31303400          DCB      "104",0
                  |L19.864|
000360  31303500          DCB      "105",0
                  |L19.868|
000364  31303600          DCB      "106",0
                  |L19.872|
000368  31303700          DCB      "107",0
                  |L19.876|
00036c  31303800          DCB      "108",0
                  |L19.880|
000370  31303900          DCB      "109",0
                  |L19.884|
                          DCD      Set_Faild
                  |L19.888|
                          DCD      Set_Sucess
                  |L19.892|
00037c  3c253031          DCB      "<%01d>\r\n",0
000380  643e0d0a
000384  00      
000385  00                DCB      0
000386  00                DCB      0
000387  00                DCB      0
                  |L19.904|
                          DCD      Error_Message

                          AREA ||i.Process_Snapshot_Command||, CODE, READONLY, ALIGN=2

                  Process_Snapshot_Command PROC
;;;1781   
;;;1782   void Process_Snapshot_Command(void)
000000  2001              MOVS     r0,#1
;;;1783   {
;;;1784   	snap_shot_flag = 0x01;
000002  4901              LDR      r1,|L20.8|
000004  7008              STRB     r0,[r1,#0]
;;;1785   }
000006  4770              BX       lr
;;;1786   
                          ENDP

                  |L20.8|
                          DCD      snap_shot_flag

                          AREA ||i.Read_From_Gauge||, CODE, READONLY, ALIGN=2

                  Read_From_Gauge PROC
;;;835    
;;;836    void Read_From_Gauge(u8 tt)
000000  b510              PUSH     {r4,lr}
;;;837    {
000002  4604              MOV      r4,r0
;;;838    	read_radar_count++;
000004  4816              LDR      r0,|L21.96|
000006  8800              LDRH     r0,[r0,#0]  ; read_radar_count
000008  1c40              ADDS     r0,r0,#1
00000a  4915              LDR      r1,|L21.96|
00000c  8008              STRH     r0,[r1,#0]
;;;839    	
;;;840    	if( tt != 0x00 )
00000e  b334              CBZ      r4,|L21.94|
;;;841    	{
;;;842    		TxPointer2 = 0x00;
000010  2000              MOVS     r0,#0
000012  4914              LDR      r1,|L21.100|
000014  7008              STRB     r0,[r1,#0]
;;;843    		
;;;844    		if(tt == 0x01)
000016  2c01              CMP      r4,#1
000018  d109              BNE      |L21.46|
;;;845    		{
;;;846    			TxCounter2 = sizeof(s_cmd1);
00001a  200c              MOVS     r0,#0xc
00001c  4912              LDR      r1,|L21.104|
00001e  7008              STRB     r0,[r1,#0]
;;;847    			memcpy((char *)TxBuffer2,(char *)s_cmd1,TxCounter2);		
000020  4608              MOV      r0,r1
000022  7802              LDRB     r2,[r0,#0]  ; TxCounter2
000024  4911              LDR      r1,|L21.108|
000026  4812              LDR      r0,|L21.112|
000028  f7fffffe          BL       __aeabi_memcpy
00002c  e00a              B        |L21.68|
                  |L21.46|
;;;848    		}
;;;849    		else
;;;850    		if( tt == 0x02)
00002e  2c02              CMP      r4,#2
000030  d108              BNE      |L21.68|
;;;851    		{
;;;852    			TxCounter2 = sizeof(s_cmd2);
000032  2010              MOVS     r0,#0x10
000034  490c              LDR      r1,|L21.104|
000036  7008              STRB     r0,[r1,#0]
;;;853    			memcpy((char *)TxBuffer2,(char *)s_cmd2,TxCounter2);			
000038  4608              MOV      r0,r1
00003a  7802              LDRB     r2,[r0,#0]  ; TxCounter2
00003c  490d              LDR      r1,|L21.116|
00003e  480c              LDR      r0,|L21.112|
000040  f7fffffe          BL       __aeabi_memcpy
                  |L21.68|
;;;854    		}
;;;855    		
;;;856    		RS485_TX_EN();
000044  f44f7080          MOV      r0,#0x100
000048  490b              LDR      r1,|L21.120|
00004a  6008              STR      r0,[r1,#0]
;;;857    		
;;;858    		USART_ITConfig(USART2, USART_IT_TXE, ENABLE);
00004c  2201              MOVS     r2,#1
00004e  f2407127          MOV      r1,#0x727
000052  480a              LDR      r0,|L21.124|
000054  f7fffffe          BL       USART_ITConfig
;;;859    		
;;;860    		TR_FLAG2 = 0x80;
000058  2080              MOVS     r0,#0x80
00005a  4909              LDR      r1,|L21.128|
00005c  7008              STRB     r0,[r1,#0]
                  |L21.94|
;;;861    	}	
;;;862    }
00005e  bd10              POP      {r4,pc}
;;;863    
                          ENDP

                  |L21.96|
                          DCD      read_radar_count
                  |L21.100|
                          DCD      TxPointer2
                  |L21.104|
                          DCD      TxCounter2
                  |L21.108|
                          DCD      s_cmd1
                  |L21.112|
                          DCD      TxBuffer2
                  |L21.116|
                          DCD      s_cmd2
                  |L21.120|
                          DCD      0x40010c10
                  |L21.124|
                          DCD      0x40004400
                  |L21.128|
                          DCD      TR_FLAG2

                          AREA ||i.Read_From_WSD||, CODE, READONLY, ALIGN=2

                  Read_From_WSD PROC
;;;723    
;;;724    void Read_From_WSD(void)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;725    {
;;;726    	
;;;727    	u8 i,j,temp;
;;;728    	u16 checksum;
;;;729    	
;;;730    	Tx_Fra_Len2  = 0x03;
000004  2003              MOVS     r0,#3
000006  492a              LDR      r1,|L22.176|
000008  7008              STRB     r0,[r1,#0]
;;;731    	Com_Type2    = 0xC1;
00000a  20c1              MOVS     r0,#0xc1
00000c  4929              LDR      r1,|L22.180|
00000e  7008              STRB     r0,[r1,#0]
;;;732    	
;;;733    	TxBuffer2[0x00] = 0xff;
000010  20ff              MOVS     r0,#0xff
000012  4929              LDR      r1,|L22.184|
000014  7008              STRB     r0,[r1,#0]
;;;734    	TxBuffer2[0x01] = 0xff;
000016  7048              STRB     r0,[r1,#1]
;;;735    	TxBuffer2[0x02] = 0xff;
000018  7088              STRB     r0,[r1,#2]
;;;736    	
;;;737    	TxBuffer2[0x03] = 0xaa; 
00001a  20aa              MOVS     r0,#0xaa
00001c  70c8              STRB     r0,[r1,#3]
;;;738    	
;;;739    	TxBuffer2[0x04] = Tx_Fra_Len2;
00001e  4824              LDR      r0,|L22.176|
000020  7800              LDRB     r0,[r0,#0]  ; Tx_Fra_Len2
000022  7108              STRB     r0,[r1,#4]
;;;740    	TxBuffer2[0x05] = Com_Type2;
000024  4823              LDR      r0,|L22.180|
000026  7800              LDRB     r0,[r0,#0]  ; Com_Type2
000028  7148              STRB     r0,[r1,#5]
;;;741    	
;;;742    	TxBuffer2[0x06] = S_Addr;
00002a  4824              LDR      r0,|L22.188|
00002c  7800              LDRB     r0,[r0,#0]  ; S_Addr
00002e  7188              STRB     r0,[r1,#6]
;;;743    	TxBuffer2[0x07] = D_Addr;
000030  4823              LDR      r0,|L22.192|
000032  7800              LDRB     r0,[r0,#0]  ; D_Addr
000034  71c8              STRB     r0,[r1,#7]
;;;744    	
;;;745    	checksum  = 0x00;
000036  2500              MOVS     r5,#0
;;;746    	
;;;747    	j = 5 + Tx_Fra_Len2;
000038  481d              LDR      r0,|L22.176|
00003a  7800              LDRB     r0,[r0,#0]  ; Tx_Fra_Len2
00003c  1d40              ADDS     r0,r0,#5
00003e  b2c7              UXTB     r7,r0
;;;748    	
;;;749    	for( i = 5;i < j;i++ )
000040  2405              MOVS     r4,#5
000042  e005              B        |L22.80|
                  |L22.68|
;;;750    	{
;;;751    		checksum = checksum + TxBuffer2[i];
000044  481c              LDR      r0,|L22.184|
000046  5d00              LDRB     r0,[r0,r4]
000048  4428              ADD      r0,r0,r5
00004a  b285              UXTH     r5,r0
00004c  1c60              ADDS     r0,r4,#1              ;749
00004e  b2c4              UXTB     r4,r0                 ;749
                  |L22.80|
000050  42bc              CMP      r4,r7                 ;749
000052  dbf7              BLT      |L22.68|
;;;752    	}
;;;753    	
;;;754    	temp = checksum & 0xff;    
000054  b2ee              UXTB     r6,r5
;;;755    	
;;;756    	TxBuffer2[i++] = temp;
000056  4620              MOV      r0,r4
000058  1c61              ADDS     r1,r4,#1
00005a  b2cc              UXTB     r4,r1
00005c  4916              LDR      r1,|L22.184|
00005e  540e              STRB     r6,[r1,r0]
;;;757    	
;;;758    	temp = checksum >> 8;  
000060  122e              ASRS     r6,r5,#8
;;;759    	
;;;760    	TxBuffer2[i++] = temp;
000062  4620              MOV      r0,r4
000064  1c61              ADDS     r1,r4,#1
000066  b2cc              UXTB     r4,r1
000068  4913              LDR      r1,|L22.184|
00006a  540e              STRB     r6,[r1,r0]
;;;761    	
;;;762    	TxBuffer2[i++] = 0xdd;
00006c  22dd              MOVS     r2,#0xdd
00006e  4620              MOV      r0,r4
000070  1c61              ADDS     r1,r4,#1
000072  b2cc              UXTB     r4,r1
000074  4910              LDR      r1,|L22.184|
000076  540a              STRB     r2,[r1,r0]
;;;763    	TxBuffer2[i++] = 0xff;
000078  22ff              MOVS     r2,#0xff
00007a  4620              MOV      r0,r4
00007c  1c61              ADDS     r1,r4,#1
00007e  b2cc              UXTB     r4,r1
000080  490d              LDR      r1,|L22.184|
000082  540a              STRB     r2,[r1,r0]
;;;764    	TxBuffer2[i++] = 0xff;
000084  4620              MOV      r0,r4
000086  1c61              ADDS     r1,r4,#1
000088  b2cc              UXTB     r4,r1
00008a  490b              LDR      r1,|L22.184|
00008c  540a              STRB     r2,[r1,r0]
;;;765    	
;;;766    	TxPointer2 = 0x00;
00008e  2000              MOVS     r0,#0
000090  490c              LDR      r1,|L22.196|
000092  7008              STRB     r0,[r1,#0]
;;;767    	
;;;768    	TxCounter2 = i;
000094  480c              LDR      r0,|L22.200|
000096  7004              STRB     r4,[r0,#0]
;;;769    	
;;;770    //	RS485_TX_EN();
;;;771    	
;;;772    	USART_ITConfig(USART2, USART_IT_TXE, ENABLE);
000098  2201              MOVS     r2,#1
00009a  f2407127          MOV      r1,#0x727
00009e  480b              LDR      r0,|L22.204|
0000a0  f7fffffe          BL       USART_ITConfig
;;;773    	
;;;774    	TR_FLAG2 = 0x80;	
0000a4  2080              MOVS     r0,#0x80
0000a6  490a              LDR      r1,|L22.208|
0000a8  7008              STRB     r0,[r1,#0]
;;;775    }
0000aa  e8bd81f0          POP      {r4-r8,pc}
;;;776    
                          ENDP

0000ae  0000              DCW      0x0000
                  |L22.176|
                          DCD      Tx_Fra_Len2
                  |L22.180|
                          DCD      Com_Type2
                  |L22.184|
                          DCD      TxBuffer2
                  |L22.188|
                          DCD      S_Addr
                  |L22.192|
                          DCD      D_Addr
                  |L22.196|
                          DCD      TxPointer2
                  |L22.200|
                          DCD      TxCounter2
                  |L22.204|
                          DCD      0x40004400
                  |L22.208|
                          DCD      TR_FLAG2

                          AREA ||i.SendHeart_Com1||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_return_value
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                  SendHeart_Com1 PROC
;;;2131   
;;;2132   void SendHeart_Com1(void)
000000  b570              PUSH     {r4-r6,lr}
;;;2133   {
;;;2134   	u8  temp8 = 0;
000002  2500              MOVS     r5,#0
;;;2135   	u16 len = 0;
000004  2400              MOVS     r4,#0
;;;2136   	
;;;2137   	temp8=sprintf(strOut,"<17,B0002,%02d>\r\n",device_id);
000006  4807              LDR      r0,|L23.36|
000008  7802              LDRB     r2,[r0,#0]  ; device_id
00000a  a107              ADR      r1,|L23.40|
00000c  480b              LDR      r0,|L23.60|
00000e  f7fffffe          BL       __2sprintf
000012  b2c5              UXTB     r5,r0
;;;2138   	len=len+temp8;
000014  442c              ADD      r4,r4,r5
;;;2139   	
;;;2140   	comSendBuf(COM1,(uint8_t *)strOut,len);
000016  4622              MOV      r2,r4
000018  4908              LDR      r1,|L23.60|
00001a  2000              MOVS     r0,#0
00001c  f7fffffe          BL       comSendBuf
;;;2141   }
000020  bd70              POP      {r4-r6,pc}
;;;2142   
                          ENDP

000022  0000              DCW      0x0000
                  |L23.36|
                          DCD      device_id
                  |L23.40|
000028  3c31372c          DCB      "<17,B0002,%02d>\r\n",0
00002c  42303030
000030  322c2530
000034  32643e0d
000038  0a00    
00003a  00                DCB      0
00003b  00                DCB      0
                  |L23.60|
                          DCD      strOut

                          AREA ||i.SendTcp_Com1||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_pre_padding
                          REQUIRE _printf_percent
                          REQUIRE _printf_return_value
                          REQUIRE _printf_flags
                          REQUIRE _printf_widthprec
                          REQUIRE _printf_d
                          REQUIRE _printf_int_dec
                          REQUIRE _printf_f
                          REQUIRE _printf_fp_dec
                  SendTcp_Com1 PROC
;;;2090   
;;;2091   void SendTcp_Com1(u8 cmd)
000000  e92d5fff          PUSH     {r0-r12,lr}
;;;2092   {
000004  4681              MOV      r9,r0
;;;2093   	u8  temp8 = 0,ch;
000006  2500              MOVS     r5,#0
;;;2094   	u16 j,len = 0;
000008  2400              MOVS     r4,#0
;;;2095   	
;;;2096   	u8  sent_type = cmd;		//发送类型：00 自动 01 手动
00000a  46cb              MOV      r11,r9
;;;2097      
;;;2098   	temp8=sprintf(strOut,"BG,B0002,17,%02d,%02d",sent_type,device_id);
00000c  4839              LDR      r0,|L24.244|
00000e  7803              LDRB     r3,[r0,#0]  ; device_id
000010  465a              MOV      r2,r11
000012  a139              ADR      r1,|L24.248|
000014  483e              LDR      r0,|L24.272|
000016  f7fffffe          BL       __2sprintf
00001a  b2c5              UXTB     r5,r0
;;;2099   	len=len+temp8;
00001c  442c              ADD      r4,r4,r5
;;;2100   	
;;;2101   	temp8=sprintf(&strOut[len],",%04d%02d%02d%02d%02d%02d",g_tRTC.Year,g_tRTC.Mon,g_tRTC.Day,g_tRTC.Hour,g_tRTC.Min,g_tRTC.Sec);
00001e  483d              LDR      r0,|L24.276|
000020  7980              LDRB     r0,[r0,#6]  ; g_tRTC
000022  493c              LDR      r1,|L24.276|
000024  7949              LDRB     r1,[r1,#5]  ; g_tRTC
000026  4a3b              LDR      r2,|L24.276|
000028  7912              LDRB     r2,[r2,#4]  ; g_tRTC
00002a  4b3a              LDR      r3,|L24.276|
00002c  78db              LDRB     r3,[r3,#3]  ; g_tRTC
00002e  e9cd3200          STRD     r3,r2,[sp,#0]
000032  e9cd1002          STRD     r1,r0,[sp,#8]
000036  4937              LDR      r1,|L24.276|
000038  788b              LDRB     r3,[r1,#2]  ; g_tRTC
00003a  880a              LDRH     r2,[r1,#0]  ; g_tRTC
00003c  4934              LDR      r1,|L24.272|
00003e  1908              ADDS     r0,r1,r4
000040  a135              ADR      r1,|L24.280|
000042  f7fffffe          BL       __2sprintf
000046  b2c5              UXTB     r5,r0
;;;2102   	len=len+temp8;	
000048  442c              ADD      r4,r4,r5
;;;2103   	
;;;2104   	temp8=sprintf(&strOut[len],",%03d,%02d",element_counter,state_counter);
00004a  4931              LDR      r1,|L24.272|
00004c  1908              ADDS     r0,r1,r4
00004e  4939              LDR      r1,|L24.308|
000050  780b              LDRB     r3,[r1,#0]  ; state_counter
000052  4939              LDR      r1,|L24.312|
000054  780a              LDRB     r2,[r1,#0]  ; element_counter
000056  a139              ADR      r1,|L24.316|
000058  f7fffffe          BL       __2sprintf
00005c  b2c5              UXTB     r5,r0
;;;2105   	len=len+temp8;	
00005e  442c              ADD      r4,r4,r5
;;;2106   	
;;;2107   	//海潮
;;;2108   	temp8=sprintf(&strOut[len],",YS01,%5.1f",gauge_temp[1]*1000);
000060  4939              LDR      r1,|L24.328|
000062  6848              LDR      r0,[r1,#4]  ; gauge_temp
000064  4939              LDR      r1,|L24.332|
000066  f7fffffe          BL       __aeabi_fmul
00006a  9003              STR      r0,[sp,#0xc]
00006c  f7fffffe          BL       __aeabi_f2d
000070  4607              MOV      r7,r0
000072  460b              MOV      r3,r1
000074  4926              LDR      r1,|L24.272|
000076  1908              ADDS     r0,r1,r4
000078  463a              MOV      r2,r7
00007a  a135              ADR      r1,|L24.336|
00007c  f7fffffe          BL       __2sprintf
000080  b2c5              UXTB     r5,r0
;;;2109   	len=len+temp8;
000082  442c              ADD      r4,r4,r5
;;;2110   
;;;2111   	temp8=sprintf(&strOut[len],",ST20,%d",radar_state);
000084  4922              LDR      r1,|L24.272|
000086  1908              ADDS     r0,r1,r4
000088  4934              LDR      r1,|L24.348|
00008a  780a              LDRB     r2,[r1,#0]  ; radar_state
00008c  a134              ADR      r1,|L24.352|
00008e  f7fffffe          BL       __2sprintf
000092  b2c5              UXTB     r5,r0
;;;2112   	len=len+temp8;
000094  442c              ADD      r4,r4,r5
;;;2113   	
;;;2114   	sent_checksum = 0;
000096  2000              MOVS     r0,#0
000098  4934              LDR      r1,|L24.364|
00009a  6008              STR      r0,[r1,#0]  ; sent_checksum
;;;2115   		
;;;2116   	for(j=0;j<len;j++)
00009c  2600              MOVS     r6,#0
00009e  e009              B        |L24.180|
                  |L24.160|
;;;2117   	{
;;;2118   		ch = strOut[j];
0000a0  481b              LDR      r0,|L24.272|
0000a2  f810a006          LDRB     r10,[r0,r6]
;;;2119   		sent_checksum += ch;
0000a6  4831              LDR      r0,|L24.364|
0000a8  6800              LDR      r0,[r0,#0]  ; sent_checksum
0000aa  4450              ADD      r0,r0,r10
0000ac  492f              LDR      r1,|L24.364|
0000ae  6008              STR      r0,[r1,#0]  ; sent_checksum
0000b0  1c70              ADDS     r0,r6,#1              ;2116
0000b2  b286              UXTH     r6,r0                 ;2116
                  |L24.180|
0000b4  42a6              CMP      r6,r4                 ;2116
0000b6  dbf3              BLT      |L24.160|
;;;2120   	}
;;;2121   
;;;2122   	temp8=sprintf(&strOut[len],",%04d,ED\r\n",sent_checksum%10000);
0000b8  482c              LDR      r0,|L24.364|
0000ba  6800              LDR      r0,[r0,#0]  ; sent_checksum
0000bc  f2427110          MOV      r1,#0x2710
0000c0  fbb0f2f1          UDIV     r2,r0,r1
0000c4  fb010712          MLS      r7,r1,r2,r0
0000c8  4911              LDR      r1,|L24.272|
0000ca  1908              ADDS     r0,r1,r4
0000cc  463a              MOV      r2,r7
0000ce  a128              ADR      r1,|L24.368|
0000d0  f7fffffe          BL       __2sprintf
0000d4  b2c5              UXTB     r5,r0
;;;2123   	len=len+temp8;	
0000d6  1960              ADDS     r0,r4,r5
0000d8  b284              UXTH     r4,r0
;;;2124   	comSendBuf(COM3,(uint8_t *)strOut,len);
0000da  4622              MOV      r2,r4
0000dc  490c              LDR      r1,|L24.272|
0000de  2002              MOVS     r0,#2
0000e0  f7fffffe          BL       comSendBuf
;;;2125   	comSendBuf(COM1,(uint8_t *)strOut,len);
0000e4  4622              MOV      r2,r4
0000e6  490a              LDR      r1,|L24.272|
0000e8  2000              MOVS     r0,#0
0000ea  f7fffffe          BL       comSendBuf
;;;2126   }
0000ee  e8bd9fff          POP      {r0-r12,pc}
;;;2127   
                          ENDP

0000f2  0000              DCW      0x0000
                  |L24.244|
                          DCD      device_id
                  |L24.248|
0000f8  42472c42          DCB      "BG,B0002,17,%02d,%02d",0
0000fc  30303032
000100  2c31372c
000104  25303264
000108  2c253032
00010c  6400    
00010e  00                DCB      0
00010f  00                DCB      0
                  |L24.272|
                          DCD      strOut
                  |L24.276|
                          DCD      g_tRTC
                  |L24.280|
000118  2c253034          DCB      ",%04d%02d%02d%02d%02d%02d",0
00011c  64253032
000120  64253032
000124  64253032
000128  64253032
00012c  64253032
000130  6400    
000132  00                DCB      0
000133  00                DCB      0
                  |L24.308|
                          DCD      state_counter
                  |L24.312|
                          DCD      element_counter
                  |L24.316|
00013c  2c253033          DCB      ",%03d,%02d",0
000140  642c2530
000144  326400  
000147  00                DCB      0
                  |L24.328|
                          DCD      gauge_temp
                  |L24.332|
                          DCD      0x447a0000
                  |L24.336|
000150  2c595330          DCB      ",YS01,%5.1f",0
000154  312c2535
000158  2e316600
                  |L24.348|
                          DCD      radar_state
                  |L24.352|
000160  2c535432          DCB      ",ST20,%d",0
000164  302c2564
000168  00      
000169  00                DCB      0
00016a  00                DCB      0
00016b  00                DCB      0
                  |L24.364|
                          DCD      sent_checksum
                  |L24.368|
000170  2c253034          DCB      ",%04d,ED\r\n",0
000174  642c4544
000178  0d0a00  
00017b  00                DCB      0

                          AREA ||i.StringToInt||, CODE, READONLY, ALIGN=1

                  StringToInt PROC
;;;1846   
;;;1847   int32_t StringToInt(char *_pStr)
000000  b5f0              PUSH     {r4-r7,lr}
;;;1848   {
000002  4604              MOV      r4,r0
;;;1849    	uint8_t flag;
;;;1850    	char *p;
;;;1851    	uint32_t ulInt;
;;;1852    	uint8_t i;
;;;1853    	uint8_t ucTemp;
;;;1854   
;;;1855    	p = _pStr;
000004  4621              MOV      r1,r4
;;;1856    	if (*p == '-')
000006  7808              LDRB     r0,[r1,#0]
000008  282d              CMP      r0,#0x2d
00000a  d102              BNE      |L25.18|
;;;1857    	{
;;;1858    		flag = 1;	/* 负数 */
00000c  2501              MOVS     r5,#1
;;;1859    		p++;
00000e  1c49              ADDS     r1,r1,#1
000010  e000              B        |L25.20|
                  |L25.18|
;;;1860    	}
;;;1861    	else
;;;1862    	{
;;;1863    		flag = 0;
000012  2500              MOVS     r5,#0
                  |L25.20|
;;;1864    	}
;;;1865   
;;;1866    	ulInt = 0;
000014  2200              MOVS     r2,#0
;;;1867    	for (i = 0; i < 15; i++)
000016  2600              MOVS     r6,#0
000018  e013              B        |L25.66|
                  |L25.26|
;;;1868    	{
;;;1869    		ucTemp = *p;
00001a  780b              LDRB     r3,[r1,#0]
;;;1870    		if (ucTemp == '.')	/* 遇到小数点，自动跳过1个字节 */
00001c  2b2e              CMP      r3,#0x2e
00001e  d101              BNE      |L25.36|
;;;1871    		{
;;;1872    			p++;
000020  1c49              ADDS     r1,r1,#1
;;;1873    			ucTemp = *p;
000022  780b              LDRB     r3,[r1,#0]
                  |L25.36|
;;;1874    		}
;;;1875    		if ((ucTemp >= '0') && (ucTemp <= '9'))
000024  2b30              CMP      r3,#0x30
000026  db09              BLT      |L25.60|
000028  2b39              CMP      r3,#0x39
00002a  dc07              BGT      |L25.60|
;;;1876    		{
;;;1877    			ulInt = ulInt * 10 + (ucTemp - '0');
00002c  f1a30030          SUB      r0,r3,#0x30
000030  eb020782          ADD      r7,r2,r2,LSL #2
000034  eb000247          ADD      r2,r0,r7,LSL #1
;;;1878    			p++;
000038  1c49              ADDS     r1,r1,#1
00003a  e000              B        |L25.62|
                  |L25.60|
;;;1879    		}
;;;1880    		else
;;;1881    		{
;;;1882    			break;
00003c  e003              B        |L25.70|
                  |L25.62|
00003e  1c70              ADDS     r0,r6,#1              ;1867
000040  b2c6              UXTB     r6,r0                 ;1867
                  |L25.66|
000042  2e0f              CMP      r6,#0xf               ;1867
000044  dbe9              BLT      |L25.26|
                  |L25.70|
000046  bf00              NOP      
;;;1883    		}
;;;1884    	}
;;;1885   
;;;1886    	if (flag == 1)
000048  2d01              CMP      r5,#1
00004a  d101              BNE      |L25.80|
;;;1887    	{
;;;1888    		return -ulInt;
00004c  4250              RSBS     r0,r2,#0
                  |L25.78|
;;;1889    	}
;;;1890    	return ulInt;
;;;1891   }
00004e  bdf0              POP      {r4-r7,pc}
                  |L25.80|
000050  4610              MOV      r0,r2                 ;1890
000052  e7fc              B        |L25.78|
;;;1892   
                          ENDP


                          AREA ||i.TIM2_IRQHandler||, CODE, READONLY, ALIGN=2

                  TIM2_IRQHandler PROC
;;;579    
;;;580    void TIM2_IRQHandler(void)
000000  b510              PUSH     {r4,lr}
;;;581    {
;;;582    	if (TIM_GetITStatus(TIM2, TIM_IT_Update) != RESET)
000002  2101              MOVS     r1,#1
000004  0788              LSLS     r0,r1,#30
000006  f7fffffe          BL       TIM_GetITStatus
00000a  b320              CBZ      r0,|L26.86|
;;;583    	{	
;;;584    		TIM_ClearFlag(TIM2, TIM_FLAG_Update);		
00000c  2101              MOVS     r1,#1
00000e  0788              LSLS     r0,r1,#30
000010  f7fffffe          BL       TIM_ClearFlag
;;;585    		
;;;586    		timer_1s++;
000014  4810              LDR      r0,|L26.88|
000016  7800              LDRB     r0,[r0,#0]  ; timer_1s
000018  1c40              ADDS     r0,r0,#1
00001a  490f              LDR      r1,|L26.88|
00001c  7008              STRB     r0,[r1,#0]
;;;587    		timer1_1s++;
00001e  480f              LDR      r0,|L26.92|
000020  6800              LDR      r0,[r0,#0]  ; timer1_1s
000022  1c40              ADDS     r0,r0,#1
000024  490d              LDR      r1,|L26.92|
000026  6008              STR      r0,[r1,#0]  ; timer1_1s
;;;588    		
;;;589    		timer1_1s_1++;
000028  480d              LDR      r0,|L26.96|
00002a  6800              LDR      r0,[r0,#0]  ; timer1_1s_1
00002c  1c40              ADDS     r0,r0,#1
00002e  490c              LDR      r1,|L26.96|
000030  6008              STR      r0,[r1,#0]  ; timer1_1s_1
;;;590    		
;;;591    		if(timer_1s%3 == 0)	//3s定时采集信号
000032  4809              LDR      r0,|L26.88|
000034  7800              LDRB     r0,[r0,#0]  ; timer_1s
000036  2103              MOVS     r1,#3
000038  fb90f2f1          SDIV     r2,r0,r1
00003c  fb010012          MLS      r0,r1,r2,r0
000040  b918              CBNZ     r0,|L26.74|
;;;592    		{
;;;593    			TIM_CallBack1();
000042  f7fffffe          BL       TIM_CallBack1
;;;594    			
;;;595    			TIM_CallBack3();
000046  f7fffffe          BL       TIM_CallBack3
                  |L26.74|
;;;596    		}			
;;;597    		
;;;598    		if(H_Sen_NO[2]>0 || H_Sen_NO[3]>0)
00004a  4806              LDR      r0,|L26.100|
00004c  7880              LDRB     r0,[r0,#2]  ; H_Sen_NO
00004e  2800              CMP      r0,#0
000050  dc01              BGT      |L26.86|
000052  4804              LDR      r0,|L26.100|
000054  78c0              LDRB     r0,[r0,#3]  ; H_Sen_NO
                  |L26.86|
;;;599    		{
;;;600    		}
;;;601    	}	
;;;602    }
000056  bd10              POP      {r4,pc}
;;;603    /*******************************************************************************
                          ENDP

                  |L26.88|
                          DCD      timer_1s
                  |L26.92|
                          DCD      timer1_1s
                  |L26.96|
                          DCD      timer1_1s_1
                  |L26.100|
                          DCD      H_Sen_NO

                          AREA ||i.TIM3_IRQHandler||, CODE, READONLY, ALIGN=2

                  TIM3_IRQHandler PROC
;;;612    
;;;613    void TIM3_IRQHandler(void)
000000  b510              PUSH     {r4,lr}
;;;614    {
;;;615    	if (TIM_GetITStatus(TIM3, TIM_IT_Update) != RESET)
000002  2101              MOVS     r1,#1
000004  4804              LDR      r0,|L27.24|
000006  f7fffffe          BL       TIM_GetITStatus
00000a  b118              CBZ      r0,|L27.20|
;;;616    	{	
;;;617    		TIM_ClearFlag(TIM3, TIM_FLAG_Update);	
00000c  2101              MOVS     r1,#1
00000e  4802              LDR      r0,|L27.24|
000010  f7fffffe          BL       TIM_ClearFlag
                  |L27.20|
;;;618    	}
;;;619    }
000014  bd10              POP      {r4,pc}
;;;620    
                          ENDP

000016  0000              DCW      0x0000
                  |L27.24|
                          DCD      0x40000400

                          AREA ||i.UART5_IRQHandler||, CODE, READONLY, ALIGN=2

                  UART5_IRQHandler PROC
;;;656    
;;;657    void UART5_IRQHandler(void)
000000  b510              PUSH     {r4,lr}
;;;658    {
;;;659    //	uint8_t ch;	
;;;660    	
;;;661    	/* 处理接收中断 */	
;;;662    	if (USART_GetITStatus(UART5, USART_IT_RXNE) != RESET)
000002  f2405125          MOV      r1,#0x525
000006  4826              LDR      r0,|L28.160|
000008  f7fffffe          BL       USART_GetITStatus
00000c  b138              CBZ      r0,|L28.30|
;;;663    	{
;;;664    		//ch = USART_ReceiveData(UART5);
;;;665    		USART_ReceiveData(UART5);
00000e  4824              LDR      r0,|L28.160|
000010  f7fffffe          BL       USART_ReceiveData
;;;666    		
;;;667    		USART_ClearITPendingBit(UART5,USART_IT_RXNE);
000014  f2405125          MOV      r1,#0x525
000018  4821              LDR      r0,|L28.160|
00001a  f7fffffe          BL       USART_ClearITPendingBit
                  |L28.30|
;;;668    	}
;;;669    	
;;;670    	if (USART_GetITStatus(UART5, USART_IT_TXE) != RESET)
00001e  f2407127          MOV      r1,#0x727
000022  481f              LDR      r0,|L28.160|
000024  f7fffffe          BL       USART_GetITStatus
000028  b1e0              CBZ      r0,|L28.100|
;;;671    	{
;;;672    		USART_SendData(UART5,TxBuffer5[TxPointer5++]);
00002a  481e              LDR      r0,|L28.164|
00002c  7804              LDRB     r4,[r0,#0]  ; TxPointer5
00002e  1c60              ADDS     r0,r4,#1
000030  4a1c              LDR      r2,|L28.164|
000032  7010              STRB     r0,[r2,#0]
000034  481c              LDR      r0,|L28.168|
000036  5d01              LDRB     r1,[r0,r4]
000038  4819              LDR      r0,|L28.160|
00003a  f7fffffe          BL       USART_SendData
;;;673    		
;;;674    		if(TxPointer5 >= TxCounter5)
00003e  4819              LDR      r0,|L28.164|
000040  7800              LDRB     r0,[r0,#0]  ; TxPointer5
000042  491a              LDR      r1,|L28.172|
000044  7809              LDRB     r1,[r1,#0]  ; TxCounter5
000046  4288              CMP      r0,r1
000048  db29              BLT      |L28.158|
;;;675    		{
;;;676    			USART_ITConfig(UART5, USART_IT_TXE, DISABLE);
00004a  2200              MOVS     r2,#0
00004c  f2407127          MOV      r1,#0x727
000050  4813              LDR      r0,|L28.160|
000052  f7fffffe          BL       USART_ITConfig
;;;677    
;;;678    			USART_ITConfig(UART5, USART_IT_TC, ENABLE);
000056  2201              MOVS     r2,#1
000058  f2406126          MOV      r1,#0x626
00005c  4810              LDR      r0,|L28.160|
00005e  f7fffffe          BL       USART_ITConfig
000062  e01c              B        |L28.158|
                  |L28.100|
;;;679    		}
;;;680    	}
;;;681    	else if (USART_GetITStatus(UART5, USART_IT_TC) != RESET)
000064  f2406126          MOV      r1,#0x626
000068  480d              LDR      r0,|L28.160|
00006a  f7fffffe          BL       USART_GetITStatus
00006e  b1b0              CBZ      r0,|L28.158|
;;;682    	{
;;;683    		if (TxPointer5 >= TxCounter5)
000070  480c              LDR      r0,|L28.164|
000072  7800              LDRB     r0,[r0,#0]  ; TxPointer5
000074  490d              LDR      r1,|L28.172|
000076  7809              LDRB     r1,[r1,#0]  ; TxCounter5
000078  4288              CMP      r0,r1
00007a  db06              BLT      |L28.138|
;;;684    		{
;;;685    			USART_ITConfig(UART5, USART_IT_TC, DISABLE);
00007c  2200              MOVS     r2,#0
00007e  f2406126          MOV      r1,#0x626
000082  4807              LDR      r0,|L28.160|
000084  f7fffffe          BL       USART_ITConfig
000088  e009              B        |L28.158|
                  |L28.138|
;;;686    		}
;;;687    		else
;;;688    		{
;;;689    			USART_SendData(UART5,TxBuffer5[TxPointer5++]);
00008a  4806              LDR      r0,|L28.164|
00008c  7804              LDRB     r4,[r0,#0]  ; TxPointer5
00008e  1c60              ADDS     r0,r4,#1
000090  4a04              LDR      r2,|L28.164|
000092  7010              STRB     r0,[r2,#0]
000094  4804              LDR      r0,|L28.168|
000096  5d01              LDRB     r1,[r0,r4]
000098  4801              LDR      r0,|L28.160|
00009a  f7fffffe          BL       USART_SendData
                  |L28.158|
;;;690    		}
;;;691    	}
;;;692    }
00009e  bd10              POP      {r4,pc}
;;;693    
                          ENDP

                  |L28.160|
                          DCD      0x40005000
                  |L28.164|
                          DCD      TxPointer5
                  |L28.168|
                          DCD      TxBuffer5
                  |L28.172|
                          DCD      TxCounter5

                          AREA ||i.USART2_IRQHandler||, CODE, READONLY, ALIGN=2

                  USART2_IRQHandler PROC
;;;993    
;;;994    void USART2_IRQHandler(void)
000000  b570              PUSH     {r4-r6,lr}
;;;995    {
;;;996    	uint8_t ch;
;;;997    	
;;;998    	if (USART_GetITStatus(USART2, USART_IT_RXNE) != RESET)
000002  f2405125          MOV      r1,#0x525
000006  486f              LDR      r0,|L29.452|
000008  f7fffffe          BL       USART_GetITStatus
00000c  2800              CMP      r0,#0
00000e  d015              BEQ      |L29.60|
;;;999    	{
;;;1000   		ch = USART_ReceiveData(USART2);
000010  486c              LDR      r0,|L29.452|
000012  f7fffffe          BL       USART_ReceiveData
000016  b2c4              UXTB     r4,r0
;;;1001   		
;;;1002   		USART_ClearITPendingBit(USART2,USART_IT_RXNE);
000018  f2405125          MOV      r1,#0x525
00001c  4869              LDR      r0,|L29.452|
00001e  f7fffffe          BL       USART_ClearITPendingBit
;;;1003   
;;;1004   		if(r_485_port == 0x01)
000022  4869              LDR      r0,|L29.456|
000024  7800              LDRB     r0,[r0,#0]  ; r_485_port
000026  2801              CMP      r0,#1
000028  d141              BNE      |L29.174|
;;;1005   		{
;;;1006   
;;;1007   			if( TR_FLAG2 == 0x80 )
00002a  4868              LDR      r0,|L29.460|
00002c  7800              LDRB     r0,[r0,#0]  ; TR_FLAG2
00002e  2880              CMP      r0,#0x80
000030  d105              BNE      |L29.62|
;;;1008   			{
;;;1009   				if( ch == 0xaa )
000032  2caa              CMP      r4,#0xaa
000034  d102              BNE      |L29.60|
;;;1010   					TR_FLAG2 = 0x81;
000036  2081              MOVS     r0,#0x81
000038  4964              LDR      r1,|L29.460|
00003a  7008              STRB     r0,[r1,#0]
                  |L29.60|
00003c  e07d              B        |L29.314|
                  |L29.62|
;;;1011   			}
;;;1012   			else if( TR_FLAG2 == 0x81 )
00003e  4863              LDR      r0,|L29.460|
000040  7800              LDRB     r0,[r0,#0]  ; TR_FLAG2
000042  2881              CMP      r0,#0x81
000044  d114              BNE      |L29.112|
;;;1013   			{
;;;1014   				if( ch < 0x80 )
000046  2c80              CMP      r4,#0x80
000048  da0e              BGE      |L29.104|
;;;1015   				{	
;;;1016   					TR_FLAG2    = 0x83;
00004a  2083              MOVS     r0,#0x83
00004c  495f              LDR      r1,|L29.460|
00004e  7008              STRB     r0,[r1,#0]
;;;1017   					Rx_Fra_Len2 = ch;
000050  485f              LDR      r0,|L29.464|
000052  7004              STRB     r4,[r0,#0]
;;;1018   					RxCounter2  = Rx_Fra_Len2 + 3;
000054  7800              LDRB     r0,[r0,#0]  ; Rx_Fra_Len2
000056  1cc0              ADDS     r0,r0,#3
000058  495e              LDR      r1,|L29.468|
00005a  7008              STRB     r0,[r1,#0]
;;;1019   					RxPointer2  = 0; 
00005c  2000              MOVS     r0,#0
00005e  495e              LDR      r1,|L29.472|
000060  7008              STRB     r0,[r1,#0]
;;;1020   					R_interval2 = 0;
000062  495e              LDR      r1,|L29.476|
000064  7008              STRB     r0,[r1,#0]
000066  e068              B        |L29.314|
                  |L29.104|
;;;1021   				}
;;;1022   				else
;;;1023   				{
;;;1024   					TR_FLAG2 = 0x80;
000068  2080              MOVS     r0,#0x80
00006a  4958              LDR      r1,|L29.460|
00006c  7008              STRB     r0,[r1,#0]
00006e  e064              B        |L29.314|
                  |L29.112|
;;;1025   				} 
;;;1026   			}
;;;1027   			else if( TR_FLAG2 == 0x83 )  
000070  4856              LDR      r0,|L29.460|
000072  7800              LDRB     r0,[r0,#0]  ; TR_FLAG2
000074  2883              CMP      r0,#0x83
000076  d160              BNE      |L29.314|
;;;1028   			{
;;;1029   				RxBuffer2[RxPointer2] = ch;	
000078  4859              LDR      r0,|L29.480|
00007a  4957              LDR      r1,|L29.472|
00007c  7809              LDRB     r1,[r1,#0]  ; RxPointer2
00007e  5444              STRB     r4,[r0,r1]
;;;1030   				RxPointer2++; 
000080  4855              LDR      r0,|L29.472|
000082  7800              LDRB     r0,[r0,#0]  ; RxPointer2
000084  1c40              ADDS     r0,r0,#1
000086  4954              LDR      r1,|L29.472|
000088  7008              STRB     r0,[r1,#0]
;;;1031   				
;;;1032   				R_interval2 = 0;
00008a  2000              MOVS     r0,#0
00008c  4953              LDR      r1,|L29.476|
00008e  7008              STRB     r0,[r1,#0]
;;;1033   				
;;;1034   				if( RxPointer2 == RxCounter2 )
000090  4851              LDR      r0,|L29.472|
000092  7800              LDRB     r0,[r0,#0]  ; RxPointer2
000094  494f              LDR      r1,|L29.468|
000096  7809              LDRB     r1,[r1,#0]  ; RxCounter2
000098  4288              CMP      r0,r1
00009a  d14e              BNE      |L29.314|
;;;1035   				{
;;;1036   					TR_FLAG2 = 0x87; 
00009c  2087              MOVS     r0,#0x87
00009e  494b              LDR      r1,|L29.460|
0000a0  7008              STRB     r0,[r1,#0]
;;;1037   
;;;1038   					Cmd_Type = 0x41;
0000a2  2041              MOVS     r0,#0x41
0000a4  494f              LDR      r1,|L29.484|
0000a6  7008              STRB     r0,[r1,#0]
;;;1039   					
;;;1040   					USART_CallBack2();
0000a8  f7fffffe          BL       USART_CallBack2
0000ac  e045              B        |L29.314|
                  |L29.174|
;;;1041   				}
;;;1042   			}
;;;1043   		}
;;;1044   		else
;;;1045   		if(r_485_port == 0x02)
0000ae  4846              LDR      r0,|L29.456|
0000b0  7800              LDRB     r0,[r0,#0]  ; r_485_port
0000b2  2802              CMP      r0,#2
0000b4  d141              BNE      |L29.314|
;;;1046   		{
;;;1047   
;;;1048   			if( TR_FLAG2 == 0x80 )
0000b6  4845              LDR      r0,|L29.460|
0000b8  7800              LDRB     r0,[r0,#0]  ; TR_FLAG2
0000ba  2880              CMP      r0,#0x80
0000bc  d11b              BNE      |L29.246|
;;;1049   			{	
;;;1050   				if( (ch == 0x06)  || (ch == 0x86)) 
0000be  2c06              CMP      r4,#6
0000c0  d001              BEQ      |L29.198|
0000c2  2c86              CMP      r4,#0x86
0000c4  d139              BNE      |L29.314|
                  |L29.198|
;;;1051   				{
;;;1052   					RxPointer2 = 0;
0000c6  2000              MOVS     r0,#0
0000c8  4943              LDR      r1,|L29.472|
0000ca  7008              STRB     r0,[r1,#0]
;;;1053   					
;;;1054   					temp_ptr = ch;
0000cc  4846              LDR      r0,|L29.488|
0000ce  7004              STRB     r4,[r0,#0]
;;;1055   					
;;;1056   					RxBuffer2[RxPointer2++] = ch;
0000d0  7808              LDRB     r0,[r1,#0]  ; RxPointer2
0000d2  1c41              ADDS     r1,r0,#1
0000d4  4a40              LDR      r2,|L29.472|
0000d6  7011              STRB     r1,[r2,#0]
0000d8  4941              LDR      r1,|L29.480|
0000da  540c              STRB     r4,[r1,r0]
;;;1057   					
;;;1058   					(ch == 0x06)? (R_interval2 = 29):(R_interval2 = 35);
0000dc  2c06              CMP      r4,#6
0000de  d103              BNE      |L29.232|
0000e0  201d              MOVS     r0,#0x1d
0000e2  493e              LDR      r1,|L29.476|
0000e4  7008              STRB     r0,[r1,#0]
0000e6  e002              B        |L29.238|
                  |L29.232|
0000e8  2023              MOVS     r0,#0x23
0000ea  493c              LDR      r1,|L29.476|
0000ec  7008              STRB     r0,[r1,#0]
                  |L29.238|
;;;1059   					
;;;1060   					TR_FLAG2 = 0x81;
0000ee  2081              MOVS     r0,#0x81
0000f0  4936              LDR      r1,|L29.460|
0000f2  7008              STRB     r0,[r1,#0]
0000f4  e021              B        |L29.314|
                  |L29.246|
;;;1061   				}
;;;1062   			}
;;;1063   			else
;;;1064   			if( TR_FLAG2 == 0x81 )
0000f6  4835              LDR      r0,|L29.460|
0000f8  7800              LDRB     r0,[r0,#0]  ; TR_FLAG2
0000fa  2881              CMP      r0,#0x81
0000fc  d11d              BNE      |L29.314|
;;;1065   			{
;;;1066   				RxBuffer2[RxPointer2++] = ch;	
0000fe  4936              LDR      r1,|L29.472|
000100  7808              LDRB     r0,[r1,#0]  ; RxPointer2
000102  1c41              ADDS     r1,r0,#1
000104  4a34              LDR      r2,|L29.472|
000106  7011              STRB     r1,[r2,#0]
000108  4935              LDR      r1,|L29.480|
00010a  540c              STRB     r4,[r1,r0]
;;;1067   				
;;;1068   				if(RxPointer2 >= R_interval2)
00010c  4610              MOV      r0,r2
00010e  7800              LDRB     r0,[r0,#0]  ; RxPointer2
000110  4932              LDR      r1,|L29.476|
000112  7809              LDRB     r1,[r1,#0]  ; R_interval2
000114  4288              CMP      r0,r1
000116  db10              BLT      |L29.314|
;;;1069   				{
;;;1070   					TR_FLAG2 = 0x87;
000118  2087              MOVS     r0,#0x87
00011a  492c              LDR      r1,|L29.460|
00011c  7008              STRB     r0,[r1,#0]
;;;1071   
;;;1072   					Rx_Fra_Len2 = R_interval2;
00011e  482f              LDR      r0,|L29.476|
000120  7800              LDRB     r0,[r0,#0]  ; R_interval2
000122  492b              LDR      r1,|L29.464|
000124  7008              STRB     r0,[r1,#0]
;;;1073   					
;;;1074   					if(temp_ptr == 0x06)
000126  4830              LDR      r0,|L29.488|
000128  7800              LDRB     r0,[r0,#0]  ; temp_ptr
00012a  2806              CMP      r0,#6
00012c  d102              BNE      |L29.308|
;;;1075   						Cmd_Type = 0x06;
00012e  492d              LDR      r1,|L29.484|
000130  7008              STRB     r0,[r1,#0]
000132  e002              B        |L29.314|
                  |L29.308|
;;;1076   					else
;;;1077   						Cmd_Type = 0x86;
000134  2086              MOVS     r0,#0x86
000136  492b              LDR      r1,|L29.484|
000138  7008              STRB     r0,[r1,#0]
                  |L29.314|
;;;1078   					
;;;1079   					//USART_CallBack21();					
;;;1080   				}
;;;1081   			}
;;;1082   		}
;;;1083   	}
;;;1084   	
;;;1085   	/* 处理发送缓冲区空中断 */
;;;1086   	
;;;1087   	if (USART_GetITStatus(USART2, USART_IT_TXE) != RESET)
00013a  f2407127          MOV      r1,#0x727
00013e  4821              LDR      r0,|L29.452|
000140  f7fffffe          BL       USART_GetITStatus
000144  b1e0              CBZ      r0,|L29.384|
;;;1088   	{
;;;1089   		USART_SendData(USART2,TxBuffer2[TxPointer2++]);
000146  4829              LDR      r0,|L29.492|
000148  7805              LDRB     r5,[r0,#0]  ; TxPointer2
00014a  1c68              ADDS     r0,r5,#1
00014c  4a27              LDR      r2,|L29.492|
00014e  7010              STRB     r0,[r2,#0]
000150  4827              LDR      r0,|L29.496|
000152  5d41              LDRB     r1,[r0,r5]
000154  481b              LDR      r0,|L29.452|
000156  f7fffffe          BL       USART_SendData
;;;1090   		
;;;1091   		if(TxPointer2 >= TxCounter2)
00015a  4824              LDR      r0,|L29.492|
00015c  7800              LDRB     r0,[r0,#0]  ; TxPointer2
00015e  4925              LDR      r1,|L29.500|
000160  7809              LDRB     r1,[r1,#0]  ; TxCounter2
000162  4288              CMP      r0,r1
000164  db2d              BLT      |L29.450|
;;;1092   		{
;;;1093   			USART_ITConfig(USART2, USART_IT_TXE, DISABLE);
000166  2200              MOVS     r2,#0
000168  f2407127          MOV      r1,#0x727
00016c  4815              LDR      r0,|L29.452|
00016e  f7fffffe          BL       USART_ITConfig
;;;1094   
;;;1095   			USART_ITConfig(USART2, USART_IT_TC, ENABLE);
000172  2201              MOVS     r2,#1
000174  f2406126          MOV      r1,#0x626
000178  4812              LDR      r0,|L29.452|
00017a  f7fffffe          BL       USART_ITConfig
00017e  e020              B        |L29.450|
                  |L29.384|
;;;1096   		}
;;;1097   	}
;;;1098   	else if (USART_GetITStatus(USART2, USART_IT_TC) != RESET)
000180  f2406126          MOV      r1,#0x626
000184  480f              LDR      r0,|L29.452|
000186  f7fffffe          BL       USART_GetITStatus
00018a  b1d0              CBZ      r0,|L29.450|
;;;1099   	{
;;;1100   		if (TxPointer2 >= TxCounter2)
00018c  4817              LDR      r0,|L29.492|
00018e  7800              LDRB     r0,[r0,#0]  ; TxPointer2
000190  4918              LDR      r1,|L29.500|
000192  7809              LDRB     r1,[r1,#0]  ; TxCounter2
000194  4288              CMP      r0,r1
000196  db0a              BLT      |L29.430|
;;;1101   		{
;;;1102   			USART_ITConfig(USART2, USART_IT_TC, DISABLE);
000198  2200              MOVS     r2,#0
00019a  f2406126          MOV      r1,#0x626
00019e  4809              LDR      r0,|L29.452|
0001a0  f7fffffe          BL       USART_ITConfig
;;;1103   			RS485_RX_EN();
0001a4  f44f7080          MOV      r0,#0x100
0001a8  4913              LDR      r1,|L29.504|
0001aa  6008              STR      r0,[r1,#0]
0001ac  e009              B        |L29.450|
                  |L29.430|
;;;1104   		}
;;;1105   		else
;;;1106   		{
;;;1107   			USART_SendData(USART2,TxBuffer2[TxPointer2++]);
0001ae  480f              LDR      r0,|L29.492|
0001b0  7805              LDRB     r5,[r0,#0]  ; TxPointer2
0001b2  1c68              ADDS     r0,r5,#1
0001b4  4a0d              LDR      r2,|L29.492|
0001b6  7010              STRB     r0,[r2,#0]
0001b8  480d              LDR      r0,|L29.496|
0001ba  5d41              LDRB     r1,[r0,r5]
0001bc  4801              LDR      r0,|L29.452|
0001be  f7fffffe          BL       USART_SendData
                  |L29.450|
;;;1108   		}
;;;1109   	}
;;;1110   }
0001c2  bd70              POP      {r4-r6,pc}
;;;1111   
                          ENDP

                  |L29.452|
                          DCD      0x40004400
                  |L29.456|
                          DCD      r_485_port
                  |L29.460|
                          DCD      TR_FLAG2
                  |L29.464|
                          DCD      Rx_Fra_Len2
                  |L29.468|
                          DCD      RxCounter2
                  |L29.472|
                          DCD      RxPointer2
                  |L29.476|
                          DCD      R_interval2
                  |L29.480|
                          DCD      RxBuffer2
                  |L29.484|
                          DCD      Cmd_Type
                  |L29.488|
                          DCD      temp_ptr
                  |L29.492|
                          DCD      TxPointer2
                  |L29.496|
                          DCD      TxBuffer2
                  |L29.500|
                          DCD      TxCounter2
                  |L29.504|
                          DCD      0x40010c14

                          AREA ||i.bsp_InitOthers||, CODE, READONLY, ALIGN=2

                  bsp_InitOthers PROC
;;;1120   
;;;1121   void bsp_InitOthers(void)
000000  b51f              PUSH     {r0-r4,lr}
;;;1122   {
;;;1123   	GPIO_InitTypeDef GPIO_InitStructure;
;;;1124   	
;;;1125   	EXTI_InitTypeDef EXTI_InitStructure;
;;;1126   	
;;;1127   	NVIC_InitTypeDef NVIC_InitStructure;
;;;1128   	
;;;1129   	RCC_APB2PeriphClockCmd(RCC_GRC_DATA, ENABLE);
000002  2101              MOVS     r1,#1
000004  2020              MOVS     r0,#0x20
000006  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;1130   	
;;;1131   	//用作系统电压检测
;;;1132   	
;;;1133   	RCC_APB2PeriphClockCmd( RCC_APB2Periph_ADC1 , ENABLE);
00000a  2101              MOVS     r1,#1
00000c  0248              LSLS     r0,r1,#9
00000e  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;1134   	RCC_AHBPeriphClockCmd(RCC_AHBPeriph_DMA1, ENABLE);
000012  2101              MOVS     r1,#1
000014  4608              MOV      r0,r1
000016  f7fffffe          BL       RCC_AHBPeriphClockCmd
;;;1135   
;;;1136   	//格雷码
;;;1137   	
;;;1138   	GPIO_InitStructure.GPIO_Pin = GPIO_PIN_GRC1 | GPIO_PIN_GRC2 |  GPIO_PIN_GRC3 |  GPIO_PIN_GRC4 | GPIO_PIN_GRC5 | GPIO_PIN_GRC6 | GPIO_PIN_GRC7 | GPIO_PIN_GRC8;
00001a  f44f407f          MOV      r0,#0xff00
00001e  f8ad000c          STRH     r0,[sp,#0xc]
;;;1139   	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
000022  2003              MOVS     r0,#3
000024  f88d000e          STRB     r0,[sp,#0xe]
;;;1140   	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
000028  2004              MOVS     r0,#4
00002a  f88d000f          STRB     r0,[sp,#0xf]
;;;1141   	GPIO_Init(PORT_GRC_DATA, &GPIO_InitStructure);	
00002e  a903              ADD      r1,sp,#0xc
000030  486d              LDR      r0,|L30.488|
000032  f7fffffe          BL       GPIO_Init
;;;1142   
;;;1143   	//雨量和风速
;;;1144   	
;;;1145   	GPIO_InitStructure.GPIO_Pin =GPIO_PIN_RAIN | GPIO_PIN_WS;
000036  20c0              MOVS     r0,#0xc0
000038  f8ad000c          STRH     r0,[sp,#0xc]
;;;1146   	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
00003c  2003              MOVS     r0,#3
00003e  f88d000e          STRB     r0,[sp,#0xe]
;;;1147   	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
000042  2004              MOVS     r0,#4
000044  f88d000f          STRB     r0,[sp,#0xf]
;;;1148   	GPIO_Init(PORT_GRC_DATA, &GPIO_InitStructure);
000048  a903              ADD      r1,sp,#0xc
00004a  4867              LDR      r0,|L30.488|
00004c  f7fffffe          BL       GPIO_Init
;;;1149   
;;;1150   	//电压检测
;;;1151   	
;;;1152   	GPIO_InitStructure.GPIO_Pin = GPIO_PIN_AD_V;
000050  2020              MOVS     r0,#0x20
000052  f8ad000c          STRH     r0,[sp,#0xc]
;;;1153   	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AIN;
000056  2000              MOVS     r0,#0
000058  f88d000f          STRB     r0,[sp,#0xf]
;;;1154   	GPIO_Init(PORT_GRC_DATA, &GPIO_InitStructure);
00005c  a903              ADD      r1,sp,#0xc
00005e  4862              LDR      r0,|L30.488|
000060  f7fffffe          BL       GPIO_Init
;;;1155   	
;;;1156   	{	//雨量中断	PD6
;;;1157   		
;;;1158   		GPIO_EXTILineConfig(GPIO_PortSourceGPIOD, GPIO_PinSource6);
000064  2106              MOVS     r1,#6
000066  2003              MOVS     r0,#3
000068  f7fffffe          BL       GPIO_EXTILineConfig
;;;1159   
;;;1160   		EXTI_InitStructure.EXTI_Line = EXTI_Line6  ;
00006c  2040              MOVS     r0,#0x40
00006e  9001              STR      r0,[sp,#4]
;;;1161   		EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
000070  2000              MOVS     r0,#0
000072  f88d0008          STRB     r0,[sp,#8]
;;;1162   		EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;		 
000076  2008              MOVS     r0,#8
000078  f88d0009          STRB     r0,[sp,#9]
;;;1163   		EXTI_InitStructure.EXTI_LineCmd = ENABLE;
00007c  2001              MOVS     r0,#1
00007e  f88d000a          STRB     r0,[sp,#0xa]
;;;1164   		EXTI_Init(&EXTI_InitStructure);
000082  a801              ADD      r0,sp,#4
000084  f7fffffe          BL       EXTI_Init
;;;1165   		
;;;1166   		GPIO_EXTILineConfig(GPIO_PortSourceGPIOD, GPIO_PinSource7);
000088  2107              MOVS     r1,#7
00008a  2003              MOVS     r0,#3
00008c  f7fffffe          BL       GPIO_EXTILineConfig
;;;1167   
;;;1168   		EXTI_InitStructure.EXTI_Line = EXTI_Line7  ;
000090  2080              MOVS     r0,#0x80
000092  9001              STR      r0,[sp,#4]
;;;1169   		EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;
000094  2000              MOVS     r0,#0
000096  f88d0008          STRB     r0,[sp,#8]
;;;1170   		EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;		 
00009a  2008              MOVS     r0,#8
00009c  f88d0009          STRB     r0,[sp,#9]
;;;1171   		EXTI_InitStructure.EXTI_LineCmd = ENABLE;
0000a0  2001              MOVS     r0,#1
0000a2  f88d000a          STRB     r0,[sp,#0xa]
;;;1172   		EXTI_Init(&EXTI_InitStructure);		
0000a6  a801              ADD      r0,sp,#4
0000a8  f7fffffe          BL       EXTI_Init
;;;1173   		
;;;1174   		
;;;1175   		NVIC_InitStructure.NVIC_IRQChannel = EXTI9_5_IRQn;
0000ac  2017              MOVS     r0,#0x17
0000ae  f88d0000          STRB     r0,[sp,#0]
;;;1176   		NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;
0000b2  2000              MOVS     r0,#0
0000b4  f88d0001          STRB     r0,[sp,#1]
;;;1177   		NVIC_InitStructure.NVIC_IRQChannelSubPriority = 5;
0000b8  2005              MOVS     r0,#5
0000ba  f88d0002          STRB     r0,[sp,#2]
;;;1178   		NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
0000be  2001              MOVS     r0,#1
0000c0  f88d0003          STRB     r0,[sp,#3]
;;;1179   		NVIC_Init(&NVIC_InitStructure);		
0000c4  4668              MOV      r0,sp
0000c6  f7fffffe          BL       NVIC_Init
;;;1180   	}	
;;;1181   	
;;;1182   	//控制管脚初始化	
;;;1183   	{
;;;1184   		RCC_APB2PeriphClockCmd(RCC_Led_Ctrl, ENABLE);
0000ca  2101              MOVS     r1,#1
0000cc  0208              LSLS     r0,r1,#8
0000ce  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;1185   		GPIO_InitStructure.GPIO_Pin   = PIN_Blue_Led | PIN_Yellow_Led | PIN_Orange_Led | PIN_Red_Led | PIN_Call_Led | PIN_Call_Alert;
0000d2  203f              MOVS     r0,#0x3f
0000d4  f8ad000c          STRH     r0,[sp,#0xc]
;;;1186   		GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
0000d8  2003              MOVS     r0,#3
0000da  f88d000e          STRB     r0,[sp,#0xe]
;;;1187   		GPIO_InitStructure.GPIO_Mode  = GPIO_Mode_Out_PP;
0000de  2010              MOVS     r0,#0x10
0000e0  f88d000f          STRB     r0,[sp,#0xf]
;;;1188   		GPIO_Init(PORT_Led_Ctrl , &GPIO_InitStructure);	
0000e4  a903              ADD      r1,sp,#0xc
0000e6  4841              LDR      r0,|L30.492|
0000e8  f7fffffe          BL       GPIO_Init
;;;1189   
;;;1190   		//关闭
;;;1191   		
;;;1192   		GPIO_ResetBits(PORT_Led_Ctrl ,PIN_Blue_Led);
0000ec  2101              MOVS     r1,#1
0000ee  483f              LDR      r0,|L30.492|
0000f0  f7fffffe          BL       GPIO_ResetBits
;;;1193   		GPIO_ResetBits(PORT_Led_Ctrl ,PIN_Yellow_Led);
0000f4  2102              MOVS     r1,#2
0000f6  483d              LDR      r0,|L30.492|
0000f8  f7fffffe          BL       GPIO_ResetBits
;;;1194   		GPIO_ResetBits(PORT_Led_Ctrl ,PIN_Orange_Led);
0000fc  2104              MOVS     r1,#4
0000fe  483b              LDR      r0,|L30.492|
000100  f7fffffe          BL       GPIO_ResetBits
;;;1195   		GPIO_ResetBits(PORT_Led_Ctrl ,PIN_Red_Led);
000104  2108              MOVS     r1,#8
000106  4839              LDR      r0,|L30.492|
000108  f7fffffe          BL       GPIO_ResetBits
;;;1196   		GPIO_ResetBits(PORT_Led_Ctrl ,PIN_Call_Led);
00010c  2110              MOVS     r1,#0x10
00010e  4837              LDR      r0,|L30.492|
000110  f7fffffe          BL       GPIO_ResetBits
;;;1197   		GPIO_ResetBits(PORT_Led_Ctrl ,PIN_Call_Alert);
000114  2120              MOVS     r1,#0x20
000116  4835              LDR      r0,|L30.492|
000118  f7fffffe          BL       GPIO_ResetBits
;;;1198   	}
;;;1199   	
;;;1200   	//气温
;;;1201   	JZXX_NO[0] = -50;		//极值下限
00011c  4834              LDR      r0,|L30.496|
00011e  4935              LDR      r1,|L30.500|
000120  6008              STR      r0,[r1,#0]  ; JZXX_NO
;;;1202   	JZSX_NO[0] = 50;		//极值上限
000122  4835              LDR      r0,|L30.504|
000124  4935              LDR      r1,|L30.508|
000126  6008              STR      r0,[r1,#0]  ; JZSX_NO
;;;1203   	CYBHL_NO[0]= 5;		    //存疑变化率
000128  4835              LDR      r0,|L30.512|
00012a  4936              LDR      r1,|L30.516|
00012c  6008              STR      r0,[r1,#0]  ; CYBHL_NO
;;;1204   	CWBHL_NO[0]= 10;		//错误变化率
00012e  4836              LDR      r0,|L30.520|
000130  4936              LDR      r1,|L30.524|
000132  6008              STR      r0,[r1,#0]  ; CWBHL_NO
;;;1205   	ZXBHL_NO[0]= 0;		    //最小变化率
000134  2000              MOVS     r0,#0
000136  4936              LDR      r1,|L30.528|
000138  6008              STR      r0,[r1,#0]  ; ZXBHL_NO
;;;1206   
;;;1207   	//湿度
;;;1208   	JZXX_NO[1] = 0;			
00013a  492e              LDR      r1,|L30.500|
00013c  6048              STR      r0,[r1,#4]  ; JZXX_NO
;;;1209   	JZSX_NO[1] = 100;
00013e  4835              LDR      r0,|L30.532|
000140  492e              LDR      r1,|L30.508|
000142  6048              STR      r0,[r1,#4]  ; JZSX_NO
;;;1210   	CYBHL_NO[1]= 5;
000144  482e              LDR      r0,|L30.512|
000146  492f              LDR      r1,|L30.516|
000148  6048              STR      r0,[r1,#4]  ; CYBHL_NO
;;;1211   	CWBHL_NO[1]= 10;
00014a  482f              LDR      r0,|L30.520|
00014c  492f              LDR      r1,|L30.524|
00014e  6048              STR      r0,[r1,#4]  ; CWBHL_NO
;;;1212   	ZXBHL_NO[1]= 0;
000150  2000              MOVS     r0,#0
000152  492f              LDR      r1,|L30.528|
000154  6048              STR      r0,[r1,#4]  ; ZXBHL_NO
;;;1213   
;;;1214   	//风向
;;;1215   	JZXX_NO[2] = 0;			
000156  4927              LDR      r1,|L30.500|
000158  6088              STR      r0,[r1,#8]  ; JZXX_NO
;;;1216   	JZSX_NO[2] = 360;
00015a  482f              LDR      r0,|L30.536|
00015c  4927              LDR      r1,|L30.508|
00015e  6088              STR      r0,[r1,#8]  ; JZSX_NO
;;;1217   	CYBHL_NO[2]= 10;
000160  4829              LDR      r0,|L30.520|
000162  4928              LDR      r1,|L30.516|
000164  6088              STR      r0,[r1,#8]  ; CYBHL_NO
;;;1218   	CWBHL_NO[2]= 20;
000166  482d              LDR      r0,|L30.540|
000168  4928              LDR      r1,|L30.524|
00016a  6088              STR      r0,[r1,#8]  ; CWBHL_NO
;;;1219   	ZXBHL_NO[2]= 0;
00016c  2000              MOVS     r0,#0
00016e  4928              LDR      r1,|L30.528|
000170  6088              STR      r0,[r1,#8]  ; ZXBHL_NO
;;;1220   
;;;1221   	//风速
;;;1222   	JZXX_NO[3] = 0;			
000172  4920              LDR      r1,|L30.500|
000174  60c8              STR      r0,[r1,#0xc]  ; JZXX_NO
;;;1223   	JZSX_NO[3] = 60;
000176  482a              LDR      r0,|L30.544|
000178  4920              LDR      r1,|L30.508|
00017a  60c8              STR      r0,[r1,#0xc]  ; JZSX_NO
;;;1224   	CYBHL_NO[3]= 5;
00017c  4820              LDR      r0,|L30.512|
00017e  4921              LDR      r1,|L30.516|
000180  60c8              STR      r0,[r1,#0xc]  ; CYBHL_NO
;;;1225   	CWBHL_NO[3]= 10;
000182  4821              LDR      r0,|L30.520|
000184  4921              LDR      r1,|L30.524|
000186  60c8              STR      r0,[r1,#0xc]  ; CWBHL_NO
;;;1226   	ZXBHL_NO[3]= 0;
000188  2000              MOVS     r0,#0
00018a  4921              LDR      r1,|L30.528|
00018c  60c8              STR      r0,[r1,#0xc]  ; ZXBHL_NO
;;;1227   
;;;1228   	//2分钟风速
;;;1229   	JZXX_NO[4] = 0;			
00018e  4919              LDR      r1,|L30.500|
000190  6108              STR      r0,[r1,#0x10]  ; JZXX_NO
;;;1230   	JZSX_NO[4] = 60;
000192  4823              LDR      r0,|L30.544|
000194  4919              LDR      r1,|L30.508|
000196  6108              STR      r0,[r1,#0x10]  ; JZSX_NO
;;;1231   	CYBHL_NO[4]= 5;
000198  4819              LDR      r0,|L30.512|
00019a  491a              LDR      r1,|L30.516|
00019c  6108              STR      r0,[r1,#0x10]  ; CYBHL_NO
;;;1232   	CWBHL_NO[4]= 10;
00019e  481a              LDR      r0,|L30.520|
0001a0  491a              LDR      r1,|L30.524|
0001a2  6108              STR      r0,[r1,#0x10]  ; CWBHL_NO
;;;1233   	ZXBHL_NO[4]= 0;
0001a4  2000              MOVS     r0,#0
0001a6  491a              LDR      r1,|L30.528|
0001a8  6108              STR      r0,[r1,#0x10]  ; ZXBHL_NO
;;;1234   
;;;1235   	//10分钟风速
;;;1236   	JZXX_NO[5] = 0;			
0001aa  4912              LDR      r1,|L30.500|
0001ac  6148              STR      r0,[r1,#0x14]  ; JZXX_NO
;;;1237   	JZSX_NO[5] = 60;
0001ae  481c              LDR      r0,|L30.544|
0001b0  4912              LDR      r1,|L30.508|
0001b2  6148              STR      r0,[r1,#0x14]  ; JZSX_NO
;;;1238   	CYBHL_NO[5]= 5;
0001b4  4812              LDR      r0,|L30.512|
0001b6  4913              LDR      r1,|L30.516|
0001b8  6148              STR      r0,[r1,#0x14]  ; CYBHL_NO
;;;1239   	CWBHL_NO[5]= 10;
0001ba  4813              LDR      r0,|L30.520|
0001bc  4913              LDR      r1,|L30.524|
0001be  6148              STR      r0,[r1,#0x14]  ; CWBHL_NO
;;;1240   	ZXBHL_NO[5]= 0;
0001c0  2000              MOVS     r0,#0
0001c2  4913              LDR      r1,|L30.528|
0001c4  6148              STR      r0,[r1,#0x14]  ; ZXBHL_NO
;;;1241   
;;;1242   	//雨量
;;;1243   	JZXX_NO[6] = 0;			
0001c6  490b              LDR      r1,|L30.500|
0001c8  6188              STR      r0,[r1,#0x18]  ; JZXX_NO
;;;1244   	JZSX_NO[6] = 4;
0001ca  f04f4081          MOV      r0,#0x40800000
0001ce  490b              LDR      r1,|L30.508|
0001d0  6188              STR      r0,[r1,#0x18]  ; JZSX_NO
;;;1245   	CYBHL_NO[6]= 3;
0001d2  4814              LDR      r0,|L30.548|
0001d4  490b              LDR      r1,|L30.516|
0001d6  6188              STR      r0,[r1,#0x18]  ; CYBHL_NO
;;;1246   	CWBHL_NO[6]= 4;
0001d8  f04f4081          MOV      r0,#0x40800000
0001dc  490b              LDR      r1,|L30.524|
0001de  6188              STR      r0,[r1,#0x18]  ; CWBHL_NO
;;;1247   	ZXBHL_NO[6]= 0;
0001e0  2000              MOVS     r0,#0
0001e2  490b              LDR      r1,|L30.528|
0001e4  6188              STR      r0,[r1,#0x18]  ; ZXBHL_NO
;;;1248   }
0001e6  bd1f              POP      {r0-r4,pc}
;;;1249   
                          ENDP

                  |L30.488|
                          DCD      0x40011400
                  |L30.492|
                          DCD      0x40012000
                  |L30.496|
                          DCD      0xc2480000
                  |L30.500|
                          DCD      JZXX_NO
                  |L30.504|
                          DCD      0x42480000
                  |L30.508|
                          DCD      JZSX_NO
                  |L30.512|
                          DCD      0x40a00000
                  |L30.516|
                          DCD      CYBHL_NO
                  |L30.520|
                          DCD      0x41200000
                  |L30.524|
                          DCD      CWBHL_NO
                  |L30.528|
                          DCD      ZXBHL_NO
                  |L30.532|
                          DCD      0x42c80000
                  |L30.536|
                          DCD      0x43b40000
                  |L30.540|
                          DCD      0x41a00000
                  |L30.544|
                          DCD      0x42700000
                  |L30.548|
                          DCD      0x40400000

                          AREA ||i.comp||, CODE, READONLY, ALIGN=1

                  comp PROC
;;;622    
;;;623    int comp(const void*a,const void*b)
000000  4602              MOV      r2,r0
;;;624    {
;;;625    	return *(int*)a-*(int*)b;
000002  6810              LDR      r0,[r2,#0]
000004  680b              LDR      r3,[r1,#0]
000006  1ac0              SUBS     r0,r0,r3
;;;626    }
000008  4770              BX       lr
;;;627    
                          ENDP


                          AREA ||i.int_to_str||, CODE, READONLY, ALIGN=1

                  int_to_str PROC
;;;185    */
;;;186    void int_to_str(int _iNumber, char *_pBuf, unsigned char _len)
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;187    {
000004  4606              MOV      r6,r0
000006  460d              MOV      r5,r1
000008  4690              MOV      r8,r2
;;;188    	unsigned char i;
;;;189    	int iTemp;
;;;190    
;;;191    	if (_iNumber < 0)	/* 负数 */
00000a  2e00              CMP      r6,#0
00000c  da01              BGE      |L32.18|
;;;192    	{
;;;193    		iTemp = -_iNumber;	/* 转为正数 */
00000e  4277              RSBS     r7,r6,#0
000010  e000              B        |L32.20|
                  |L32.18|
;;;194    	}
;;;195    	else
;;;196    	{
;;;197    		iTemp = _iNumber;
000012  4637              MOV      r7,r6
                  |L32.20|
;;;198    	}
;;;199    
;;;200    	mem_set(_pBuf, ' ',_len);
000014  4642              MOV      r2,r8
000016  2120              MOVS     r1,#0x20
000018  4628              MOV      r0,r5
00001a  f7fffffe          BL       mem_set
;;;201    
;;;202    	/* 将整数转换为ASCII字符串 */
;;;203    	for (i = 0; i < _len; i++)
00001e  2400              MOVS     r4,#0
000020  e011              B        |L32.70|
                  |L32.34|
;;;204    	{
;;;205    		_pBuf[_len - 1 - i] = (iTemp % 10) + '0';
000022  200a              MOVS     r0,#0xa
000024  fb97f1f0          SDIV     r1,r7,r0
000028  fb007011          MLS      r0,r0,r1,r7
00002c  3030              ADDS     r0,r0,#0x30
00002e  b2c1              UXTB     r1,r0
000030  f1a80001          SUB      r0,r8,#1
000034  1b00              SUBS     r0,r0,r4
000036  5429              STRB     r1,[r5,r0]
;;;206    		iTemp = iTemp / 10;
000038  200a              MOVS     r0,#0xa
00003a  fb97f7f0          SDIV     r7,r7,r0
;;;207    		if (iTemp == 0)
00003e  b907              CBNZ     r7,|L32.66|
;;;208    		{
;;;209    			break;
000040  e003              B        |L32.74|
                  |L32.66|
000042  1c60              ADDS     r0,r4,#1              ;203
000044  b2c4              UXTB     r4,r0                 ;203
                  |L32.70|
000046  4544              CMP      r4,r8                 ;203
000048  dbeb              BLT      |L32.34|
                  |L32.74|
00004a  bf00              NOP      
;;;210    		}
;;;211    	}
;;;212    	_pBuf[_len] = 0;
00004c  2000              MOVS     r0,#0
00004e  f8050008          STRB     r0,[r5,r8]
;;;213    
;;;214    	if (_iNumber < 0)	/* 负数 */
000052  2e00              CMP      r6,#0
000054  da10              BGE      |L32.120|
;;;215    	{
;;;216    		for (i = 0; i < _len; i++)
000056  2400              MOVS     r4,#0
000058  e00b              B        |L32.114|
                  |L32.90|
;;;217    		{
;;;218    			if ((_pBuf[i] == ' ') && (_pBuf[i + 1] != ' '))
00005a  5d28              LDRB     r0,[r5,r4]
00005c  2820              CMP      r0,#0x20
00005e  d106              BNE      |L32.110|
000060  1c60              ADDS     r0,r4,#1
000062  5c28              LDRB     r0,[r5,r0]
000064  2820              CMP      r0,#0x20
000066  d002              BEQ      |L32.110|
;;;219    			{
;;;220    				_pBuf[i] = '-';
000068  202d              MOVS     r0,#0x2d
00006a  5528              STRB     r0,[r5,r4]
;;;221    				break;
00006c  e003              B        |L32.118|
                  |L32.110|
00006e  1c60              ADDS     r0,r4,#1              ;216
000070  b2c4              UXTB     r4,r0                 ;216
                  |L32.114|
000072  4544              CMP      r4,r8                 ;216
000074  dbf1              BLT      |L32.90|
                  |L32.118|
000076  bf00              NOP      
                  |L32.120|
;;;222    			}
;;;223    		}
;;;224    	}
;;;225    }
000078  e8bd81f0          POP      {r4-r8,pc}
;;;226    
                          ENDP


                          AREA ||i.mem_set||, CODE, READONLY, ALIGN=1

                  mem_set PROC
;;;167    */
;;;168    void mem_set(char *_tar, char _data, int _len)
000000  b510              PUSH     {r4,lr}
;;;169    {
;;;170    	while (_len--)
000002  e001              B        |L33.8|
                  |L33.4|
;;;171    	{
;;;172    		*_tar++ = _data;
000004  f8001b01          STRB     r1,[r0],#1
                  |L33.8|
000008  0013              MOVS     r3,r2                 ;170
00000a  f1a20201          SUB      r2,r2,#1              ;170
00000e  d1f9              BNE      |L33.4|
;;;173    	}
;;;174    }
000010  bd10              POP      {r4,pc}
;;;175    
                          ENDP


                          AREA ||i.str_cmp||, CODE, READONLY, ALIGN=1

                  str_cmp PROC
;;;148    */
;;;149    int str_cmp(char * s1, char * s2)
000000  4602              MOV      r2,r0
;;;150    {
;;;151    	while ((*s1!=0) && (*s2!=0) && (*s1==*s2))
000002  e001              B        |L34.8|
                  |L34.4|
;;;152    	{
;;;153    		s1++;
000004  1c52              ADDS     r2,r2,#1
;;;154    		s2++;
000006  1c49              ADDS     r1,r1,#1
                  |L34.8|
000008  7810              LDRB     r0,[r2,#0]            ;151
00000a  b128              CBZ      r0,|L34.24|
00000c  7808              LDRB     r0,[r1,#0]            ;151
00000e  b118              CBZ      r0,|L34.24|
000010  7810              LDRB     r0,[r2,#0]            ;151
000012  780b              LDRB     r3,[r1,#0]            ;151
000014  4298              CMP      r0,r3                 ;151
000016  d0f5              BEQ      |L34.4|
                  |L34.24|
;;;155    	}
;;;156    	return *s1 - *s2;
000018  7810              LDRB     r0,[r2,#0]
00001a  780b              LDRB     r3,[r1,#0]
00001c  1ac0              SUBS     r0,r0,r3
;;;157    }
00001e  4770              BX       lr
;;;158    
                          ENDP


                          AREA ||i.str_cpy||, CODE, READONLY, ALIGN=1

                  str_cpy PROC
;;;130    */
;;;131    void str_cpy(char *_tar, char *_src)
000000  bf00              NOP      
                  |L35.2|
;;;132    {
;;;133    	do
;;;134    	{
;;;135    		*_tar++ = *_src;
000002  780a              LDRB     r2,[r1,#0]
000004  f8002b01          STRB     r2,[r0],#1
;;;136    	}
;;;137    	while (*_src++);
000008  f8113b01          LDRB     r3,[r1],#1
00000c  2b00              CMP      r3,#0
00000e  d1f8              BNE      |L35.2|
;;;138    }
000010  4770              BX       lr
;;;139    
                          ENDP


                          AREA ||i.str_len||, CODE, READONLY, ALIGN=1

                  str_len PROC
;;;113    */
;;;114    int str_len(char *_str)
000000  4601              MOV      r1,r0
;;;115    {
;;;116    	int len = 0;
000002  2000              MOVS     r0,#0
;;;117    
;;;118    	while (*_str++) len++;
000004  e000              B        |L36.8|
                  |L36.6|
000006  1c40              ADDS     r0,r0,#1
                  |L36.8|
000008  f8113b01          LDRB     r3,[r1],#1
00000c  2b00              CMP      r3,#0
00000e  d1fa              BNE      |L36.6|
;;;119    	return len;
;;;120    }
000010  4770              BX       lr
;;;121    
                          ENDP


                          AREA ||i.str_to_int||, CODE, READONLY, ALIGN=1

                  str_to_int PROC
;;;234    */
;;;235    int str_to_int(char *_pStr)
000000  b5f0              PUSH     {r4-r7,lr}
;;;236    {
000002  4604              MOV      r4,r0
;;;237    	unsigned char flag;
;;;238    	char *p;
;;;239    	int ulInt;
;;;240    	unsigned char  i;
;;;241    	unsigned char  ucTemp;
;;;242    
;;;243    	p = _pStr;
000004  4621              MOV      r1,r4
;;;244    	if (*p == '-')
000006  7808              LDRB     r0,[r1,#0]
000008  282d              CMP      r0,#0x2d
00000a  d102              BNE      |L37.18|
;;;245    	{
;;;246    		flag = 1;	/* 负数 */
00000c  2501              MOVS     r5,#1
;;;247    		p++;
00000e  1c49              ADDS     r1,r1,#1
000010  e000              B        |L37.20|
                  |L37.18|
;;;248    	}
;;;249    	else
;;;250    	{
;;;251    		flag = 0;
000012  2500              MOVS     r5,#0
                  |L37.20|
;;;252    	}
;;;253    
;;;254    	ulInt = 0;
000014  2200              MOVS     r2,#0
;;;255    	for (i = 0; i < 15; i++)
000016  2600              MOVS     r6,#0
000018  e013              B        |L37.66|
                  |L37.26|
;;;256    	{
;;;257    		ucTemp = *p;
00001a  780b              LDRB     r3,[r1,#0]
;;;258    		if (ucTemp == '.')	/* 遇到小数点，自动跳过1个字节 */
00001c  2b2e              CMP      r3,#0x2e
00001e  d101              BNE      |L37.36|
;;;259    		{
;;;260    			p++;
000020  1c49              ADDS     r1,r1,#1
;;;261    			ucTemp = *p;
000022  780b              LDRB     r3,[r1,#0]
                  |L37.36|
;;;262    		}
;;;263    		if ((ucTemp >= '0') && (ucTemp <= '9'))
000024  2b30              CMP      r3,#0x30
000026  db09              BLT      |L37.60|
000028  2b39              CMP      r3,#0x39
00002a  dc07              BGT      |L37.60|
;;;264    		{
;;;265    			ulInt = ulInt * 10 + (ucTemp - '0');
00002c  f1a30030          SUB      r0,r3,#0x30
000030  eb020782          ADD      r7,r2,r2,LSL #2
000034  eb000247          ADD      r2,r0,r7,LSL #1
;;;266    			p++;
000038  1c49              ADDS     r1,r1,#1
00003a  e000              B        |L37.62|
                  |L37.60|
;;;267    		}
;;;268    		else
;;;269    		{
;;;270    			break;
00003c  e003              B        |L37.70|
                  |L37.62|
00003e  1c70              ADDS     r0,r6,#1              ;255
000040  b2c6              UXTB     r6,r0                 ;255
                  |L37.66|
000042  2e0f              CMP      r6,#0xf               ;255
000044  dbe9              BLT      |L37.26|
                  |L37.70|
000046  bf00              NOP      
;;;271    		}
;;;272    	}
;;;273    
;;;274    	if (flag == 1)
000048  2d01              CMP      r5,#1
00004a  d101              BNE      |L37.80|
;;;275    	{
;;;276    		return -ulInt;
00004c  4250              RSBS     r0,r2,#0
                  |L37.78|
;;;277    	}
;;;278    	return ulInt;
;;;279    }
00004e  bdf0              POP      {r4-r7,pc}
                  |L37.80|
000050  4610              MOV      r0,r2                 ;278
000052  e7fc              B        |L37.78|
;;;280    
                          ENDP


                          AREA ||.bss||, DATA, NOINIT, ALIGN=2

                  H_State
                          %        20
                  gauge_temp
                          %        16
                  ucaGprsBuf
                          %        256
                  JZXX_NO
                          %        56
                  JZSX_NO
                          %        56
                  CYBHL_NO
                          %        56
                  CWBHL_NO
                          %        56
                  ZXBHL_NO
                          %        56
                  Alarm_NO
                          %        24
                  tide_sec
                          %        12
                  tide_3s
                          %        80
                  tide_temp
                          %        80
                  diff
                          %        12
                  RxBuffer5
                          %        32
                  RxBuffer2
                          %        64
                  TxBuffer2
                          %        32
                  strIn
                          %        40
                  cmdItem
                          %        80
                  strOut
                          %        1280

                          AREA ||.constdata||, DATA, READONLY, ALIGN=0

                  s_CRCHi
000000  00c18140          DCB      0x00,0xc1,0x81,0x40
000004  01c08041          DCB      0x01,0xc0,0x80,0x41
000008  01c08041          DCB      0x01,0xc0,0x80,0x41
00000c  00c18140          DCB      0x00,0xc1,0x81,0x40
000010  01c08041          DCB      0x01,0xc0,0x80,0x41
000014  00c18140          DCB      0x00,0xc1,0x81,0x40
000018  00c18140          DCB      0x00,0xc1,0x81,0x40
00001c  01c08041          DCB      0x01,0xc0,0x80,0x41
000020  01c08041          DCB      0x01,0xc0,0x80,0x41
000024  00c18140          DCB      0x00,0xc1,0x81,0x40
000028  00c18140          DCB      0x00,0xc1,0x81,0x40
00002c  01c08041          DCB      0x01,0xc0,0x80,0x41
000030  00c18140          DCB      0x00,0xc1,0x81,0x40
000034  01c08041          DCB      0x01,0xc0,0x80,0x41
000038  01c08041          DCB      0x01,0xc0,0x80,0x41
00003c  00c18140          DCB      0x00,0xc1,0x81,0x40
000040  01c08041          DCB      0x01,0xc0,0x80,0x41
000044  00c18140          DCB      0x00,0xc1,0x81,0x40
000048  00c18140          DCB      0x00,0xc1,0x81,0x40
00004c  01c08041          DCB      0x01,0xc0,0x80,0x41
000050  00c18140          DCB      0x00,0xc1,0x81,0x40
000054  01c08041          DCB      0x01,0xc0,0x80,0x41
000058  01c08041          DCB      0x01,0xc0,0x80,0x41
00005c  00c18140          DCB      0x00,0xc1,0x81,0x40
000060  00c18140          DCB      0x00,0xc1,0x81,0x40
000064  01c08041          DCB      0x01,0xc0,0x80,0x41
000068  01c08041          DCB      0x01,0xc0,0x80,0x41
00006c  00c18140          DCB      0x00,0xc1,0x81,0x40
000070  01c08041          DCB      0x01,0xc0,0x80,0x41
000074  00c18140          DCB      0x00,0xc1,0x81,0x40
000078  00c18140          DCB      0x00,0xc1,0x81,0x40
00007c  01c08041          DCB      0x01,0xc0,0x80,0x41
000080  01c08041          DCB      0x01,0xc0,0x80,0x41
000084  00c18140          DCB      0x00,0xc1,0x81,0x40
000088  00c18140          DCB      0x00,0xc1,0x81,0x40
00008c  01c08041          DCB      0x01,0xc0,0x80,0x41
000090  00c18140          DCB      0x00,0xc1,0x81,0x40
000094  01c08041          DCB      0x01,0xc0,0x80,0x41
000098  01c08041          DCB      0x01,0xc0,0x80,0x41
00009c  00c18140          DCB      0x00,0xc1,0x81,0x40
0000a0  00c18140          DCB      0x00,0xc1,0x81,0x40
0000a4  01c08041          DCB      0x01,0xc0,0x80,0x41
0000a8  01c08041          DCB      0x01,0xc0,0x80,0x41
0000ac  00c18140          DCB      0x00,0xc1,0x81,0x40
0000b0  01c08041          DCB      0x01,0xc0,0x80,0x41
0000b4  00c18140          DCB      0x00,0xc1,0x81,0x40
0000b8  00c18140          DCB      0x00,0xc1,0x81,0x40
0000bc  01c08041          DCB      0x01,0xc0,0x80,0x41
0000c0  00c18140          DCB      0x00,0xc1,0x81,0x40
0000c4  01c08041          DCB      0x01,0xc0,0x80,0x41
0000c8  01c08041          DCB      0x01,0xc0,0x80,0x41
0000cc  00c18140          DCB      0x00,0xc1,0x81,0x40
0000d0  01c08041          DCB      0x01,0xc0,0x80,0x41
0000d4  00c18140          DCB      0x00,0xc1,0x81,0x40
0000d8  00c18140          DCB      0x00,0xc1,0x81,0x40
0000dc  01c08041          DCB      0x01,0xc0,0x80,0x41
0000e0  01c08041          DCB      0x01,0xc0,0x80,0x41
0000e4  00c18140          DCB      0x00,0xc1,0x81,0x40
0000e8  00c18140          DCB      0x00,0xc1,0x81,0x40
0000ec  01c08041          DCB      0x01,0xc0,0x80,0x41
0000f0  00c18140          DCB      0x00,0xc1,0x81,0x40
0000f4  01c08041          DCB      0x01,0xc0,0x80,0x41
0000f8  01c08041          DCB      0x01,0xc0,0x80,0x41
0000fc  00c18140          DCB      0x00,0xc1,0x81,0x40
                  s_CRCLo
000100  00c0c101          DCB      0x00,0xc0,0xc1,0x01
000104  c30302c2          DCB      0xc3,0x03,0x02,0xc2
000108  c60607c7          DCB      0xc6,0x06,0x07,0xc7
00010c  05c5c404          DCB      0x05,0xc5,0xc4,0x04
000110  cc0c0dcd          DCB      0xcc,0x0c,0x0d,0xcd
000114  0fcfce0e          DCB      0x0f,0xcf,0xce,0x0e
000118  0acacb0b          DCB      0x0a,0xca,0xcb,0x0b
00011c  c90908c8          DCB      0xc9,0x09,0x08,0xc8
000120  d81819d9          DCB      0xd8,0x18,0x19,0xd9
000124  1bdbda1a          DCB      0x1b,0xdb,0xda,0x1a
000128  1ededf1f          DCB      0x1e,0xde,0xdf,0x1f
00012c  dd1d1cdc          DCB      0xdd,0x1d,0x1c,0xdc
000130  14d4d515          DCB      0x14,0xd4,0xd5,0x15
000134  d71716d6          DCB      0xd7,0x17,0x16,0xd6
000138  d21213d3          DCB      0xd2,0x12,0x13,0xd3
00013c  11d1d010          DCB      0x11,0xd1,0xd0,0x10
000140  f03031f1          DCB      0xf0,0x30,0x31,0xf1
000144  33f3f232          DCB      0x33,0xf3,0xf2,0x32
000148  36f6f737          DCB      0x36,0xf6,0xf7,0x37
00014c  f53534f4          DCB      0xf5,0x35,0x34,0xf4
000150  3cfcfd3d          DCB      0x3c,0xfc,0xfd,0x3d
000154  ff3f3efe          DCB      0xff,0x3f,0x3e,0xfe
000158  fa3a3bfb          DCB      0xfa,0x3a,0x3b,0xfb
00015c  39f9f838          DCB      0x39,0xf9,0xf8,0x38
000160  28e8e929          DCB      0x28,0xe8,0xe9,0x29
000164  eb2b2aea          DCB      0xeb,0x2b,0x2a,0xea
000168  ee2e2fef          DCB      0xee,0x2e,0x2f,0xef
00016c  2dedec2c          DCB      0x2d,0xed,0xec,0x2c
000170  e42425e5          DCB      0xe4,0x24,0x25,0xe5
000174  27e7e626          DCB      0x27,0xe7,0xe6,0x26
000178  22e2e323          DCB      0x22,0xe2,0xe3,0x23
00017c  e12120e0          DCB      0xe1,0x21,0x20,0xe0
000180  a06061a1          DCB      0xa0,0x60,0x61,0xa1
000184  63a3a262          DCB      0x63,0xa3,0xa2,0x62
000188  66a6a767          DCB      0x66,0xa6,0xa7,0x67
00018c  a56564a4          DCB      0xa5,0x65,0x64,0xa4
000190  6cacad6d          DCB      0x6c,0xac,0xad,0x6d
000194  af6f6eae          DCB      0xaf,0x6f,0x6e,0xae
000198  aa6a6bab          DCB      0xaa,0x6a,0x6b,0xab
00019c  69a9a868          DCB      0x69,0xa9,0xa8,0x68
0001a0  78b8b979          DCB      0x78,0xb8,0xb9,0x79
0001a4  bb7b7aba          DCB      0xbb,0x7b,0x7a,0xba
0001a8  be7e7fbf          DCB      0xbe,0x7e,0x7f,0xbf
0001ac  7dbdbc7c          DCB      0x7d,0xbd,0xbc,0x7c
0001b0  b47475b5          DCB      0xb4,0x74,0x75,0xb5
0001b4  77b7b676          DCB      0x77,0xb7,0xb6,0x76
0001b8  72b2b373          DCB      0x72,0xb2,0xb3,0x73
0001bc  b17170b0          DCB      0xb1,0x71,0x70,0xb0
0001c0  50909151          DCB      0x50,0x90,0x91,0x51
0001c4  93535292          DCB      0x93,0x53,0x52,0x92
0001c8  96565797          DCB      0x96,0x56,0x57,0x97
0001cc  55959454          DCB      0x55,0x95,0x94,0x54
0001d0  9c5c5d9d          DCB      0x9c,0x5c,0x5d,0x9d
0001d4  5f9f9e5e          DCB      0x5f,0x9f,0x9e,0x5e
0001d8  5a9a9b5b          DCB      0x5a,0x9a,0x9b,0x5b
0001dc  99595898          DCB      0x99,0x59,0x58,0x98
0001e0  88484989          DCB      0x88,0x48,0x49,0x89
0001e4  4b8b8a4a          DCB      0x4b,0x8b,0x8a,0x4a
0001e8  4e8e8f4f          DCB      0x4e,0x8e,0x8f,0x4f
0001ec  8d4d4c8c          DCB      0x8d,0x4d,0x4c,0x8c
0001f0  44848545          DCB      0x44,0x84,0x85,0x45
0001f4  87474686          DCB      0x87,0x47,0x46,0x86
0001f8  82424383          DCB      0x82,0x42,0x43,0x83
0001fc  41818040          DCB      0x41,0x81,0x80,0x40
                  Enter
000200  0d0a00            DCB      0x0d,0x0a,0x00
                  Error_Message
000203  42                DCB      0x42
000204  41442043          DCB      0x41,0x44,0x20,0x43
000208  4f4d4d41          DCB      0x4f,0x4d,0x4d,0x41
00020c  4e442e0d          DCB      0x4e,0x44,0x2e,0x0d
000210  0a00              DCB      0x0a,0x00
                  Set_Sucess
000212  3c54              DCB      0x3c,0x54
000214  3e0d0a00          DCB      0x3e,0x0d,0x0a,0x00
                  Set_Faild
000218  3c463e0d          DCB      0x3c,0x46,0x3e,0x0d
00021c  0a00              DCB      0x0a,0x00

                          AREA ||.data||, DATA, ALIGN=2

                  H_Sen_NO
000000  01010101          DCB      0x01,0x01,0x01,0x01
000004  01010101          DCB      0x01,0x01,0x01,0x01
000008  01010101          DCB      0x01,0x01,0x01,0x01
                  read_gauge_flag
00000c  00                DCB      0x00
                  timer_1s
00000d  000000            DCB      0x00,0x00,0x00
                  timer1_1s
                          DCD      0x00000000
                  timer1_1s_1
                          DCD      0x00000000
                  time_sec_counter
                          DCD      0x00000000
                  TxBuffer5
00001c  00                DCB      0x00
                  D_Addr
00001d  01                DCB      0x01
                  s_cmd1
00001e  ffff              DCB      0xff,0xff
000020  ffffffff          DCB      0xff,0xff,0xff,0xff
000024  ff028000          DCB      0xff,0x02,0x80,0x00
000028  0082              DCB      0x00,0x82
                  s_cmd2
00002a  ffff              DCB      0xff,0xff
00002c  ffffffff          DCB      0xff,0xff,0xff,0xff
000030  ff8262c7          DCB      0xff,0x82,0x62,0xc7
000034  1041c803          DCB      0x10,0x41,0xc8,0x03
000038  00bd              DCB      0x00,0xbd
                  read_radar_count
00003a  0000              DCW      0x0000
                  gauge_high
00003c  00000000          DCFS     0x00000000 ; 0
                  gauge_read_sucess
000040  00                DCB      0x00
                  temp_ptr
000041  00                DCB      0x00
                  ||ID||
000042  4944              DCB      0x49,0x44
000044  2d2dc9e8          DCB      0x2d,0x2d,0xc9,0xe8
000048  d6c3bbf2          DCB      0xd6,0xc3,0xbb,0xf2
00004c  b6c1c8a1          DCB      0xb6,0xc1,0xc8,0xa1
000050  c6f8cff3          DCB      0xc6,0xf8,0xcf,0xf3
000054  b9dbb2e2          DCB      0xb9,0xdb,0xb2,0xe2
000058  d5beb5c4          DCB      0xd5,0xbe,0xb5,0xc4
00005c  c7f8d5be          DCB      0xc7,0xf8,0xd5,0xbe
000060  bac5200d          DCB      0xba,0xc5,0x20,0x0d
000064  0ac3fcc1          DCB      0x0a,0xc3,0xfc,0xc1
000068  eeb7fba3          DCB      0xee,0xb7,0xfb,0xa3
00006c  ba49440d          DCB      0xba,0x49,0x44,0x0d
000070  0ab2ceca          DCB      0x0a,0xb2,0xce,0xca
000074  fda3bacc          DCB      0xfd,0xa3,0xba,0xcc
000078  a8d5bec7          DCB      0xa8,0xd5,0xbe,0xc7
00007c  f8d5beba          DCB      0xf8,0xd5,0xbe,0xba
000080  c5a3a835          DCB      0xc5,0xa3,0xa8,0x35
000084  cebbcafd          DCB      0xce,0xbb,0xca,0xfd
000088  d7d6bbf2          DCB      0xd7,0xd6,0xbb,0xf2
00008c  d7d6c4b8          DCB      0xd7,0xd6,0xc4,0xb8
000090  a3a9200d          DCB      0xa3,0xa9,0x20,0x0d
000094  0a00              DCB      0x0a,0x00
                  ALT
000096  414c              DCB      0x41,0x4c
000098  542d2dc9          DCB      0x54,0x2d,0x2d,0xc9
00009c  e8d6c3bb          DCB      0xe8,0xd6,0xc3,0xbb
0000a0  f2b6c1c8          DCB      0xf2,0xb6,0xc1,0xc8
0000a4  a1b9dbb2          DCB      0xa1,0xb9,0xdb,0xb2
0000a8  e2b3a1b0          DCB      0xe2,0xb3,0xa1,0xb0
0000ac  cebaa3b8          DCB      0xce,0xba,0xa3,0xb8
0000b0  dfb6c820          DCB      0xdf,0xb6,0xc8,0x20
0000b4  0d0ac3fc          DCB      0x0d,0x0a,0xc3,0xfc
0000b8  c1eeb7fb          DCB      0xc1,0xee,0xb7,0xfb
0000bc  a3ba414c          DCB      0xa3,0xba,0x41,0x4c
0000c0  54200d0a          DCB      0x54,0x20,0x0d,0x0a
0000c4  00                DCB      0x00
                  radar_state
0000c5  00                DCB      0x00
                  snap_shot_flag
0000c6  00                DCB      0x00
                  stop_wdg_flag
0000c7  00                DCB      0x00
                  ||DNO||
0000c8  444e4f2d          DCB      0x44,0x4e,0x4f,0x2d
0000cc  2dc9e8d6          DCB      0x2d,0xc9,0xe8,0xd6
0000d0  c3bbf2b6          DCB      0xc3,0xbb,0xf2,0xb6
0000d4  c1c8a1c9          DCB      0xc1,0xc8,0xa1,0xc9
0000d8  e8b1b8d0          DCB      0xe8,0xb1,0xb8,0xd0
0000dc  f2bac50d          DCB      0xf2,0xba,0xc5,0x0d
0000e0  0ac3fcc1          DCB      0x0a,0xc3,0xfc,0xc1
0000e4  eeb7fba3          DCB      0xee,0xb7,0xfb,0xa3
0000e8  ba444e4f          DCB      0xba,0x44,0x4e,0x4f
0000ec  0d0a00            DCB      0x0d,0x0a,0x00
                  SENST
0000ef  53                DCB      0x53
0000f0  454e5354          DCB      0x45,0x4e,0x53,0x54
0000f4  2d2dc9e8          DCB      0x2d,0x2d,0xc9,0xe8
0000f8  d6c3bbf2          DCB      0xd6,0xc3,0xbb,0xf2
0000fc  b6c1c8a1          DCB      0xb6,0xc1,0xc8,0xa1
000100  b2c9b4ab          DCB      0xb2,0xc9,0xb4,0xab
000104  b8d0c6f7          DCB      0xb8,0xd0,0xc6,0xf7
000108  d7b4ccac          DCB      0xd7,0xb4,0xcc,0xac
00010c  200d0ac3          DCB      0x20,0x0d,0x0a,0xc3
000110  fcc1eeb7          DCB      0xfc,0xc1,0xee,0xb7
000114  fba3ba53          DCB      0xfb,0xa3,0xba,0x53
000118  454e5354          DCB      0x45,0x4e,0x53,0x54
00011c  20585858          DCB      0x20,0x58,0x58,0x58
000120  200d0a00          DCB      0x20,0x0d,0x0a,0x00
                  sensor_state
000124  01010101          DCB      0x01,0x01,0x01,0x01
000128  01010101          DCB      0x01,0x01,0x01,0x01
00012c  01010101          DCB      0x01,0x01,0x01,0x01
                  device_id
000130  51                DCB      0x51
                  element_counter
000131  01                DCB      0x01
                  state_counter
000132  0100              DCB      0x01,0x00
                  timer0
                          DCD      0x00000000
                  timer1
                          DCD      0x00000000
                  timer2
                          DCD      0x00000000
                  ZYGD_Timer
                          DCD      0x00000000
                  Rec_Year
000144  0000              DCB      0x00,0x00
                  Rec_Month
000146  0000              DCB      0x00,0x00
                  Rec_Day
000148  0000              DCB      0x00,0x00
                  Rec_Hour
00014a  00                DCB      0x00
                  Rec_Min
00014b  00                DCB      0x00
                  Rec_Sec
00014c  0000              DCB      0x00,0x00
                  Cur_Year
00014e  0000              DCB      0x00,0x00
                  Cur_Month
000150  0000              DCB      0x00,0x00
                  Cur_Day
000152  0000              DCB      0x00,0x00
                  Cur_WeekDay
000154  0000              DCB      0x00,0x00
                  ADCConvertedValue
000156  0000              DCB      0x00,0x00
                  Cur_Hour
000158  00                DCB      0x00
                  Cur_Min
000159  00                DCB      0x00
                  Cur_Sec
00015a  0000              DCB      0x00,0x00
                  guionData
                          DCD      0x00000000
                  tide_min
                          DCD      0x00000000
                  freq_3sec
                          DCD      0x00000000
                  freq_1min
                          DCD      0x00000000
                  cur_min_tide
                          DCD      0x00000000
                  TxCounter5
000170  00                DCB      0x00
                  TxPointer5
000171  00                DCB      0x00
                  RxCounter5
000172  00                DCB      0x00
                  RxPointer5
000173  00                DCB      0x00
                  TR_FLAG5
000174  00                DCB      0x00
                  Tx_Fra_Len5
000175  00                DCB      0x00
                  Rx_Fra_Len5
000176  00                DCB      0x00
                  R_interval5
000177  00                DCB      0x00
                  Com_Type5
000178  00                DCB      0x00
                  TxCounter2
000179  00                DCB      0x00
                  TxPointer2
00017a  00                DCB      0x00
                  RxCounter2
00017b  00                DCB      0x00
                  RxPointer2
00017c  00                DCB      0x00
                  TR_FLAG2
00017d  00                DCB      0x00
                  Tx_Fra_Len2
00017e  00                DCB      0x00
                  Rx_Fra_Len2
00017f  00                DCB      0x00
                  R_interval2
000180  00                DCB      0x00
                  Com_Type2
000181  00                DCB      0x00
                  S_Addr
000182  0000              DCB      0x00,0x00
                  Temp_fVal
                          DCD      0x00000000
                  Hum_fVal
                          DCD      0x00000000
                  g_tCurrent
                          %        8
                  g_tHost
                          %        8
                  alt_value
                          DCD      0x00000000
                  sent_checksum
                          DCD      0x00000000

;*** Start embedded assembler ***

#line 1 "..\\..\\User\\bsp\\src\\bsp_user_lib.c"
	AREA ||.rev16_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___14_bsp_user_lib_c_H_Sen_NO____REV16|
#line 114 "..\\..\\Libraries\\CMSIS\\Include\\core_cmInstr.h"
|__asm___14_bsp_user_lib_c_H_Sen_NO____REV16| PROC
#line 115

 rev16 r0, r0
 bx lr
	ENDP
	AREA ||.revsh_text||, CODE, READONLY
	THUMB
	EXPORT |__asm___14_bsp_user_lib_c_H_Sen_NO____REVSH|
#line 128
|__asm___14_bsp_user_lib_c_H_Sen_NO____REVSH| PROC
#line 129

 revsh r0, r0
 bx lr
	ENDP

;*** End   embedded assembler ***
